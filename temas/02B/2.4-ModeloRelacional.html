<!DOCTYPE html><html lang="es" class="no-js"><head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://jssdocente.github.io/bd2526/temas/02B/2.4-ModeloRelacional.html">
      
      
        <link rel="prev" href="index.html">
      
      
        <link rel="next" href="2.B-Actividades.html">
      
      
        
      
      
      <link rel="icon" href="../../imagenes/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>2.4 El modelo relacional - Bases de Datos - Curso 25/26</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      

  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M17%2013h-4v4h-2v-4H7v-2h4V7h2v4h4m-5-9A10%2010%200%200%200%202%2012a10%2010%200%200%200%2010%2010%2010%2010%200%200%200%2010-10A10%2010%200%200%200%2012%202%22/%3E%3C/svg%3E');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../extra/css/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="Teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#24-el-modelo-relacional" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../../index.html" title="Bases de Datos - Curso 25/26" class="md-header__button md-logo" aria-label="Bases de Datos - Curso 25/26" data-md-component="logo">
      
  <img src="../../imagenes/logofp.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Bases de Datos - Curso 25/26
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              2.4 El modelo relacional
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="Teal" aria-label="Cambiar a modo noche" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo noche" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="Teal" aria-label="Cambiar a modo d칤a" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo d칤a" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="B칰squeda" placeholder="B칰squeda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando b칰squeda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegaci칩n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../index.html" title="Bases de Datos - Curso 25/26" class="md-nav__button md-logo" aria-label="Bases de Datos - Curso 25/26" data-md-component="logo">
      
  <img src="../../imagenes/logofp.png" alt="logo">

    </a>
    Bases de Datos - Curso 25/26
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    01 - Sistemas de Almacenamiento
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3">
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    02.A - Dise침o conceptual: Modelo E/R
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    02.A - Dise침o conceptual: Modelo E/R
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02/2.1-ModeloER.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.1 El modelo ER
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02/2.2-Restricciones.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.2 Restricciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02/2.3-Modelo-extendido.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.3 Modelo Extendido
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02/2.A-Actividades.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actividades
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    02.B - Dise침o L칩gico: Relacional
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    02.B - Dise침o L칩gico: Relacional
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    2.4 El modelo relacional
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="2.4-ModeloRelacional.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    2.4 El modelo relacional
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#241-elementos" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.1 Elementos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.1 Elementos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dominio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dominio
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#claves" class="md-nav__link">
    <span class="md-ellipsis">
      
        Claves
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#242restricciones-semanticas" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.2Restricciones sem치nticas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.2Restricciones sem치nticas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nulos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nulos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integridad-de-entidad" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integridad de entidad
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integridad-referencial" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integridad referencial
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#243-notacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.3 Notaci칩n
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.3 Notaci칩n">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#representacion-grafica" class="md-nav__link">
    <span class="md-ellipsis">
      
        Representaci칩n gr치fica
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diccionario-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Diccionario de datos
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#244-normalizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.4 Normalizaci칩n
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.4 Normalizaci칩n">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anomalias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Anomal칤as
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencias-funcionales" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencias funcionales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formas-normales" class="md-nav__link">
    <span class="md-ellipsis">
      
        Formas Normales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-paso-a-paso" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo Paso a Paso
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desnormalizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Desnormalizaci칩n
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Referencias
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="2.B-Actividades.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actividades
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5">
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    02.C - Dise침o L칩gico: Transformaci칩n
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    02.C - Dise침o L칩gico: Transformaci칩n
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02C/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02C/2.5-Transformacion.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.4 Transformaci칩n ER a MR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../02C/2.C-Actividades.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actividades
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6">
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    03 - Dise침o f칤sico: DDL y DCL
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    03 - Dise침o f칤sico: DDL y DCL
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03/3.1-DisenoFisico-DDL.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3.1 Dise침o f칤sico: DDL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../03/Actividades-DDL.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Actividades DDL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_1eval/Repaso.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Evaluaci칩n
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#241-elementos" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.1 Elementos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.1 Elementos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dominio" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dominio
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#claves" class="md-nav__link">
    <span class="md-ellipsis">
      
        Claves
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#242restricciones-semanticas" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.2Restricciones sem치nticas
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.2Restricciones sem치nticas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nulos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Nulos
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integridad-de-entidad" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integridad de entidad
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integridad-referencial" class="md-nav__link">
    <span class="md-ellipsis">
      
        Integridad referencial
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#243-notacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.3 Notaci칩n
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.3 Notaci칩n">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#representacion-grafica" class="md-nav__link">
    <span class="md-ellipsis">
      
        Representaci칩n gr치fica
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#diccionario-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      
        Diccionario de datos
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#244-normalizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.4.4 Normalizaci칩n
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4.4 Normalizaci칩n">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anomalias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Anomal칤as
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencias-funcionales" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencias funcionales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formas-normales" class="md-nav__link">
    <span class="md-ellipsis">
      
        Formas Normales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo-paso-a-paso" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ejemplo Paso a Paso
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desnormalizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Desnormalizaci칩n
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Referencias
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="Navegaci칩n">
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../../index.html" class="md-path__link">
        
  <span class="md-ellipsis">
    Inicio
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="index.html" class="md-path__link">
          
  <span class="md-ellipsis">
    02.B - Dise침o L칩gico: Relacional
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="24-el-modelo-relacional"><strong>2.4. El modelo relacional</strong><a class="headerlink" href="#24-el-modelo-relacional" title="Permanent link">췄</a></h1>
<div class="admonition tip">
<p class="admonition-title">Presentaci칩n Modelo Relacional</p>
<p>游댠 Fundamental ver: <a href="https://view.genially.com/671f4aa89a3556cea96e8ac2/learning-experience-didactic-unit-modelo-relacional">Presentaci칩n en Genially del modelo relacional</a></p>
</div>
<p>En la <a href="../02/2.1-ModeloER.html">unidad anterior</a> estudiamos que un <strong>modelo l칩gico</strong> representa de forma conceptual la estructura de una base de datos, pero dependiendo del SGBD a utilizar.</p>
<figure>
  <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="images/03modelo-logico.png" data-desc-position="bottom"><img src="images/03modelo-logico.png" width="100%"></a>
<br>
<figcaption>Modelo l칩gico</figcaption>
</figure>
<p>Si nuestra elecci칩n es un SGBD relacional, el modelo por excelencia es el <strong>modelo relacional</strong>. Creado por <em>Codd</em> a finales de los a침os 60, aunque los primeros SGBD relacionales no aparecieron hasta los 80. Una base de datos modelada mediante el modelo relacional se conoce como una base de datos relacional.</p>
<p>Supuso una revoluci칩n en el dise침o l칩gico de las base de datos, dando lugar a la segunda generaci칩n de SGBD.</p>
<p>Es el modelo l칩gico m치s extendido, y <em>por ende</em>, el mercado de SGBD est치 copado de soluciones relacionales como <em>Oracle</em>, <em>PostgreSQL</em>, <em>MySQL</em>, <em>SQL Server</em>, etc...</p>
<p>Los objetivos del modelo relacional son:</p>
<ul>
<li>Independencia f칤sica<ul>
<li>La forma de almacenar los datos no debe influir en su manipulaci칩n l칩gica</li>
</ul>
</li>
<li>Independencia l칩gica<ul>
<li>Las aplicaciones que usan el SGBD no deben sufrir una modificaci칩n cuando se modifique una base de datos.</li>
</ul>
</li>
<li>Flexibilidad<ul>
<li>Diferentes vistas para diferentes usuarios</li>
</ul>
</li>
<li>Uniformidad</li>
<li>Sencillez</li>
</ul>
<h2 id="241-elementos">2.4.1 Elementos<a class="headerlink" href="#241-elementos" title="Permanent link">췄</a></h2>
<p>El elemento principal es la <strong>relaci칩n</strong>, que consiste en una tabla que contiene filas y columnas. Una base de datos relacional consiste en un conjunto de tablas relacionadas donde cada tabla tiene un nombre 칰nico.</p>
<p>Las relaciones se conocen como tablas relacionales o m치s com칰nmente como <strong>tablas</strong>.</p>
<p>Cada <strong>columna</strong> (tambi칠n llamado <strong>campo</strong> o atributo de la relaci칩n) almacena informaci칩n sobre una propiedad determinada de la tabla, como puede ser el nombre, DNI, apellidos o la edad.</p>
<p>Cada <strong>fila</strong> posee una ocurrencia o ejemplar de la instancia o relaci칩n representada por la tabla (a las filas se las llama tambi칠n <strong>tuplas</strong> o <strong>registros</strong>).</p>
<figure>
  <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="images/03elementos-tabla.png" data-desc-position="bottom"><img src="images/03elementos-tabla.png" width="100%"></a>
<br>
<figcaption>Elementos de una tabla</figcaption>
</figure>
<p>As칤 pues, un ejemplo de una relaci칩n <code>CLIENTE</code> de grado 5 (<code>dni</code>, <code>nombre</code>, <code>direccion</code>, <code>fecha</code> y <code>genero</code>) con 3 tuplas ser칤a:</p>
<table>
<thead>
<tr>
<th>dni</th>
<th>nombre</th>
<th>direcci칩n</th>
<th>fecha</th>
<th>genero</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>Pedro Casas</td>
<td>Avenida de la libertad, 23</td>
<td>21/03/24</td>
<td>M</td>
</tr>
<tr>
<td>48123456B</td>
<td>Mireia Vidal</td>
<td>Porta de la Morera, 6</td>
<td>22/03/24</td>
<td>F</td>
</tr>
<tr>
<td>34123456C</td>
<td>Laura Meca</td>
<td>Pla칞a de Baix, s/n</td>
<td>23/03/24</td>
<td>F</td>
</tr>
</tbody>
</table>
<p>Como podemos observar, en la cabecera est치n los nombres de las columnas, y cada fila supone una nueva ocurrencia. Podemos referirnos al campo de una tabla mediante la notaci칩n <strong><code>TABLA.campo</code></strong>, por ejemplo, <code>CLIENTE.nombre</code> referencia el campo <code>nombre</code> de la tabla <code>CLIENTE</code>.</p>
<p>En una misma tabla, no podemos repetir el nombre de las columnas, aunque s칤 que lo podemos repetir en tablas diferentes. Por ejemplo, <code>CLIENTE.dni</code> y <code>PROVEEDOR.dni</code> ser칤an campos de tablas diferentes con el mismo nombre.</p>
<p>Una restricci칩n del modelo relacional es que dentro de una tabla no puede haber dos tuplas iguales, ya que implicar칤a el mismo dato dos veces. Adem치s, todas las tuplas deben tener el mismo n칰mero de campos, aunque alguno est칠 vac칤o (se permiten campos con valores nulos).</p>
<div class="admonition sa">
<p class="admonition-title">El orden no importa</p>
<p>El orden de las tuplas no importa, ni tampoco el orden de los atributos.</p>
<p>Dicho esto, esta ser칤a otra representaci칩n de la misma tabla:</p>
<table>
<thead>
<tr>
<th>dni</th>
<th>direcci칩n</th>
<th>genero</th>
<th>fecha</th>
<th>nombre</th>
</tr>
</thead>
<tbody>
<tr>
<td>34123456C</td>
<td>Pla칞a de Baix, s/n</td>
<td>F</td>
<td>23/03/24</td>
<td>Laura Meca</td>
</tr>
<tr>
<td>48123456B</td>
<td>Porta de la Morera, 6</td>
<td>F</td>
<td>22/03/24</td>
<td>Mireia Vidal</td>
</tr>
<tr>
<td>12345678A</td>
<td>Avenida de la libertad, 23</td>
<td>M</td>
<td>21/03/24</td>
<td>Pedro Casas</td>
</tr>
</tbody>
</table>
</div>
<h3 id="dominio">Dominio<a class="headerlink" href="#dominio" title="Permanent link">췄</a></h3>
<p>El dominio de un atributo indica el tipo de valores para un determinado campo. Dicho de otro modo, cada atributo s칩lo puede tomar un valor en el dominio en el que est치 inscrito.</p>
<p>Si nos basamos en el ejemplo anterior, tendr칤amos que los dominios ser칤an:</p>
<ul>
<li><code>dni</code>: 8 d칤gitos y una letra.</li>
<li><code>nombre</code>: cadena de hasta 32 caracteres.</li>
<li><code>direcci칩n</code>: cadena de hasta 64 caracteres.</li>
<li><code>fecha</code>: fecha compuesta de <code>dd/mm/yy</code>.</li>
<li><code>genero</code>: caracteres <code>M</code>, <code>F</code> o <code>?</code></li>
</ul>
<p>Como cada atributo s칩lo puede tomar un valor para una misma tupla (los valores de los campos son at칩micos), no podr칤amos poner dos DNIs o dos fechas a un mismo cliente.</p>
<p>A muy alto nivel, los tipos de datos b치sicos para los dominios son:</p>
<ul>
<li>Texto: cadena de caracteres, letras, s칤mbolos o n칰meros con los que no se realizan operaciones (por ejemplo, un c칩digo postal).</li>
<li>Num칠rico: n칰meros sobre los cuales se pueden realizar operaciones matem치ticas.</li>
<li>Fecha/hora: fechas, horas, o ambas.</li>
<li>Booleano (V/F - S칤/No): datos con dos posibles valores.</li>
<li>Autonum칠rico: secuencia (1,2,3,...) que el SGBD incrementa de forma autom치tica cuando se a침ade un nuevo registro.</li>
</ul>
<p>Tipos de dominio</p>
<p>Cuando estudiemos el modelo f칤sico haremos m치s hincapi칠 en todos los tipos de dominio existente. De momento, lo m치s importante es tener claro que todos los valores de un determinado campo en una tabla comparten el mismo dominio.</p>
<h3 id="claves">Claves<a class="headerlink" href="#claves" title="Permanent link">췄</a></h3>
<p>Cada tabla tiene una columna (o en algunos casos un conjunto de columnas) que sirven como <strong>clave primaria</strong> (<strong>PK</strong> / <em>primary key</em>). Su prop칩sito es distinguir a una tupla de otra dentro de la tabla.</p>
<p>Cada tabla debe tener una clave primaria, la cual es una columna (o conjunto de columnas) cuyo valor es 칰nico para cada fila.</p>
<p>Volvamos al ejemplo anterior sobre la tabla <code>CLIENTE</code>:</p>
<table>
<thead>
<tr>
<th>dni</th>
<th>nombre</th>
<th>direcci칩n</th>
<th>fecha</th>
<th>genero</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>Pedro Casas</td>
<td>Avenida de la libertad, 23</td>
<td>21/03/24</td>
<td>M</td>
</tr>
<tr>
<td>48123456B</td>
<td>Mireia Vidal</td>
<td>Porta de la Morera, 6</td>
<td>22/03/24</td>
<td>F</td>
</tr>
<tr>
<td>34123456C</td>
<td>Laura Meca</td>
<td>Pla칞a de Baix, s/n</td>
<td>23/03/24</td>
<td>F</td>
</tr>
</tbody>
</table>
<p>El campo <code>dni</code> funciona como clave primaria de la tabla, ya que no hay dos clientes con el mismo DNI. Pero 쯫 el campo <code>nombre</code>? Aunque en la tabla no tengamos ahora mismo dos clientes con el mismo nombre, conceptualmente sabemos que se puede dar el caso, y por lo tanto, no ser칤a una elecci칩n correcta, ya que el nombre de un cliente no lo identifica de forma univoca.</p>
<h4 id="clave-subrogada">Clave subrogada<a class="headerlink" href="#clave-subrogada" title="Permanent link">췄</a></h4>
<p>Cuando en una tabla no tengamos una columna que identifique claramente a una tabla, podemos crear una nueva columna num칠rica, normalmente denominada <code>id</code>, que tomas valores secuenciales y autoincrementables, de manera que act칰a como una clave sustituta independiente de los valores de negocio, que realmente no tiene un significado por s칤 misma.</p>
<p>Si a침adimos una clave subrogada a la tabla <code>CLIENTE</code> tendr칤amos:</p>
<table>
<thead>
<tr>
<th>id</th>
<th>dni</th>
<th>nombre</th>
<th>direcci칩n</th>
<th>fecha</th>
<th>genero</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>12345678A</td>
<td>Pedro Casas</td>
<td>Avenida de la libertad, 23</td>
<td>21/03/24</td>
<td>M</td>
</tr>
<tr>
<td>2</td>
<td>48123456B</td>
<td>Mireia Vidal</td>
<td>Porta de la Morera, 6</td>
<td>22/03/24</td>
<td>F</td>
</tr>
<tr>
<td>3</td>
<td>34123456C</td>
<td>Laura Meca</td>
<td>Pla칞a de Baix, s/n</td>
<td>23/03/24</td>
<td>F</td>
</tr>
</tbody>
</table>
<h4 id="claves-candidatas">Claves candidatas<a class="headerlink" href="#claves-candidatas" title="Permanent link">췄</a></h4>
<p>Si una tabla tiene m치s de un campo (o un conjunto de ellos) que pueden identificar un칤vocamente a cada tupla de la tabla, se dice que todas las claves posibles son <strong>claves candidatas</strong>.</p>
<p>De entre las claves candidatas, elegiremos una como la clave primaria y el resto ser치n <strong>claves alternativas</strong>. As칤 pues, una clave alternativa es una clave candidata que no es primaria.</p>
<p>Por ejemplo, si pensamos en la tabla <code>ESTUDIANTE</code> podemos definir los siguientes campos: <code>nif</code>, <code>codigo</code>, <code>nombre</code>, <code>fMatricula</code>, <code>direccion</code>. Las claves candidatas ser칤an <code>ESTUDIANTE.codigo</code> y <code>ESTUDIANTE.nif</code>, ya que permiten identificar de forma un칤voca a cada estudiante. Si nos decantamos por <code>ESTUDIANTE.codigo</code> como su clave primaria, entonces <code>ESTUDIANTE.nif</code> ser칤a una clave alternativa.</p>
<table>
<thead>
<tr>
<th>nif</th>
<th>codigo</th>
<th>nombre</th>
<th>fMatricula</th>
<th>direccion</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>Pedro Casas</td>
<td>1/9/24</td>
<td>Avenida de la libertad, 23</td>
</tr>
<tr>
<td>48123456B</td>
<td>2</td>
<td>Mireia Vidal</td>
<td>1/9/24</td>
<td>Porta de la Morera, 6</td>
</tr>
<tr>
<td>34123456C</td>
<td>3</td>
<td>Laura Meca</td>
<td>1/9/24</td>
<td>Pla칞a de Baix, s/n</td>
</tr>
</tbody>
</table>
<h4 id="claves-ajenas">Claves ajenas<a class="headerlink" href="#claves-ajenas" title="Permanent link">췄</a></h4>
<p>Finalmente, tenemos las <strong>claves ajenas</strong> (<strong>FK</strong> / <em>foreign key</em>), los cuales son campos cuyos valores referencian a valores de otra tabla.</p>
<p>Dentro del modelo relacional, el hecho de relacionar los datos de una tabla con otra es crucial, y se realiza mediante las claves ajenas. As칤 pues, la clave ajena de una tabla referencia, normalmente, al valor de la clave primaria de otra tabla. Por ello, los dominios de la clave ajena y de la clave primaria referenciada deben ser iguales (un campo num칠rico no puede referenciar a un campo de texto).</p>
<p>Comencemos con el mismo ejemplo que vimos con las <a href="../02/2.1-ModeloER.html#relacion-1n">relaciones 1:N</a> del modelo conceptual, donde ten칤amos que todo producto tiene una categor칤a, pero de una categor칤a, tenemos muchos productos, el cual representamos as칤:</p>
<p>Si lo representamos mediante tablas, podr칤amos tener la siguiente estructura:</p>
<div class="grid cards">
<ul>
<li>
<p><code>CATEGORIA</code></p>
<table>
<thead>
<tr>
<th>codigo</th>
<th>nombre</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Consola</td>
</tr>
<tr>
<td>2</td>
<td>TIC</td>
</tr>
<tr>
<td>3</td>
<td>Cocina</td>
</tr>
<tr>
<td>4</td>
<td>Bricolaje</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>PRODUCTO</code></p>
<table>
<thead>
<tr>
<th>codigo</th>
<th>nombre</th>
<th>codCategoria<code>*</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>PS5</td>
<td>1</td>
</tr>
<tr>
<td>2</td>
<td>Nevera</td>
<td>3</td>
</tr>
<tr>
<td>3</td>
<td>Teclado</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>XBOX</td>
<td>1</td>
</tr>
<tr>
<td>5</td>
<td>Rat칩n</td>
<td>2</td>
</tr>
<tr>
<td>6</td>
<td>Volante</td>
<td><code>NULL</code></td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Representaci칩n de las ocurrencias</p>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="../02/images/02ocurrencias1n.png" data-desc-position="bottom"><img align="center" alt="" src="../02/images/02ocurrencias1n.png" title="Ocurrencias 1:N"></a>  </p>
</li>
<li>
<p>Representaci칩n relacional</p>
<hr>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="images/03producto-categoria.png" data-desc-position="bottom"><img alt="" src="images/03producto-categoria.png" title="Representaci칩n Producto-Categor칤a"></a></p>
</li>
</ul>
</div>
<p>Puedes observar como hemos subrayado las claves primaria de cada tabla. 쯈u칠 atributo tiene la funci칩n de clave ajena? En este ejemplo, la columna <code>PRODUCTO.codCategoria</code> es una clave ajena que apunta a <code>CATEGORIA.codigo</code> (f칤jate que en este caso, al atributo que es clave ajena le hemos puesto un asterisco <code>*</code> tras su nombre). Si revisamos los valores, podemos comprobar como podemos tener valores repetidos y valores nulos, facilitando que de una categor칤a tengamos varios productos (categor칤as de los productos <code>1</code> y <code>4</code>), que de una categor칤a no tengamos productos (la categor칤a <code>4</code> no est치 asociada a ning칰n producto) y, aunque el modelo conceptual no representaba dicha cardinalidad, que tengamos productos sin categor칤a (como el producto <code>6</code>).</p>
<p>Cuando tenemos dos tablas relacionadas mediante una clave ajena, mediante operaciones relacionales que veremos en la <a href="https://aitor-medrano.github.io/bd/06sql.html">Unidad 6</a>, podremos crear una nueva relaci칩n con el resultado de unir una clave ajena con los datos a los que referencia.</p>
<p>As칤 pues, al unir ambas tablas, obtendr칤amos como resultado:</p>
<table>
<thead>
<tr>
<th>PRODUCTO.codigo</th>
<th>PRODUCTO.nombre</th>
<th>PRODUCTO.codCategoria</th>
<th>CATEGORIA.nombre</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>PS5</td>
<td>1</td>
<td>Consola</td>
</tr>
<tr>
<td>2</td>
<td>Nevera</td>
<td>3</td>
<td>Cocina</td>
</tr>
<tr>
<td>3</td>
<td>Teclado</td>
<td>2</td>
<td>TIC</td>
</tr>
<tr>
<td>4</td>
<td>XBOX</td>
<td>1</td>
<td>Consola</td>
</tr>
<tr>
<td>5</td>
<td>Rat칩n</td>
<td>2</td>
<td>TIC</td>
</tr>
<tr>
<td>6</td>
<td>Volante</td>
<td><code>NULL</code></td>
<td><code>NULL</code></td>
</tr>
</tbody>
</table>
<hr>
<p>Veamos otro ejemplo, donde tenemos dos tablas, una para estudiantes (igual que el ejemplo de las claves candidatas) y otra para almacenar qu칠 cursos realizan los estudiantes, similares a las siguientes:</p>
<ul>
<li>
<p><code>ESTUDIANTE</code></p>
<table>
<thead>
<tr>
<th>nif</th>
<th>codigo</th>
<th>nombre</th>
<th>fMatricula</th>
<th>direccion</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>Pedro Casas</td>
<td>1/9/24</td>
<td>Avenida de la libertad, 23</td>
</tr>
<tr>
<td>48123456B</td>
<td>2</td>
<td>Mireia Vidal</td>
<td>1/9/24</td>
<td>Porta de la Morera, 6</td>
</tr>
<tr>
<td>34123456C</td>
<td>3</td>
<td>Laura Meca</td>
<td>1/9/24</td>
<td>Pla칞a de Baix, s/n</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>CURSAR</code></p>
<table>
<thead>
<tr>
<th>nifEstudiante<code>*</code></th>
<th>asignatura</th>
<th>anyo</th>
<th>repetidor</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>2024</td>
<td>true</td>
</tr>
<tr>
<td>48123456B</td>
<td>1</td>
<td>2024</td>
<td>false</td>
</tr>
<tr>
<td>12345678A</td>
<td>2</td>
<td>2023</td>
<td>false</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>El campo <code>CURSAR.nifEstudiante</code> es una clave ajena de la relaci칩n <code>CURSAR</code> y enlaza con la relaci칩n <code>ESTUDIANTE</code> con el campo <code>ESTUDIANTE.nif</code>.</p>
<p>Visualmente, lo podemos representar mediante el siguiente gr치fico:</p>
<figure>
  <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="images/03estudiante-cursar.png" data-desc-position="bottom"><img src="images/03estudiante-cursar.png" width="60%"></a>
<br>
<figcaption>Clave ajena entre ESTUDIANTE y CURSAR</figcaption>
</figure>
<p>Conviene aclarar que un campo puede ser clave primaria y clave ajena a la vez. Adem치s, una tabla puede tener m치s de una clave ajena o no tener ninguna. Adem치s, en el caso de las relaciones reflexivas, la clave ajena de la relaci칩n enlazar치 con la clave primaria de s칤 misma.</p>
<h4 id="borrado-y-actualizacion">Borrado y actualizaci칩n<a class="headerlink" href="#borrado-y-actualizacion" title="Permanent link">췄</a></h4>
<p>Cuanto trabajamos con varias tablas relacionadas mediante claves ajenas y claves primarias, debemos definir las reglas y modificar la clave primaria a la que referencian.</p>
<p>Al actualizar/borrar un registro que contiene una clave ajena, se puede:</p>
<ul>
<li><strong>Rechazar</strong>: no se permite el borrado/modificaci칩n</li>
<li><strong>Propagar</strong>: se borra/modifica el registro, y las tuplas que lo referencian</li>
<li><strong>Anular</strong>: se borra/modifica el registro y las tuplas que lo referencian ponen a nulo la clave ajena.</li>
</ul>
<div class="admonition question">
<p class="admonition-title">Autoevaluaci칩n</p>
<p>Si volvemos a la relaci칩n entre <code>ESTUDIANTE</code> y <code>CURSAR</code>, 쯤u칠 sucede cuando eliminamos el estudiante <code>12345678A</code>?</p>
<ul>
<li>
<p><code>ESTUDIANTE</code></p>
<table>
<thead>
<tr>
<th>nif</th>
<th>codigo</th>
<th>nombre</th>
<th>fMatricula</th>
<th>direccion</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>Pedro Casas</td>
<td>1/9/24</td>
<td>Avenida de la libertad, 23</td>
</tr>
<tr>
<td>48123456B</td>
<td>2</td>
<td>Mireia Vidal</td>
<td>1/9/24</td>
<td>Porta de la Morera, 6</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>CURSAR</code></p>
<table>
<thead>
<tr>
<th>nifEstudiante<code>*</code></th>
<th>asignatura</th>
<th>anyo</th>
<th>repetidor</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>2024</td>
<td><code>true</code></td>
</tr>
<tr>
<td>48123456B</td>
<td>1</td>
<td>2024</td>
<td><code>false</code></td>
</tr>
<tr>
<td>12345678A</td>
<td>2</td>
<td>2023</td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
<p>Profundizaremos en las operaciones entre claves ajenas y primarias cuando trabajemos las operaciones DML sobre el modelo f칤sico en la <em>Unidad 3.- Lenguaje de definici칩n de datos (DDL)</em>.</p>
<h2 id="242restricciones-semanticas">2.4.2Restricciones sem치nticas<a class="headerlink" href="#242restricciones-semanticas" title="Permanent link">췄</a></h2>
<p>A la hora de definir las propiedades de una tabla y sus columnas podemos emplear las siguientes restricciones:</p>
<ul>
<li><strong>clave primaria</strong>: los atributos marcados como clave primaria no puedan repetir valores.</li>
<li><strong>unicidad</strong>: impide que los valores de los atributos marcados de esa forma puedan repetirse, consider치ndose un칤vocos. A nivel visual se marcan con <code>UK</code>. Vamos a considerar que un atributo <code>UK</code> no permite valores repetidos pero s칤 nulos (dependiendo del SGBD, en algunos casos se permiten y en otros no).</li>
<li><strong>obligatoriedad</strong> (<code>VNN</code>): proh칤be que el atributo marcado de esta forma no tenga ning칰n valor (valor no nulo).</li>
<li><strong>regla de validaci칩n</strong>: condici칩n que debe de cumplir un dato concreto para que sea actualizado.</li>
</ul>
<p>Adem치s, podemos definir diferentes restricciones:</p>
<ul>
<li>a <strong>nivel de fila</strong>, por ejemplo, de relaci칩n entre columnas, del tipo la fecha de devoluci칩n debe ser posterior a la fecha de pr칠stamo</li>
<li>a <strong>nivel de conjunto de filas</strong>, por ejemplo, un cliente no puede hacer m치s de 20 pedidos en un d칤a</li>
<li>a <strong>nivel de negocio</strong>, del tipo, al insertar un pedido, se debe comprobar si la direcci칩n de env칤o es la misma que la direcci칩n del cliente, y en caso de no serlo, a침adir una nueva direcci칩n al cliente.</li>
</ul>
<h3 id="nulos">Nulos<a class="headerlink" href="#nulos" title="Permanent link">췄</a></h3>
<p>Los valores nulos (<code>NULL</code>) indican contenidos de atributos que no tienen ning칰n valor, bien porque la informaci칩n es desconocida o no aplicable. Es decir, m치s que un valor, es la ausencia de informaci칩n. Algunos SGBD muestran la palabra clave <code>NULL</code>, mientras que otros muestran el campo en blanco.</p>
<p>Por ejemplo, si en la tabla <code>ESTUDIANTE</code> tenemos un registro con la direcci칩n nula, est치 indicando que desconocemos la direcci칩n de <code>Mireia Vidal</code>, no que no tenga direcci칩n.</p>
<table>
<thead>
<tr>
<th>nif</th>
<th>codigo</th>
<th>nombre</th>
<th>fMatricula</th>
<th>direccion</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>Pedro Casas</td>
<td>1/9/24</td>
<td>Avenida de la libertad, 23</td>
</tr>
<tr>
<td>48123456B</td>
<td>2</td>
<td>Mireia Vidal</td>
<td>1/9/24</td>
<td><code>NULL</code></td>
</tr>
<tr>
<td>34123456C</td>
<td>3</td>
<td>Laura Meca</td>
<td>1/9/24</td>
<td>Pla칞a de Baix, s/n</td>
</tr>
</tbody>
</table>
<p>Si el campo es una clave ajena, indica que el registro actual no est치 relacionado con ninguno.</p>
<p>Las bases de datos relacionales admiten utilizar ese valor en todo tipo de operaciones.</p>
<p>En cuanto a los campos booleano (V/F), define un tercer valor en la l칩gica, ya que adem치s del valor verdadero o falso, existe el valor para los nulos.</p>
<h3 id="integridad-de-entidad">Integridad de entidad<a class="headerlink" href="#integridad-de-entidad" title="Permanent link">췄</a></h3>
<p>La integridad de entidad define que todas las claves primarias deben tener valor, y, por lo tanto, no admiten valores nulos.</p>
<p>Si volvemos a la tabla <code>ESTUDIANTE</code>, no podemos tener ning칰n estudiante con el NIF vac칤o.</p>
<p>Al definir un campo como <code>PK</code> ya estamos declarando que dicho campo no admite valores nulos (ni repetidos por el propio concepto de clave primaria).</p>
<h3 id="integridad-referencial">Integridad referencial<a class="headerlink" href="#integridad-referencial" title="Permanent link">췄</a></h3>
<p>Si una relaci칩n R1 posee una clave ajena que la enlaza con la relaci칩n R2, entonces diremos que cumple la restricci칩n de <strong>integridad referencial</strong> si todo valor de dicha clave ajena de R1 cumple una de las dos condiciones:</p>
<ol>
<li>coincide con alg칰n valor de la clave primaria en la relaci칩n R2</li>
<li>toma el valor nulo (<code>NULL</code>)</li>
</ol>
<p>Es decir, proh칤be colocar valores en una clave ajena que no est칠n reflejados en la clave primaria de la tabla que relaciona.</p>
<p>Veamos un ejemplo que no cumple con la integridad referencial. Tengamos los siguientes datos, sabiendo que <code>CURSAR.nifEstudiante</code> es una clave ajena que apunta a <code>ESTUDIANTE.nif</code>:</p>
<ul>
<li>
<p><code>ESTUDIANTE</code></p>
<table>
<thead>
<tr>
<th>nif</th>
<th>codigo</th>
<th>nombre</th>
<th>fMatricula</th>
<th>direccion</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>Pedro Casas</td>
<td>1/9/24</td>
<td>Avenida de la libertad, 23</td>
</tr>
<tr>
<td>48123456B</td>
<td>2</td>
<td>Mireia Vidal</td>
<td>1/9/24</td>
<td>Porta de la Morera, 6</td>
</tr>
<tr>
<td>34123456C</td>
<td>3</td>
<td>Laura Meca</td>
<td>1/9/24</td>
<td>Pla칞a de Baix, s/n</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>CURSAR</code></p>
<table>
<thead>
<tr>
<th>nifEstudiante<code>*</code></th>
<th>asignatura</th>
<th>anyo</th>
<th>repetidor</th>
</tr>
</thead>
<tbody>
<tr>
<td>12345678A</td>
<td>1</td>
<td>2024</td>
<td><code>true</code></td>
</tr>
<tr>
<td></td>
<td>1</td>
<td>2024</td>
<td><code>false</code></td>
</tr>
<tr>
<td>66666666Z</td>
<td>2</td>
<td>2023</td>
<td><code>false</code></td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>El primer fallo que encontramos es que el campo <code>CURSAR.nifEstudiante</code> contiene nulos. Aunque las claves ajenas permiten valores nulos, al tratarse tambi칠n de una clave primaria, estar칤a incumpliendo la integridad de entidad.</p>
<p>El segundo error es que el valor <code>66666666Z</code> referencia a un estudiante invalido, y este valor s칤 que viola la integridad referencial, ya que dicho valor no existe en <code>ESTUDIANTE.nif</code>.</p>
<h2 id="243-notacion">2.4.3 Notaci칩n<a class="headerlink" href="#243-notacion" title="Permanent link">췄</a></h2>
<p>Para representar una tabla en el modelo relaci칩n usaremos una notaci칩n textual que facilita su comprensi칩n y posterior transformaci칩n al modelo f칤sico. A esta representaci칩n se le conoce como <strong>esquema relacional</strong> (o esquema l칩gico/can칩nico).</p>
<p>Pondremos el nombre de la tabla en may칰sculas, y a continuaci칩n, entre par칠ntesis, enumeraremos los campos mediante su nombre en min칰sculas (y opcionalmente su dominio). Como convenci칩n, el primer atributo ser치 aquel que hace la funci칩n de clave primaria, el cual adem치s subrayaremos para facilitar la legibilidad, y a aquellos campos que sean claves ajenas les a침adiremos un asterisco (<code>*</code>) para indicar su condici칩n.</p>
<p>Tras el listado de campos, enumeraremos las restricciones, con el siguiente orden:</p>
<ol>
<li>la clave primaria (<code>PK</code>), con el atributo o conjunto de atributos que identifican un칤vocamente a una tupla.</li>
<li>las claves ajenas (<code>FK</code>) (si las hubiera), indicando el nombre de la columna, una flecha, y la relaci칩n a la que referencia.</li>
<li>el resto de restricciones (<code>UK</code>, <code>VNN</code>, comprobaciones, etc...) (si las hubiera)</li>
</ol>
<p>M치s propiedades</p>
<p>Un campo puede tener opcionalmente las siguientes propiedades:</p>
<ul>
<li>Descripci칩n: texto breve que aporta informaci칩n sobre el contenido o la finalidad del campo.</li>
<li>Tama침o: tama침o m치ximo permitido.</li>
<li>Rango de valores posibles, a modo de enumeraci칩n.</li>
<li>Requerido o <code>NOT NULL</code>: no permite valores nulos.</li>
<li>Predeterminado (<code>DEFAULT</code>): valor por defecto para cuando no se inserta ning칰n valor.</li>
</ul>
<p>Por ejemplo, un esquema l칩gico en modelo relacional que relaciona un libro con un autor, y un autor con muchos libros (relaci칩n 1:N) podr칤a ser el siguiente:</p>
<p><code>**AUTOR** (codigo: autonum칠rico, nombre: texto, fnac: fecha, nacionalidad: texto)</code><br>
<code>췅 PK: (codigo)</code></p>
<p><code>**LIBRO** (isbn: texto, titulo: texto, descripcion: texto, autor*: num칠rico, editorial: texto, pvp: real)</code><br>
<code>췅 PK: (isbn)</code><br>
<code>췅 FK: (autor)  AUTOR</code><br></p>
<p>Por legibilidad, vamos a omitir los dominios y representar las tablas 칰nicamente con el nombre de los campos, y posteriormente, en el diccionario de datos, definiremos sus tipos. De este modo, quedar칤a as칤:</p>
<p><code>**AUTOR** (codigo, nombre, fnac, pais)</code>
<code>췅 PK: (codigo)</code></p>
<p><code>**LIBRO** (isbn, titulo, autor*, editorial, pvp)</code>
<code>췅 PK: (isbn)</code> <br>
<code>췅 FK: (autor)  AUTOR</code></p>
<div class="admonition fact">
<p class="admonition-title">DBML - Database Markup Language</p>
<p>Tenemos que el autor se identifica por un c칩digo, el cual es su clave primaria. En cambio, los libros se identifican por su ISBN, y tienen un atributo <code>autor</code> que referencia a la clave primaria de <code>AUTOR</code> (y por tanto, deben tener el mismo dominio). De esta relaci칩n, deducimos que el nombre del atributo de la clave ajena no tiene por qu칠 coincidir con el nombre de la clave primaria, pero s칤 su dominio.</p>
<p>Si analizamos las cardinalidades de las tablas, tenemos:</p>
<ul>
<li><code>Card(LIBRO, ESCRIBIR) = (0, 1)</code>: Todo libro tiene un atributo autor, y s칩lo uno, el cual puede estar rellenado o no.</li>
<li><code>Card(AUTOR, ESCRIBIR) = (0, N)</code>: Si un libro tiene un atributo autor, y el mismo autor puede aparecer en m치s de un libro, entonces un autor puede escribir muchos libros (o ninguno, si no aparece en ninguna ocurrencia de <code>LIBRO</code>).</li>
</ul>
<p>En la pr칩xima unidad estudiaremos el proceso de transformaci칩n de un modelo conceptual a uno relacional, y en concreto, c칩mo se gestionan las claves ajenas para cumplir las cardinalidades y restricciones de las relaciones.</p>
<p>La notaci칩n que vamos a emplear en clase es sencilla y cumple su prop칩sito.</p>
<p>Dicho esto, desde principio de 2020, gracias a la empresa https://dbdiagram.io/, se est치 popularizando <a href="https://dbml.dbdiagram.io/home">DBML</a> como un lenguaje de marcado para representar bases de datos.</p>
<p>Si quieres profundizar en su uso, es recomendable consultar su <a href="https://dbml.dbdiagram.io/docs">sintaxis</a> o puedes probar a generar diagramas en <a href="https://dbdiagram.io/">https://dbdiagram.io/</a>.</p>
<p>En nuestro caso, por ejemplo, podemos representa las entidades <code>AUTOR</code> y <code>LIBRO</code> del siguiente modo:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Table AUTOR {
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    codigo entero [primary key]
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>    nombre cadena
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    fnac fecha
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    pais cadena
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>}
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>Table LIBRO {
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    isbn cadena [primary key]
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>    titulo cadena
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>    autor entero [ref: &gt; AUTOR.codigo]
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>    editorial cadena
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    pvp real
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>}
</span></code></pre></div>
<p>Obteniendo como resultado el diagrama:</p>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="images/03autor-libro.png" data-desc-position="bottom"><img src="images/03autor-libro.png" width="60%"></a>
    <figcaption>Diagrama AUTOR-LIBRO</figcaption>
</figure><p></p>
</div>
<p>Vamos a crear datos ficticios y comprobaremos si el modelo cumple la relaci칩n de uno a muchos:</p>
<ul>
<li>
<p><code>AUTOR</code></p>
<table>
<thead>
<tr>
<th>codigo</th>
<th>nombre</th>
<th>fnac</th>
<th>pais</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Brandon Sanderson</td>
<td>19/12/75</td>
<td>USA</td>
</tr>
<tr>
<td>2</td>
<td>Juan G칩mez Jurado</td>
<td>16/12/77</td>
<td>Espa침a</td>
</tr>
<tr>
<td>3</td>
<td>J칬el Dicker</td>
<td>16/06/85</td>
<td>Suiza</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>LIBRO</code></p>
<table>
<thead>
<tr>
<th>isbn</th>
<th>titulo</th>
<th>autor<code>*</code></th>
<th>editorial</th>
<th>pvp</th>
</tr>
</thead>
<tbody>
<tr>
<td>9788420476841</td>
<td>Un animal salvaje</td>
<td>3</td>
<td>Alfaguara</td>
<td>23,90</td>
</tr>
<tr>
<td>9788420414065</td>
<td>La verdad sobre el caso Harry Quebert</td>
<td>3</td>
<td>Alfaguara</td>
<td>23,90</td>
</tr>
<tr>
<td>9788491221722</td>
<td>Lazarillo de Tormes</td>
<td><code>NULL</code></td>
<td>Santillana</td>
<td>14,20</td>
</tr>
<tr>
<td>9788419260444</td>
<td>Nacidos de la bruma</td>
<td>1</td>
<td>Nova</td>
<td>24,90</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>As칤 pues, comprobamos que tenemos un autor (el <code>3</code> con dos libros), e incluso un libro sin autor, confirmando la relaci칩n 1:N conforme quer칤amos dise침ar.</p>
<p><strong>Cardinalidad de las relaciones</strong></p>
<p>Con lo que sabemos hasta ahora, piensa:</p>
<ul>
<li>쮺칩mo evitamos que la cardinalidad m칤nima sea 0 entre LIBRO y AUTOR, es decir, que <code>Card(LIBRO, ESCRIBIR) = (1,1)</code>, de manera que cada libro lo escriba siempre un autor, no permitiendo valores nulos en la clave ajena?</li>
<li>쮺칩mo cambiamos la relaci칩n de 1:N a una relaci칩n 1:1, para que cada autor solo pudiera escribir un libro?</li>
</ul>
<h3 id="representacion-grafica">Representaci칩n gr치fica<a class="headerlink" href="#representacion-grafica" title="Permanent link">췄</a></h3>
<p>Aunque ya hemos visto que podemos emplear <a href="https://dbdiagram.io/">DBDiagrams</a> para generar un diagrama a partir del esquema l칩gico mediante <a href="https://dbml.dbdiagram.io/docs">DBML</a>, tambi칠n podemos emplear diversas herramientas existentes en el mercado, como <a href="https://erdplus.com/">ERDPlus</a> o <a href="https://www.mysql.com/products/workbench/">MySQLWorbench</a> (m치s cercano al modelo f칤sico), que permiten dibujar los elementos.</p>
<p>En nuestro caso, nos vamos a centrar en DBDiagrams, principalmente por ser una herramienta online y que actualmente el lenguaje <a href="https://dbml.dbdiagram.io/home/">DBML (Database Markup Language)</a> se est치 instaurando como el lenguaje de referencia para esta funci칩n.</p>
<h3 id="diccionario-de-datos">Diccionario de datos<a class="headerlink" href="#diccionario-de-datos" title="Permanent link">췄</a></h3>
<p>El diccionario de datos de un modelo relacional es un repositorio central que almacena metadatos sobre los elementos de una base de datos.</p>
<p>En un sistema de bases de datos relacional, el diccionario de datos incluye detalles sobre las estructuras de las tablas, las relaciones entre las tablas, las columnas, los 칤ndices, las restricciones, los procedimientos almacenados y otros objetos de la base de datos. Es esencialmente un <em>cat치logo</em> que describe la estructura l칩gica y la organizaci칩n de la base de datos.</p>
<p>Las funciones del diccionario de datos son:</p>
<ul>
<li>
<p><strong>Documentaci칩n</strong>: Sirve como referencia para desarrolladores y administradores de bases de datos, ayud치ndoles a entender la estructura y organizaci칩n de la base de datos.</p>
</li>
<li>
<p><strong>Control de integridad</strong>: Ayuda a asegurar que las definiciones de las tablas y relaciones se mantengan coherentes y conformes a las reglas establecidas.</p>
</li>
</ul>
<h4 id="componentes">Componentes<a class="headerlink" href="#componentes" title="Permanent link">췄</a></h4>
<ol>
<li>
<p><strong>Tablas y columnas</strong>: Describe las tablas en la base de datos, los nombres de las columnas, tipos de datos (los diferentes <a href="#todo">tipos de datos</a> los estudiaremos en detalle en la <em>unidad 3</em>, tama침os y si permiten valores nulos.</p>
</li>
<li>
<p><strong>Relaciones y claves</strong>: Define las relaciones entre tablas y especifica las claves primarias y ajenas.</p>
</li>
<li>
<p><strong>Restricciones</strong>: Incluye detalles sobre restricciones como <code>UNIQUE</code>, <code>CHECK</code>, <code>NOT NULL</code>, y <code>DEFAULT</code>.</p>
</li>
</ol>
<p>Si nos centramos en los modelos f칤sicos, podr칤amos incluir otros componentes como 칤ndices, vistas, procedimientos almacenados y funciones o <em>triggers</em>, as칤 como usuarios y permisos.</p>
<h4 id="ejemplo">Ejemplo<a class="headerlink" href="#ejemplo" title="Permanent link">췄</a></h4>
<p>Para este ejemplo, nos vamos a basar en el mismo ejemplo que hemos utilizado en el apartado de <a href="#notaci칩n">Notaci칩n</a>, donde un <code>AUTOR</code> escribe muchos <code>LIBRO</code>, pero un <code>LIBRO</code> s칩lo lo escribe un <code>AUTOR</code>.</p>
<p>Para documentar el diccionario de datos, se utiliza una estructura de tabla con el nombre de la columna, el tipo de datos y una descripci칩n del campo:</p>
<ul>
<li>
<p>Tabla <code>AUTOR</code></p>
<table>
<thead>
<tr>
<th><strong>Columna</strong></th>
<th><strong>Tipo de Datos</strong></th>
<th><strong>Descripci칩n</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codigo</code></td>
<td><code>INT</code></td>
<td>Clave primaria. Identificador 칰nico del autor.</td>
</tr>
<tr>
<td><code>nombre</code></td>
<td><code>VARCHAR(64)</code></td>
<td>Nombre del autor.</td>
</tr>
<tr>
<td><code>fnac</code></td>
<td><code>DATE</code></td>
<td>Fecha de nacimiento del autor.</td>
</tr>
<tr>
<td><code>pais</code></td>
<td><code>VARCHAR(32)</code></td>
<td>Pa칤s de nacimiento del autor.</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Tabla <code>LIBRO</code></p>
<table>
<thead>
<tr>
<th><strong>Columna</strong></th>
<th><strong>Tipo de Datos</strong></th>
<th><strong>Descripci칩n</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>isbn</code></td>
<td><code>INT</code></td>
<td>Clave primaria. Identificador 칰nico del libro.</td>
</tr>
<tr>
<td><code>titulo</code></td>
<td><code>VARCHAR(64)</code></td>
<td>T칤tulo del libro.</td>
</tr>
<tr>
<td><code>autor</code></td>
<td><code>INT</code></td>
<td>Clave for치nea que referencia a <code>AUTOR.codigo</code>. Indica el autor del libro.</td>
</tr>
<tr>
<td><code>editorial</code></td>
<td><code>VARCHAR(32)</code></td>
<td>Editorial que publica el libro.</td>
</tr>
<tr>
<td><code>pvp</code></td>
<td><code>DECIMAL(10,2)</code></td>
<td>Precio de venta al p칰blico del libro.</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>A continuaci칩n, indicamos las relaciones y restricciones</p>
<ul>
<li><strong>Clave primaria en <code>AUTOR</code></strong>: <code>codigo</code></li>
<li><strong>Clave primaria en <code>LIBRO</code></strong>: <code>isbn</code></li>
<li><strong>Clave ajena en <code>LIBRO</code></strong>: <code>autor</code> referencia a <code>codigo</code> en la tabla <code>AUTOR</code>, indicando la relaci칩n entre un libro y su autor.<ul>
<li>Restricci칩n de borrado: rechazar.</li>
<li>Restricci칩n de modificaci칩n: propagar.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="244-normalizacion">2.4.4 Normalizaci칩n<a class="headerlink" href="#244-normalizacion" title="Permanent link">췄</a></h2>
<p>Un principio del dise침o relacional es que "<em>hechos distintos se deben almacenar en objetos distintos</em>".</p>
<p>Para conseguir este objetivo, la <strong>normalizaci칩n</strong> es una t칠cnica dentro del dise침o de bases de datos relacionales que consiste en la separaci칩n de atributos en tablas lo m치s simples posibles para <strong>suprimir dependencias err칩neas entre atributos, reducir la redundancia as칤 como optimizar los procesos de inserci칩n, modificaci칩n y borrado en la bases de datos</strong>, evitando las anomal칤as previamente comentadas, lo que maximiza la integridad de los datos y su consistencia.</p>
<p>Podemos simplificar el objetivo de la normalizaci칩n en <strong>maximizar la integridad de los datos, reduciendo su redundancia</strong>.</p>
<p>Para conseguirlo, se basa en el an치lisis de dependencias entre atributos mediante un proceso que consiste en identificar y aplicar una serie de reglas a las relaciones obtenidas del esquema relacional.</p>
<div class="admonition abstract">
<p class="admonition-title">Supuesto Comerciales</p>
<p>Supongamos los siguientes datos sobre ventas que realizan una serie de comerciales de los cuales tenemos su c칩digo y nombre, su estado laboral (con un c칩digo y una descripci칩n), la ciudad y la provincia donde realizan las ventas, as칤 como las poblaciones de dichas ciudades y provincias.</p>
<table>
<thead>
<tr>
<th>comercialID</th>
<th>comercialNom</th>
<th>estadoID</th>
<th>estadoDesc</th>
<th>ciudad</th>
<th>provincia</th>
<th>ciudadPob</th>
<th>provinciaPob</th>
<th>ventas</th>
</tr>
</thead>
<tbody>
<tr>
<td>C1</td>
<td>Carlos Suarez</td>
<td>JC</td>
<td>Jornada Completa</td>
<td>Elche</td>
<td>Alicante</td>
<td>230.000</td>
<td>1.800.000</td>
<td>33</td>
</tr>
<tr>
<td>C1</td>
<td>Carlos Suarez</td>
<td>JC</td>
<td>Jornada Completa</td>
<td>Denia</td>
<td>Alicante</td>
<td>42.000</td>
<td>1.800.000</td>
<td>22</td>
</tr>
<tr>
<td>C2</td>
<td>Manoli Campos</td>
<td>JC</td>
<td>Jornada Completa</td>
<td>Elche</td>
<td>Alicante</td>
<td>230.000</td>
<td>1.800.000</td>
<td>55</td>
</tr>
<tr>
<td>C2</td>
<td>Manoli Campos</td>
<td>JC</td>
<td>Jornada Completa</td>
<td>Aspe</td>
<td>Alicante</td>
<td>22.000</td>
<td>1.800.000</td>
<td>44</td>
</tr>
<tr>
<td>C3</td>
<td>Carlos Suarez</td>
<td>JPM</td>
<td>Jornada Partida Ma침anas</td>
<td>Cartagena</td>
<td>Murcia</td>
<td>218.000</td>
<td>1.520.000</td>
<td>17</td>
</tr>
<tr>
<td>C4</td>
<td>Sonia S치nchez</td>
<td>JPT</td>
<td>Jornada Partida Tardes</td>
<td>Gand칤a</td>
<td>Valencia</td>
<td>73.000</td>
<td>2.550.000</td>
<td>27</td>
</tr>
<tr>
<td>C5</td>
<td>Marina Vidal</td>
<td>JC</td>
<td>Jornada Completa</td>
<td>Valencia</td>
<td>Valencia</td>
<td>807.000</td>
<td>1.800.000</td>
<td>37</td>
</tr>
<tr>
<td>C6</td>
<td>Michael Johnson</td>
<td>JC</td>
<td>Jornada Completa</td>
<td>Valencia</td>
<td>California</td>
<td>63.000</td>
<td>38.940.000</td>
<td>47</td>
</tr>
</tbody>
</table>
<p>Claramente, tenemos datos redundantes. Si reorganizamos los datos de otra manera podr칤amos evitar dependencias.</p>
</div>
<h3 id="anomalias">Anomal칤as<a class="headerlink" href="#anomalias" title="Permanent link">췄</a></h3>
<p>Una <strong>anomal칤a</strong> se refiere a una inconsistencia o problema que puede surgir en una base de datos, especialmente cuando no est치 normalizada. Estas anomal칤as pueden manifestarse de diversas maneras, afectando la integridad y consistencia de la informaci칩n almacenada.</p>
<p>Los tipos de anomal칤as en bases de datos son:</p>
<ul>
<li><strong>anomal칤as de actualizaci칩n</strong>: ocurren cuando se intenta actualizar un registro en m칰ltiples ubicaciones y no todas las copias se actualizan correctamente, generando discrepancias en los datos.</li>
<li><strong>anomal칤as de inserci칩n</strong>: surgen cuando no se puede insertar un nuevo registro en una tabla sin introducir datos redundantes o violar ciertas restricciones. Por ejemplo, si tenemos una tabla que almacena informaci칩n de estudiantes y cursos, si no hay una clave principal que identifique de forma 칰nica cada registro, se podr칤an generar anomal칤as al intentar insertar nueva informaci칩n.</li>
<li><strong>anomal칤as de eliminaci칩n</strong>: se producen cuando se elimina informaci칩n importante al intentar eliminar un registro espec칤fico, lo que puede llevar a la p칠rdida de datos. Siguiendo con el ejemplo anterior, si se elimina un registro de estudiante y este registro tambi칠n contiene informaci칩n sobre un curso, podr칤a perderse la informaci칩n del curso si no se toman precauciones.</li>
</ul>
<p>Para <em>solucionar</em> las anomal칤as, debemos <strong>normalizar las tablas</strong>.</p>
<h3 id="dependencias-funcionales">Dependencias funcionales<a class="headerlink" href="#dependencias-funcionales" title="Permanent link">췄</a></h3>
<p>Antes de entrar a conocer los pasos de la normalizaci칩n, previamente tenemos que definir una serie de conceptos:</p>
<ul>
<li>
<p><strong>Dependencia funcional</strong> (DF): es la relaci칩n sem치ntica existente entre atributos de una misma tabla. Decimos que <strong>A  B</strong>, es decir, que <strong>B depende funcionalmente de A</strong> (o A determina a B), si y solo si para cada valor de A s칩lo puede existir un B.</p>
<p>El sentido de la relaci칩n no es bidireccional. Que para una valor de A s칩lo exista un B, no significa que dado B, siempre obtengamos A. Por ejemplo, la dependencia <code>dni  nombre, apellidos</code> es correcta, ya que tanto el nombre de una persona como sus apellidos dependen funcionalmente de su DNI, pero no al rev칠s. 쮻ado un nombre de una persona, podemos saber su DNI?</p>
</li>
</ul>
<div class="admonition abstract">
<p class="admonition-title">DF - Supuesto Comerciales</p>
<blockquote>
<p>El primer paso es para cada columna, identificar las dependencias que hay entre los atributos.</p>
</blockquote>
<p>Por ejemplo, cogemos el nombre del comercial, y detectamos que dependen funcionalmente del identificador del comercial, por lo tanto: <code>comercialID  comercialNom</code>. Pero si nos fijamos bien en los nombres de los comerciales, no podemos decir lo mismo en el sentido contrario, ya que tenemos un nombre repetido en diferentes c칩digos de comercial (춰qu칠 casualidad!), con lo que no es correcto decir <code>comercialNom  comercialID</code>.</p>
<p>Si hacemos lo mismo con el identificador del estado del comercial, deducimos que depende tambi칠n del identificador, obteniendo <code>comercialID  estadoID</code>.</p>
<p>Y lo mismo con la descripci칩n del estado. En este caso, se cumplen que tanto el identificador del comercial como el identificador del estado permiten obtener la descripci칩n del estado, obteniendo <code>comercialID  estadoDesc</code> y <code>estadoID  estadoDesc</code>.</p>
<p>Si continuamos con todos los atributos y agrupamos las dependencias funcionales tenemos:</p>
<ul>
<li><code>comercialID  comercialNom, estadoID, estadoDesc</code></li>
<li><code>estadoID  estadoDesc</code></li>
<li><code>estadoDesc  estadoID</code></li>
<li><code>provincia  provinciaPob</code></li>
<li><code>ciudad, provincia  ciudadPob</code>, por ejemplo, tenemos dos ciudades <code>Valencia</code> en provincias diferentes</li>
<li><code>comercialID , ciudad, provincia  ventas</code></li>
</ul>
<p>Tal como hemos comentado previamente, cuando agrupamos los atributos, la dependencia <code>comercialID  comercialNom, estadoID, estadoDesc</code> significa que tanto el nombre del comercial, como el c칩digo de su estado y el estado dependen del identificador del comercial.</p>
</div>
<ul>
<li>
<p><strong>Dependencia funcional completa</strong> (DFC): cuando tenemos que <em>A1, A2, ...AN  B</em> (B tiene una dependencia funcional del conjunto A1, A2, ...AN), pero no de ninguno de sus subconjuntos.</p>
<p>Es decir, B depende de la combinaci칩n completa de atributos, y no de un parte de la clave.</p>
<p>DFC - Supuesto Comerciales</p>
<p>Tenemos que las ventas dependen de la combinaci칩n <code>comercialID, ciudad, provincia</code> y no de un subconjunto de ellas, es decir, <code>comercialID, ciudad, provincia  ventas</code>.</p>
</li>
<li>
<p><strong>Dependencia funcional transitiva</strong> (DFT): se dice que hay un DFT entre A y C, si A  B y B  C, siendo B y C columnas no claves. Dicho de otro modo, cuando tenemos columnas no claves que determinan otras columnas no clave.</p>
<p>DFT - Supuesto Comerciales</p>
<p>Tenemos que <code>comercialID  comercialNom, estadoID, estadoDesc</code> y que <code>estadoID  estadoDesc</code>, por lo que tenemos una dependencia transitiva de <code>comercialID</code> a <code>estadoDesc</code>, ya que <code>comercialID  estadoID  estadoDesc</code>.</p>
</li>
</ul>
<details class="example">
<summary>Ejemplos de dependencias funcionales</summary>
<p><u>Ejemplo 1: El Gimnasio del Barrio - Entendiendo la <strong>Dependencia Funcional</strong></u></p>
<p>En el gimnasio "Siempre en Forma", tienen una hoja de c치lculo para registrar a sus miembros. Es muy sencilla.</p>
<p><strong>Tabla: <code>MIEMBROS_GIMNASIO</code></strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Socio</th>
<th style="text-align: left;">Nombre</th>
<th style="text-align: left;">Apellido</th>
<th style="text-align: left;">Fecha_Nacimiento</th>
<th style="text-align: left;">Tipo_Suscripcion</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">SOC-001</td>
<td style="text-align: left;">Elena</td>
<td style="text-align: left;">Ram칤rez</td>
<td style="text-align: left;">1995-03-15</td>
<td style="text-align: left;">Mensual</td>
</tr>
<tr>
<td style="text-align: left;">SOC-002</td>
<td style="text-align: left;">Marcos</td>
<td style="text-align: left;">Vidal</td>
<td style="text-align: left;">1988-11-20</td>
<td style="text-align: left;">Anual</td>
</tr>
<tr>
<td style="text-align: left;">SOC-003</td>
<td style="text-align: left;">Carla</td>
<td style="text-align: left;">Soler</td>
<td style="text-align: left;">2001-07-30</td>
<td style="text-align: left;">Mensual</td>
</tr>
</tbody>
</table>
<p>Aqu칤, el <code>ID_Socio</code> es 칰nico para cada persona. Pensemos como la base de datos:</p>
<ul>
<li><strong>Si te doy <code>SOC-001</code>, 쯣uedes decirme el nombre?</strong> S칤, es Elena. No hay duda.<ul>
<li><code>ID_Socio -&gt; Nombre</code></li>
</ul>
</li>
<li><strong>Si te doy <code>SOC-001</code>, 쯣uedes decirme la <code>Fecha_Nacimiento</code>?</strong> S칤, 1995-03-15.<ul>
<li><code>ID_Socio -&gt; Fecha_Nacimiento</code></li>
</ul>
</li>
<li><strong>Pero, si te digo que busques a la persona con suscripci칩n "Mensual", 쯣uedes darme un <code>ID_Socio</code> 칰nico?</strong> No, porque tanto Elena como Carla tienen esa suscripci칩n. Por lo tanto, <code>Tipo_Suscripcion</code> no determina el <code>ID_Socio</code>.</li>
</ul>
<p><strong>Conclusi칩n del ejemplo:</strong> La Dependencia Funcional es una regla de negocio que dice: "Este valor (o conjunto de valores) me sirve como una 'llave' para encontrar exactamente un solo valor de este otro campo". Aqu칤, <code>ID_Socio</code> es la llave para todos los dem치s datos del miembro.</p>
<hr>
<p><u>Ejemplo 2: La Pizzer칤a "Mamma Mia" - Descubriendo la <strong>Dependencia Funcional Completa vs. Parcial</strong></u></p>
<p>La pizzer칤a quiere registrar qu칠 ingredientes extra a침ade cada cliente a sus pizzas en cada pedido. Su tabla inicial es un desastre.</p>
<p><strong>Tabla: <code>EXTRAS_PEDIDO</code></strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Nro_Pedido</th>
<th style="text-align: left;">Pizza_ID</th>
<th style="text-align: left;">Nombre_Pizza</th>
<th style="text-align: left;">Ingrediente_Extra</th>
<th style="text-align: left;">Precio_Extra</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">1001</td>
<td style="text-align: left;">P01</td>
<td style="text-align: left;">Margarita</td>
<td style="text-align: left;">Champi침ones</td>
<td style="text-align: left;">1.50</td>
</tr>
<tr>
<td style="text-align: left;">1001</td>
<td style="text-align: left;">P01</td>
<td style="text-align: left;">Margarita</td>
<td style="text-align: left;">Aceitunas</td>
<td style="text-align: left;">1.00</td>
</tr>
<tr>
<td style="text-align: left;">1001</td>
<td style="text-align: left;">P02</td>
<td style="text-align: left;">Barbacoa</td>
<td style="text-align: left;">Doble Queso</td>
<td style="text-align: left;">2.00</td>
</tr>
<tr>
<td style="text-align: left;">1002</td>
<td style="text-align: left;">P01</td>
<td style="text-align: left;">Margarita</td>
<td style="text-align: left;">Champi침ones</td>
<td style="text-align: left;">1.50</td>
</tr>
</tbody>
</table>
<p>La clave para identificar una l칤nea de forma 칰nica es la combinaci칩n de <code>{Nro_Pedido, Pizza_ID, Ingrediente_Extra}</code>. 춰Una clave de tres columnas!</p>
<p>Ahora, analicemos qu칠 depende de qu칠:</p>
<ol>
<li>
<p><strong>Dependencia del <code>Precio_Extra</code></strong>: 쮺u치nto cuesta el extra "Champi침ones"? Cuesta 1.50. 쯅ecesito saber el n칰mero de pedido para saber eso? No. 쯅ecesito saber el tipo de pizza? No. El precio del extra solo depende del ingrediente en s칤.</p>
<ul>
<li><code>Ingrediente_Extra -&gt; Precio_Extra</code>
Esta es una <strong>dependencia parcial</strong>, porque <code>Precio_Extra</code> depende de <code>Ingrediente_Extra</code>, que es solo un trocito de nuestra larga clave primaria.</li>
</ul>
</li>
<li>
<p><strong>Dependencia del <code>Nombre_Pizza</code></strong>: Para saber que la "P01" es una "Margarita", 쯡ecesito el n칰mero de pedido o el ingrediente? No, solo necesito el <code>Pizza_ID</code>.</p>
<ul>
<li><code>Pizza_ID -&gt; Nombre_Pizza</code>
Esta es otra <strong>dependencia parcial</strong>. <code>Nombre_Pizza</code> depende de <code>Pizza_ID</code>, que es otra parte de la clave.</li>
</ul>
</li>
</ol>
<p><strong>쮼xiste alguna dependencia completa aqu칤?</strong> En esta tabla, tal como est치 dise침ada, no hay ning칰n atributo que necesite las tres partes de la clave para ser determinado. Esto nos indica que el dise침o es muy deficiente y necesita ser descompuesto. Por ejemplo, si a침adi칠ramos un campo <code>Comentario_Cliente</code> ("sin cortar"), ese campo s칤 podr칤a depender de la clave completa: <code>{Nro_Pedido, Pizza_ID, Ingrediente_Extra} -&gt; Comentario_Cliente</code>, porque el comentario es espec칤fico para un ingrediente en una pizza de un pedido concreto.</p>
<p><strong>Conclusi칩n del ejemplo:</strong> Una dependencia es completa solo si necesita <strong>todos</strong> los componentes de la clave compuesta para funcionar. Si le sobra aunque sea uno, es parcial. Las dependencias parciales son una se침al de alarma que nos grita: "춰Divide esta tabla!".</p>
<hr>
<p><u>Ejemplo 3: La Academia de Idiomas - Identificando la <strong>Dependencia Funcional Transitiva</strong></u></p>
<p>La academia "Polyglot" registra los cursos en los que se matriculan sus estudiantes.</p>
<p><strong>Tabla: <code>MATRICULAS</code></strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Matricula</th>
<th style="text-align: left;">ID_Estudiante</th>
<th style="text-align: left;">Nombre_Estudiante</th>
<th style="text-align: left;">ID_Curso</th>
<th style="text-align: left;">Nivel_Curso</th>
<th style="text-align: left;">ID_Profesor</th>
<th style="text-align: left;">Nombre_Profesor</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">MAT-01</td>
<td style="text-align: left;">EST-12</td>
<td style="text-align: left;">Ana Sanz</td>
<td style="text-align: left;">ING-B1</td>
<td style="text-align: left;">Intermedio</td>
<td style="text-align: left;">PROF-J</td>
<td style="text-align: left;">John Smith</td>
</tr>
<tr>
<td style="text-align: left;">MAT-02</td>
<td style="text-align: left;">EST-15</td>
<td style="text-align: left;">Luis Prado</td>
<td style="text-align: left;">FRA-A2</td>
<td style="text-align: left;">B치sico</td>
<td style="text-align: left;">PROF-S</td>
<td style="text-align: left;">Sophie Dubois</td>
</tr>
<tr>
<td style="text-align: left;">MAT-03</td>
<td style="text-align: left;">EST-12</td>
<td style="text-align: left;">Ana Sanz</td>
<td style="text-align: left;">FRA-A2</td>
<td style="text-align: left;">B치sico</td>
<td style="text-align: left;">PROF-S</td>
<td style="text-align: left;">Sophie Dubois</td>
</tr>
</tbody>
</table>
<p>La clave primaria que identifica cada acto de matriculaci칩n es <code>ID_Matricula</code>.</p>
<p>Vamos a seguir la cadena de dependencias:</p>
<ol>
<li>
<p><code>ID_Matricula</code> determina el estudiante (<code>ID_Estudiante</code>) y el curso (<code>ID_Curso</code>). 춰Correcto!</p>
<ul>
<li><code>ID_Matricula -&gt; ID_Estudiante</code></li>
<li><code>ID_Matricula -&gt; ID_Curso</code></li>
</ul>
</li>
<li>
<p>Ahora bien, <code>Nombre_Estudiante</code> no depende directamente de la matr칤cula, sino del estudiante.</p>
<ul>
<li><code>ID_Estudiante -&gt; Nombre_Estudiante</code></li>
</ul>
</li>
<li>
<p>Y aqu칤 viene lo interesante. El profesor asignado (<code>ID_Profesor</code> y <code>Nombre_Profesor</code>) no depende de la matr칤cula en s칤, sino del curso impartido. Cada curso tiene un profesor asignado.</p>
<ul>
<li><code>ID_Curso -&gt; ID_Profesor</code></li>
<li><code>ID_Profesor -&gt; Nombre_Profesor</code></li>
</ul>
</li>
</ol>
<p>춰Hemos encontrado la transitividad!</p>
<ul>
<li><code>ID_Matricula</code> (la clave) -&gt; <code>ID_Curso</code> (atributo no clave)</li>
<li><code>ID_Curso</code> (atributo no clave) -&gt; <code>Nombre_Profesor</code> (atributo no clave)</li>
</ul>
<p>El <code>Nombre_Profesor</code> depende de la <code>ID_Matricula</code>, pero de forma <strong>indirecta</strong>, a trav칠s del <code>ID_Curso</code>. Esto es una <strong>dependencia transitiva</strong>.</p>
<p><strong>쮺u치l es el peligro?</strong> Si la profesora Sophie Dubois se va de la academia y es reemplazada por "Pierre Martin" en el curso FRA-A2, tendr칤amos que buscar todas las matr칤culas de ese curso (la de Luis, la de Ana y la de cualquier otro alumno) para actualizar el nombre del profesor. Si nos dejamos una sola fila sin actualizar, tendremos datos inconsistentes.</p>
<p><strong>Conclusi칩n del ejemplo:</strong> La dependencia transitiva es como un "amigo de un amigo". Un atributo no clave no deber칤a darnos informaci칩n sobre otro atributo no clave. Cada concepto (estudiantes, cursos, profesores) deber칤a tener su propia tabla para evitar estas peligrosas dependencias en cadena.</p>
<p><em>El objetivo final de identificar estas dependencias es guiarnos para crear un dise침o de base de datos normalizado, donde cada pieza de informaci칩n est칠 en su lugar l칩gico y solo en uno.</em></p>
</details>
<h3 id="formas-normales">Formas Normales<a class="headerlink" href="#formas-normales" title="Permanent link">췄</a></h3>
<p><a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="images/03FN.png" data-desc-position="bottom"><img align="right" alt="" src="images/03FN.png" title="Formas normales" width="40%"></a></p>
<p>La normalizaci칩n consiste en una serie de pasos, cada uno de los cuales se corresponde a una forma normal (FN). Conforme se va avanzando en la normalizaci칩n, las tablas tienen una estructura m치s limpia y con menor redundancia.</p>
<p><em>Codd</em> propuso en 1972 tres formas normales, a las que se sum칩 la forma normal de <em>Boyce-Codd</em> en 1974, y luego se a침adieron dos m치s por parte de <em>Fagin</em> entre 1977 y 1979. En este curso, nos vamos a centrar en las tres primeras, que cubren la mayor칤a de casos con los que nos vamos a encontrar, ya que se considera que una base de datos que est치 en 3FN es una base de datos correctamente dise침ada</p>
<p>Todas las formas normales se construyen sobre una forma normal previa, de forma que se anidan unas dentro de otras:</p>
<ul>
<li>
<p><strong>1FN</strong>: Una relaci칩n est치 en primera forma normal si, y s칩lo si, todos sus dominios contienen valores at칩micos. Supone la eliminaci칩n de todos los campos multivaluados.</p>
<p>Por lo general, si tenemos una tabla de un modelo relacional, por las propias restricciones sem치nticas del modelo relacional, no deber칤amos tener ning칰n campo con varios valores, ya que deber칤an haberse transformado en relaciones 1:N.</p>
<p>1FN - Supuesto Comerciales</p>
<p>Como ninguna columna tiene m치s de un valor, la tabla ya est치 en 1FN.</p>
<div class="admonition abstract">
<p class="admonition-title">1FN - Supuesto Comerciales</p>
<p>Como ninguna columna tiene m치s de un valor, la tabla ya est치 en 1FN.</p>
</div>
</li>
<li>
<p><strong>2FN</strong>: una relaci칩n est치 en segunda forma normal si est치 en 1FN y todas las columnas que no son clave tienen un DFC de la clave primaria.</p>
<p>Para ello, descompondremos la tabla en varias subtablas, y comprobaremos que ning칰n subconjunto de los atributos no clave determinan campos no principales.</p>
<p>Si todas las claves candidatas de las tablas en 1FN son simples (unitarias), autom치ticamente las tablas ya est치n en 2FN. En cambio, si la clave primaria es compuesta, deberemos comprobar que todos los atributos dependen de la clave primaria compuesta y no de un subconjunto de esta.</p>
<details class="abstract">
<summary>2FN - Supuesto Comerciales</summary>
<p>Si revisamos las dependencia funcionales, hemos de comprobar que todos los atributos no clave dependan de toda la clave primaria. Para ello, necesitamos crear al menos tres tablas:</p>
<p><code>**COMERCIAL** (comercialID, comercialNom, estadoID, estadoDesc)</code><br>
<code>췅 PK: (codigo)</code><br><br></p>
<p><code>**CIUDAD** (ciudad, provincia, ciudadPob, provinciaPob)</code><br><br>
<code>췅 PK: (ciudad)</code></p>
<p><code>**REGISTRO** (comercialID*, ciudad*, provincia*, ventas)</code>
<code>췅 PK: (comercialID, ciudad, provincia)   췅 FK: (comercialID)  COMERCIAL   췅 FK: (ciudad, provincia)  CIUDAD</code><br><br></p>
<p>Dando como resultado las siguientes tablas con datos:</p>
<ul>
<li>
<p><code>COMERCIAL</code></p>
<table>
<thead>
<tr>
<th>comercialID</th>
<th>comercialNom</th>
<th>estadoID</th>
<th>estadoDesc</th>
</tr>
</thead>
<tbody>
<tr>
<td>C1</td>
<td>Carlos Suarez</td>
<td>JC</td>
<td>Jornada Completa</td>
</tr>
<tr>
<td>C2</td>
<td>Manoli Campos</td>
<td>JC</td>
<td>Jornada Completa</td>
</tr>
<tr>
<td>C3</td>
<td>Carlos Suarez</td>
<td>JPM</td>
<td>Jornada Partida Ma침anas</td>
</tr>
<tr>
<td>C4</td>
<td>Sonia S치nchez</td>
<td>JPT</td>
<td>Jornada Partida Tardes</td>
</tr>
<tr>
<td>C5</td>
<td>Marina Vidal</td>
<td>JC</td>
<td>Jornada Completa</td>
</tr>
<tr>
<td>C6</td>
<td>Michael Johnson</td>
<td>JC</td>
<td>Jornada Completa</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>CIUDAD</code></p>
<table>
<thead>
<tr>
<th>ciudad</th>
<th>provincia</th>
<th>ciudadPob</th>
<th>provinciaPob</th>
</tr>
</thead>
<tbody>
<tr>
<td>Elche</td>
<td>Alicante</td>
<td>230.000</td>
<td>1.800.000</td>
</tr>
<tr>
<td>Denia</td>
<td>Alicante</td>
<td>42.000</td>
<td>1.800.000</td>
</tr>
<tr>
<td>Aspe</td>
<td>Alicante</td>
<td>22.000</td>
<td>1.800.000</td>
</tr>
<tr>
<td>Cartagena</td>
<td>Murcia</td>
<td>218.000</td>
<td>1.520.000</td>
</tr>
<tr>
<td>Gand칤a</td>
<td>Valencia</td>
<td>73.000</td>
<td>2.550.000</td>
</tr>
<tr>
<td>Valencia</td>
<td>Valencia</td>
<td>807.000</td>
<td>1.800.000</td>
</tr>
<tr>
<td>Valencia</td>
<td>California</td>
<td>63.000</td>
<td>38.940.000</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>REGISTRO</code></p>
<table>
<thead>
<tr>
<th>comercialID<code>*</code></th>
<th>ciudad<code>*</code></th>
<th>provincia<code>*</code></th>
<th>ventas</th>
</tr>
</thead>
<tbody>
<tr>
<td>C1</td>
<td>Elche</td>
<td>Alicante</td>
<td>33</td>
</tr>
<tr>
<td>C1</td>
<td>Denia</td>
<td>Alicante</td>
<td>22</td>
</tr>
<tr>
<td>C2</td>
<td>Elche</td>
<td>Alicante</td>
<td>55</td>
</tr>
<tr>
<td>C2</td>
<td>Aspe</td>
<td>Alicante</td>
<td>44</td>
</tr>
<tr>
<td>C3</td>
<td>Cartagena</td>
<td>Murcia</td>
<td>17</td>
</tr>
<tr>
<td>C4</td>
<td>Gand칤a</td>
<td>Valencia</td>
<td>27</td>
</tr>
<tr>
<td>C5</td>
<td>Valencia</td>
<td>Valencia</td>
<td>37</td>
</tr>
<tr>
<td>C6</td>
<td>Valencia</td>
<td>California</td>
<td>47</td>
</tr>
</tbody>
</table>
</li>
</ul>
</details>
</li>
<li>
<p><strong>3FN</strong>: 2FN + todo atributo que no es clave primaria no tiene una dependencia funcional transitiva de otro atributo no clave, es decir, depende 칰nicamente de la clave primaria de modo no transitivo.</p>
<details class="abstract">
<summary>3FN - Supuesto Comerciales</summary>
<p>Ahora revisamos que no haya atributos que dependan de forma transitiva de la clave primaria. Tanto <code>COMERCIAL.estadoDesc</code> como <code>CIUDAD.provinciaPob</code> dependen de forma transitiva de un atributo no que es clave en sus tablas (<code>COMERCIAL.estadoID</code> y <code>CIUDAD.provincia</code>, respectivamente). Es decir, tenemos las DFT <code>comercialID  estadoID  estadoDesc</code> y <code>ciudad  provincia  provinciaPob</code>.</p>
<p>As칤 pues, para deshacer las dependencias funcionales transitivas dividimos las tablas <code>COMERCIAL</code> y <code>CIUDAD</code> en dos nuevas tablas (<code>ESTADO</code>y <code>PROVINCIA</code>):</p>
<p><code>**ESTADO** (estadoID, estadoDesc)</code><br>
<code>췅 PK: (codigo)</code></p>
<p><code>**COMERCIAL** (comercialID, comercialNom, estadoID*)</code><br>
<code>췅 PK: (codigo)   췅 FK: (estadoID)  ESTADO</code>
<br>
<code>**PROVINCIA** (provincia, provinciaPob)</code><br>
<code>췅 PK: (provincia)</code></p>
<p><code>**CIUDAD** (ciudad, provincia*, ciudadPob)</code><br>
<code>췅 PK: (ciudad)   췅 FK: (provincia)  PROVINCIA</code><br></p>
<p><code>**REGISTRO** (comercialID*, ciudad*, provincia*, ventas)</code><br>
<code>췅 PK: (comercialID, ciudad, provincia)</code><br>
<code>췅 FK: (comercialID)  COMERCIAL</code><br>
<code>췅 FK: (ciudad, provincia)  CIUDAD</code><br></p>
<p>Dando como resultado las siguientes tablas con datos:</p>
<div class="grid cards" markdown>
<ul>
<li>
<p><code>ESTADO</code></p>
<table>
<thead>
<tr>
<th>estadoID</th>
<th>estadoDesc</th>
</tr>
</thead>
<tbody>
<tr>
<td>JC</td>
<td>Jornada Completa</td>
</tr>
<tr>
<td>JPM</td>
<td>Jornada Partida Ma침anas</td>
</tr>
<tr>
<td>JPT</td>
<td>Jornada Partida Tardes</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>COMERCIAL</code></p>
<table>
<thead>
<tr>
<th>comercialID</th>
<th>comercialNom</th>
<th>estadoID<code>*</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>C1</td>
<td>Carlos Suarez</td>
<td>JC</td>
</tr>
<tr>
<td>C2</td>
<td>Manoli Campos</td>
<td>JC</td>
</tr>
<tr>
<td>C3</td>
<td>Carlos Suarez</td>
<td>JPM</td>
</tr>
<tr>
<td>C4</td>
<td>Sonia S치nchez</td>
<td>JPT</td>
</tr>
<tr>
<td>C5</td>
<td>Marina Vidal</td>
<td>JC</td>
</tr>
<tr>
<td>C6</td>
<td>Michael Johnson</td>
<td>JC</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>PROVINCIA</code></p>
<table>
<thead>
<tr>
<th>provincia</th>
<th>provinciaPob</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alicante</td>
<td>1.800.000</td>
</tr>
<tr>
<td>Murcia</td>
<td>1.520.000</td>
</tr>
<tr>
<td>Valencia</td>
<td>2.550.000</td>
</tr>
<tr>
<td>California</td>
<td>38.940.000</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>CIUDAD</code></p>
<table>
<thead>
<tr>
<th>ciudad</th>
<th>provincia<code>*</code></th>
<th>ciudadPob</th>
</tr>
</thead>
<tbody>
<tr>
<td>Elche</td>
<td>Alicante</td>
<td>230.000</td>
</tr>
<tr>
<td>Denia</td>
<td>Alicante</td>
<td>42.000</td>
</tr>
<tr>
<td>Aspe</td>
<td>Alicante</td>
<td>22.000</td>
</tr>
<tr>
<td>Cartagena</td>
<td>Murcia</td>
<td>218.000</td>
</tr>
<tr>
<td>Gand칤a</td>
<td>Valencia</td>
<td>73.000</td>
</tr>
<tr>
<td>Valencia</td>
<td>Valencia</td>
<td>807.000</td>
</tr>
<tr>
<td>Valencia</td>
<td>California</td>
<td>63.000</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><code>REGISTRO</code></p>
<table>
<thead>
<tr>
<th>comercialID<code>*</code></th>
<th>ciudad<code>*</code></th>
<th>provincia<code>*</code></th>
<th>ventas</th>
</tr>
</thead>
<tbody>
<tr>
<td>C1</td>
<td>Elche</td>
<td>Alicante</td>
<td>33</td>
</tr>
<tr>
<td>C1</td>
<td>Denia</td>
<td>Alicante</td>
<td>22</td>
</tr>
<tr>
<td>C2</td>
<td>Elche</td>
<td>Alicante</td>
<td>55</td>
</tr>
<tr>
<td>C2</td>
<td>Aspe</td>
<td>Alicante</td>
<td>44</td>
</tr>
<tr>
<td>C3</td>
<td>Cartagena</td>
<td>Murcia</td>
<td>17</td>
</tr>
<tr>
<td>C4</td>
<td>Gand칤a</td>
<td>Valencia</td>
<td>27</td>
</tr>
<tr>
<td>C5</td>
<td>Valencia</td>
<td>Valencia</td>
<td>37</td>
</tr>
<tr>
<td>C6</td>
<td>Valencia</td>
<td>California</td>
<td>47</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</details>
<p>El problema de la 3FN es que no maneja relaciones que:</p>
<ul>
<li>Tienen varias claves candidatas,</li>
<li>Esas claves candidatas son compuestas, y</li>
<li>Las claves candidatas tienen por lo menos un atributo en com칰n.
<br><br></li>
</ul>
</li>
<li>
<p><strong>FNBC</strong>: Es una mejora de la 3FN donde, si tenemos m치s de una clave candidata y estas son compuestas y comparten alg칰n atributo entonces, ning칰n atributo, sea clave o no, puede depender de algo que no sea la clave primaria.</p>
<p>Si la clave no es compuesta y no existe m치s de una clave candidata (s칩lo tenemos la clave primaria), la FNBC es equivalente a la 3FN.</p>
<p>El objetivo de la FNBC es asegurar que cada dato de una tabla depende 칰nicamente de una clave real y completa, y no de otra cosa.</p>
<details class="abstract">
<summary>FNBC - Supuesto Comerciales</summary>
<p>En nuestro caso, no tenemos m치s de una clave candidata, por lo que la FNBC es equivalente a la 3FN.</p>
</details>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">En resumen</p>
<p>En la pr치ctica, cuando todas las tablas est치n en FNBC, se puede considerar que la base de datos est치 totalmente normalizada. Una tabla en FNBC ya est치 desde 1FN hasta 3FN y tiene las siguientes caracter칤sticas:</p>
<ul>
<li>Tiene una clave primaria.</li>
<li>No tiene columnas multivaluadas.</li>
<li>Todas las columnas dependen de una clave pero nada m치s.</li>
<li>No contiene ninguna dependencia transitiva.</li>
</ul>
<p></p><figure markdown="span">
    <a class="glightbox" data-type="image" data-width="100%" data-height="auto" href="images/03normalizacion.png" data-desc-position="bottom"><img src="images/03normalizacion.png" width="90%"></a>
    <figcaption>Proceso de normalizaci칩n</figcaption>
</figure><p></p>
</div>
<h3 id="ejemplo-paso-a-paso">Ejemplo Paso a Paso<a class="headerlink" href="#ejemplo-paso-a-paso" title="Permanent link">췄</a></h3>
<details class="example">
<summary>Ejemplo 1: Paso a paso. Consultora de software</summary>
<p>Una peque침a consultora de software, "C칩digo Veloz", registra los datos de los proyectos en una 칰nica tabla. Vuestro objetivo es sanear y normalizar esta tabla para evitar problemas de redundancia e inconsistencia.</p>
<p><strong>Normalizaci칩n de una Tabla de Proyectos</strong></p>
<p>Una peque침a consultora de software, "C칩digo Veloz", registra los datos de los proyectos en una 칰nica tabla. Vuestro objetivo es sanear y normalizar esta tabla para evitar problemas de redundancia e inconsistencia.</p>
<p><u>La Tabla Inicial: <code>PROYECTOS_DESORDENADOS</code></u></p>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Proyecto</th>
<th style="text-align: left;">Nombre_Proyecto</th>
<th style="text-align: left;">ID_Empleado</th>
<th style="text-align: left;">Nombre_Empleado</th>
<th style="text-align: left;">Horas_Trabajadas</th>
<th style="text-align: left;">ID_Departamento</th>
<th style="text-align: left;">Jefe_Departamento</th>
<th style="text-align: left;">Salario_Base_Empleado</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">P100</td>
<td style="text-align: left;">App M칩vil</td>
<td style="text-align: left;">E01</td>
<td style="text-align: left;">Juan P칠rez</td>
<td style="text-align: left;">100</td>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
<td style="text-align: left;">40.000</td>
</tr>
<tr>
<td style="text-align: left;">P100</td>
<td style="text-align: left;">App M칩vil</td>
<td style="text-align: left;">E02</td>
<td style="text-align: left;">Mar칤a Sol</td>
<td style="text-align: left;">80</td>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
<td style="text-align: left;">55.000</td>
</tr>
<tr>
<td style="text-align: left;">P200</td>
<td style="text-align: left;">Web Cliente</td>
<td style="text-align: left;">E01</td>
<td style="text-align: left;">Juan P칠rez</td>
<td style="text-align: left;">120</td>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
<td style="text-align: left;">40.000</td>
</tr>
<tr>
<td style="text-align: left;">P300</td>
<td style="text-align: left;">Sistema IA</td>
<td style="text-align: left;">E03</td>
<td style="text-align: left;">Luis Rey</td>
<td style="text-align: left;">90</td>
<td style="text-align: left;">D02</td>
<td style="text-align: left;">Pedro Soto</td>
<td style="text-align: left;">60.000</td>
</tr>
</tbody>
</table>
<p><u>Paso 0: Identificaci칩n de Dependencias y Clave</u></p>
<p>Antes de empezar, asumimos que esta tabla ya est치 en <strong>Primera Forma Normal (1FN)</strong>, pues no hay grupos repetitivos ni atributos multivaluados (cada celda contiene un solo valor at칩mico).</p>
<ol>
<li>
<p><strong>Clave Primaria (CP):</strong> Para identificar de forma 칰nica cada fila (es decir, las horas que <em>un</em> empleado dedic칩 a <em>un</em> proyecto), necesitamos la combinaci칩n: <code>{ID_Proyecto, ID_Empleado}</code>.</p>
</li>
<li>
<p><strong>Dependencias Funcionales (DFs) Observadas:</strong></p>
<ul>
<li><code>ID_Proyecto -&gt; Nombre_Proyecto</code> (El ID del proyecto determina su nombre).</li>
<li><code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code> (El ID del empleado determina sus datos personales y salariales).</li>
<li><code>ID_Departamento -&gt; Jefe_Departamento</code> (El departamento determina qui칠n es su jefe).</li>
</ul>
</li>
</ol>
<hr>
<p><u>Paso 1: De 1FN a 2FN (Eliminar Dependencias Parciales)</u></p>
<p><strong>REGLA DE LA 2FN:</strong> Todos los atributos no clave deben ser completamente dependientes de <strong>toda</strong> la Clave Primaria.</p>
<p><em>Identificando las dependencias parciales:</em></p>
<ol>
<li><code>ID_Proyecto -&gt; Nombre_Proyecto</code>: El nombre del proyecto depende solo de <code>ID_Proyecto</code> (una parte de la clave). <strong>Dependencia Parcial.</strong></li>
<li><code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code>: Los datos del empleado dependen solo de <code>ID_Empleado</code> (otra parte de la clave). <strong>Dependencia Parcial.</strong></li>
</ol>
<p><em>Acci칩n: Descomponer la tabla para eliminar las dependencias parciales.</em></p>
<p><strong>Tabla 1.1: <code>ASIGNACION_PROYECTO</code></strong> (Retiene la clave primaria original y los atributos que dependen de ella de forma COMPLETA).
*   <strong>DF Remanente:</strong> <code>{ID_Proyecto, ID_Empleado} -&gt; Horas_Trabajadas</code>
*   <strong>CP:</strong> <code>{ID_Proyecto, ID_Empleado}</code></p>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Proyecto</th>
<th style="text-align: left;">ID_Empleado</th>
<th style="text-align: left;">Horas_Trabajadas</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">P100</td>
<td style="text-align: left;">E01</td>
<td style="text-align: left;">100</td>
</tr>
<tr>
<td style="text-align: left;">P100</td>
<td style="text-align: left;">E02</td>
<td style="text-align: left;">80</td>
</tr>
<tr>
<td style="text-align: left;">P200</td>
<td style="text-align: left;">E01</td>
<td style="text-align: left;">120</td>
</tr>
<tr>
<td style="text-align: left;">P300</td>
<td style="text-align: left;">E03</td>
<td style="text-align: left;">90</td>
</tr>
</tbody>
</table>
<p><strong>Tabla 1.2: <code>PROYECTOS</code></strong> (Extrae la informaci칩n que solo depende de <code>ID_Proyecto</code>).
*   <strong>DF Remanente:</strong> <code>ID_Proyecto -&gt; Nombre_Proyecto</code>
*   <strong>CP:</strong> <code>{ID_Proyecto}</code></p>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Proyecto</th>
<th style="text-align: left;">Nombre_Proyecto</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">P100</td>
<td style="text-align: left;">App M칩vil</td>
</tr>
<tr>
<td style="text-align: left;">P200</td>
<td style="text-align: left;">Web Cliente</td>
</tr>
<tr>
<td style="text-align: left;">P300</td>
<td style="text-align: left;">Sistema IA</td>
</tr>
</tbody>
</table>
<p><strong>Tabla 1.3: <code>EMPLEADOS</code></strong> (Extrae la informaci칩n que solo depende de <code>ID_Empleado</code>).
*   <strong>DF Remanente:</strong> <code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code>
*   <strong>CP:</strong> <code>{ID_Empleado}</code></p>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Empleado</th>
<th style="text-align: left;">Nombre_Empleado</th>
<th style="text-align: left;">ID_Departamento</th>
<th style="text-align: left;">Jefe_Departamento</th>
<th style="text-align: left;">Salario_Base_Empleado</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">E01</td>
<td style="text-align: left;">Juan P칠rez</td>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
<td style="text-align: left;">40.000</td>
</tr>
<tr>
<td style="text-align: left;">E02</td>
<td style="text-align: left;">Mar칤a Sol</td>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
<td style="text-align: left;">55.000</td>
</tr>
<tr>
<td style="text-align: left;">E03</td>
<td style="text-align: left;">Luis Rey</td>
<td style="text-align: left;">D02</td>
<td style="text-align: left;">Pedro Soto</td>
<td style="text-align: left;">60.000</td>
</tr>
</tbody>
</table>
<p><strong>Resultado:</strong> Las tres tablas est치n ahora en <strong>2FN</strong>.</p>
<hr>
<p><u>Paso 2: De 2FN a 3FN (Eliminar Dependencias Transitivas)</u></p>
<p><strong>REGLA DE LA 3FN:</strong> No debe existir ninguna dependencia funcional transitiva. Un atributo no clave no puede depender de otro atributo no clave.</p>
<p><em>Identificando las dependencias transitivas:</em></p>
<p>Revisamos las tablas 1.1 y 1.2 (que ya est치n perfectas) y nos centramos en la <strong>Tabla 1.3: <code>EMPLEADOS</code></strong>.</p>
<ul>
<li><strong>DF Observada:</strong> <code>ID_Departamento -&gt; Jefe_Departamento</code></li>
<li><strong>An치lisis:</strong><ul>
<li><code>ID_Empleado</code> es la clave primaria.</li>
<li><code>ID_Departamento</code> es un atributo no clave.</li>
<li><code>Jefe_Departamento</code> es un atributo no clave.</li>
<li>El <code>Jefe_Departamento</code> depende de <code>ID_Departamento</code>, que a su vez depende de la clave primaria (<code>ID_Empleado</code>). 춰<strong>Dependencia Transitiva</strong>!</li>
<li><code>ID_Empleado -&gt; ID_Departamento -&gt; Jefe_Departamento</code></li>
</ul>
</li>
</ul>
<p><em>Acci칩n: Crear una nueva tabla para romper la cadena transitiva.</em></p>
<p><strong>Tabla 2.1: <code>DEPARTAMENTOS</code></strong> (Extrae la informaci칩n de la dependencia transitiva).</p>
<ul>
<li><strong>DF Remanente:</strong> <code>ID_Departamento -&gt; Jefe_Departamento</code></li>
<li><strong>CP:</strong> <code>{ID_Departamento}</code></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Departamento</th>
<th style="text-align: left;">Jefe_Departamento</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
</tr>
<tr>
<td style="text-align: left;">D02</td>
<td style="text-align: left;">Pedro Soto</td>
</tr>
</tbody>
</table>
<p><strong>Tabla 2.2: <code>EMPLEADOS_NORMALIZADOS</code></strong> (Actualiza la tabla de empleados).</p>
<ul>
<li><strong>DF Remanente:</strong> <code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code></li>
<li><strong>CP:</strong> <code>{ID_Empleado}</code></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">ID_Empleado</th>
<th style="text-align: left;">Nombre_Empleado</th>
<th style="text-align: left;">ID_Departamento</th>
<th style="text-align: left;">Jefe_Departamento</th>
<th style="text-align: left;">Salario_Base_Empleado</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">E01</td>
<td style="text-align: left;">Juan P칠rez</td>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
<td style="text-align: left;">40.000</td>
</tr>
<tr>
<td style="text-align: left;">E02</td>
<td style="text-align: left;">Mar칤a Sol</td>
<td style="text-align: left;">D01</td>
<td style="text-align: left;">Ana Torres</td>
<td style="text-align: left;">55.000</td>
</tr>
<tr>
<td style="text-align: left;">E03</td>
<td style="text-align: left;">Luis Rey</td>
<td style="text-align: left;">D02</td>
<td style="text-align: left;">Pedro Soto</td>
<td style="text-align: left;">60.000</td>
</tr>
</tbody>
</table>
<p><strong>Resultado:</strong> Ahora tenemos cuatro tablas (ASIGNACION_PROYECTO, PROYECTOS, DEPARTAMENTOS, EMPLEADOS_NORMALIZADOS) que est치n en <strong>3FN</strong>.</p>
<hr>
<p><u>Paso 3: De 3FN a FNBC (Boyce-Codd)</u></p>
<p><strong>REGLA DE LA FNBC:</strong> Para cada dependencia funcional no trivial $X \rightarrow A$, $X$ debe ser una <strong>superclave</strong> (o sea, una clave candidata o un conjunto de atributos que la contienen).</p>
<p>En la mayor칤a de los casos de la vida real, si una tabla est치 en 3FN, tambi칠n lo estar치 en FNBC. La FNBC solo es m치s estricta cuando existen <strong>m칰ltiples claves candidatas que se solapan</strong>.</p>
<p><em>Identificando la posibilidad de FNBC:</em></p>
<p>Revisamos las cuatro tablas para buscar dependencias donde el determinante ($X$) no sea una superclave:</p>
<ol>
<li><strong><code>ASIGNACION_PROYECTO</code></strong>: DF: <code>{ID_Proyecto, ID_Empleado} -&gt; Horas_Trabajadas</code>. El determinante es la CP. <strong>OK</strong>.</li>
<li><strong><code>PROYECTOS</code></strong>: DF: <code>ID_Proyecto -&gt; Nombre_Proyecto</code>. El determinante es la CP. <strong>OK</strong>.</li>
<li><strong><code>DEPARTAMENTOS</code></strong>: DF: <code>ID_Departamento -&gt; Jefe_Departamento</code>. El determinante es la CP. <strong>OK</strong>.</li>
<li><strong><code>EMPLEADOS_NORMALIZADOS</code></strong>: DF: <code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code>. El determinante es la CP. <strong>OK</strong>.</li>
</ol>
<p><strong>춰PERO ESPERA!</strong> 쯈u칠 pasar칤a si la regla de negocio fuera: <em>Cada Salario Base determina un Nivel de Empleado, y solo los Jefes de Departamento pueden tener un Nivel 5</em>?</p>
<ul>
<li>Si a침adi칠ramos un atributo <code>Nivel_Empleado</code> a la tabla <code>EMPLEADOS_NORMALIZADOS</code> y existiera la DF: <code>Salario_Base_Empleado -&gt; Nivel_Empleado</code> (donde $X$ no es la clave), esto podr칤a forzarnos a aplicar FNBC.</li>
</ul>
<p><em>Ejemplo Hipot칠tico para romper FNBC (No aplica al caso anterior, pero es did치ctico):</em></p>
<p>Imaginemos que en la tabla de empleados existe una regla donde el <strong>Nombre del Empleado</strong> debe ser 칰nico. Tendr칤amos dos claves candidatas: <code>ID_Empleado</code> y <code>Nombre_Empleado</code>.</p>
<ul>
<li><strong>Claves Candidatas (CC):</strong> <code>{ID_Empleado}</code> y <code>{Nombre_Empleado}</code></li>
<li><strong>DFs:</strong> <code>ID_Empleado -&gt; Nombre_Empleado</code> y <code>Nombre_Empleado -&gt; ID_Empleado</code></li>
</ul>
<p>Si existiera la DF: <code>Nombre_Empleado -&gt; Salario_Base_Empleado</code>. El determinante (<code>Nombre_Empleado</code>) es una clave candidata (Superclave). <strong>Por lo tanto, sigue estando en FNBC.</strong></p>
<p><strong>Conclusi칩n del ejercicio:</strong> En este caso pr치ctico, al llegar a la <strong>3FN</strong> hemos satisfecho todos los requisitos de la <strong>FNBC</strong>.</p>
<p>RESUMEN FINAL DE LAS TABLAS NORMALIZADAS (FNBC)</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Tabla</th>
<th style="text-align: left;">Clave Primaria (CP)</th>
<th style="text-align: left;">Atributos</th>
<th style="text-align: left;">Dependencias Funcionales</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>ASIGNACION_PROYECTO</strong></td>
<td style="text-align: left;"><code>{ID_Proyecto, ID_Empleado}</code></td>
<td style="text-align: left;"><code>Horas_Trabajadas</code></td>
<td style="text-align: left;"><strong>Completa:</strong> <code>{ID_Proyecto, ID_Empleado} -&gt; Horas_Trabajadas</code></td>
</tr>
<tr>
<td style="text-align: left;"><strong>PROYECTOS</strong></td>
<td style="text-align: left;"><code>ID_Proyecto</code></td>
<td style="text-align: left;"><code>Nombre_Proyecto</code></td>
<td style="text-align: left;"><code>ID_Proyecto -&gt; Nombre_Proyecto</code></td>
</tr>
<tr>
<td style="text-align: left;"><strong>DEPARTAMENTOS</strong></td>
<td style="text-align: left;"><code>ID_Departamento</code></td>
<td style="text-align: left;"><code>Jefe_Departamento</code></td>
<td style="text-align: left;"><code>ID_Departamento -&gt; Jefe_Departamento</code></td>
</tr>
<tr>
<td style="text-align: left;"><strong>EMPLEADOS</strong></td>
<td style="text-align: left;"><code>ID_Empleado</code></td>
<td style="text-align: left;"><code>Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code></td>
<td style="text-align: left;"><code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code></td>
</tr>
</tbody>
</table>
<p>춰Con esto, hemos pasado de una tabla redundante y propensa a errores a un modelo relacional s칩lido, limpio y eficiente! Recordad, la normalizaci칩n es la clave para la integridad de vuestros datos.</p>
</details>
<h3 id="desnormalizacion">Desnormalizaci칩n<a class="headerlink" href="#desnormalizacion" title="Permanent link">췄</a></h3>
<p>El concepto de <strong>desnormalizar</strong> un modelo relacional consiste en transformar una base de datos a una forma normal menor, siempre con el objetivo de mejorar el rendimiento de las operaciones de consulta de datos, a costa de aceptar cierta redundancia de datos</p>
<p>Por ejemplo, podemos unir varias relaciones en una si se usan juntas frecuentemente mediante operaciones <em>join</em>.</p>
<p>Adem치s del rendimiento en las consultas, podemos desnormalizar nuestros modelos para simplificar el esquema o reducir la complejidad de ciertas consultas.</p>
<p>Un caso muy com칰n es unir los datos de dos tablas que tienen una relaci칩n 1:1 en una 칰nica tabla (siempre que la sem치ntica de las relaciones lo permita).</p>
<hr>
<h2 id="referencias">Referencias<a class="headerlink" href="#referencias" title="Permanent link">췄</a></h2>
<ul>
<li>
<p>Herramienta gr치fica <a href="https://erdplus.com/">ERDPlus</a> para la realizaci칩n de diagramas de modelos relacionales.</p>
</li>
<li>
<p>Materiales sobre el m칩dulo de BD:</p>
<ul>
<li><em><a href="https://ioc.xtec.cat/materials/FP/Recursos/fp_dam_m02_/web/fp_dam_m02_htmlindex/WebContent/u3/a1/continguts.html">Model Relacional</a> - Institut Obert de Catalunya</em></li>
<li><a href="https://jorgesanchez.net/manuales/gbd/modelo-relacional.html">Modelo Relacional</a> de <em>Jorge S치nchez</em></li>
<li><a href="https://apuntes-daw.javiergutierrez.trade/bases-de-datos/ut3/recopila.html">Bases de datos relacionales</a> de <em>Javier Guti칠rrez</em></li>
<li><a href="https://gestionbasesdatos.readthedocs.io/es/latest/Tema2/index.html">Dise침o de modelo l칩gicos normalizados</a> de gestionbasesdatos.readthedocs.io</li>
<li><a href="https://www.cs.us.es/cursos/bd-2023/temas/BD-Tema-2.pdf">Dise침o l칩gico</a> y <a href="https://www.cs.us.es/cursos/bd-2023/temas/BD-Tema-6.pdf">Normalizaci칩n</a> de la <em>Universidad de Sevilla</em></li>
</ul>
</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2025-2026 Jes칰s Garc칤a - Licencia CC BY-NC-SA
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="mailto:&lt;jssgarcia.docente@gmail.com&gt;" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 12.13c-.15.01-.29.06-.39.17l-1 1 2.05 2 1-1c.22-.21.22-.56 0-.77l-1.24-1.23a.56.56 0 0 0-.38-.17m-2 1.75L13 19.94V22h2.06l6.06-6.07M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7v-.89l8.24-8.22c.47-.49 1.12-.76 1.8-.76.34 0 .68.06 1 .19V6c0-1.12-.92-2-2.04-2m0 4-8 5-8-5V6l8 5 8-5"></path></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["header.autohide", "content.tabs.link", "content.code.copy", "content.code.select", "navigation.top", "navigation.path", "content.code.annotate", "content.tooltips"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>