{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"index.html","title":"Inicio","text":""},{"location":"index.html#bases-de-datos","title":"Bases de Datos","text":"<p>En este repositorio vamos a agrupar los materiales y actividades realizadas en el m\u00f3dulo 0484 de Bases de Datos del CFGS de Desarrollo de Aplicaciones Web/Multiplataforma (DAM), cuyo curriculum viene fijado por el Real Decreto 405/2023.</p> <p>La competencia que se trabaja en este curso es:</p> <ul> <li>d) Gestionar bases de datos, interpretando su dise\u00f1o l\u00f3gico y verificando integridad, consistencia, seguridad y accesibilidad de los datos.</li> </ul> <p>Y el objetivo general correspondiente es:</p> <ul> <li>e) Interpretar el dise\u00f1o l\u00f3gico, verificando los par\u00e1metros establecidos para gestionar bases de datos.</li> </ul> <p>Las l\u00edneas de actuaci\u00f3n en el proceso de ense\u00f1anza-aprendizaje que permiten alcanzar los objetivos del m\u00f3dulo versar\u00e1n sobre:</p> <ul> <li>La interpretaci\u00f3n de dise\u00f1os l\u00f3gicos de bases de datos.</li> <li>La realizaci\u00f3n del dise\u00f1o f\u00edsico de una base de datos a partir de un dise\u00f1o l\u00f3gico.</li> <li>La implementaci\u00f3n y normalizaci\u00f3n de bases de datos.</li> <li>La realizaci\u00f3n de operaciones de consulta y modificaci\u00f3n sobre los datos almacenados.</li> <li>La programaci\u00f3n de procedimientos almacenados.</li> <li>La utilizaci\u00f3n de bases de datos no relacionales.</li> </ul>"},{"location":"index.html#resultados-de-aprendizaje","title":"Resultados de Aprendizaje","text":"<p>Los diferentes resultados de aprendizaje (RA) trabajados junto con su peso aproximado, tal cual se indica en la programaci\u00f3n did\u00e1ctica, son:</p> C\u00f3digo Descripci\u00f3n Peso (%) RA1 Reconoce los elementos de las bases de datos analizando sus funciones y valorando la utilidad de los sistemas gestores. RA2 Crea bases de datos definiendo su estructura y las caracter\u00edsticas de sus elementos seg\u00fan el modelo relacional. RA3 Consulta la informaci\u00f3n almacenada en una base de datos empleando asistentes, herramientas gr\u00e1ficas y el lenguaje de manipulaci\u00f3n de datos. RA4 Modifica la informaci\u00f3n almacenada en la base de datos utilizando asistentes, herramientas gr\u00e1ficas y el lenguaje de manipulaci\u00f3n de datos. RA5 Desarrolla procedimientos almacenados evaluando y utilizando las sentencias del lenguaje incorporado en el sistema gestor de bases de datos. RA6 Dise\u00f1a modelos relacionales normalizados interpretando diagramas entidad/relaci\u00f3n. RA7 Gestiona la informaci\u00f3n almacenada en bases de datos no relacionales, evaluando y utilizando las posibilidades que proporciona el sistema gestor."},{"location":"index.html#unidades-de-trabajo","title":"Unidades de Trabajo","text":"<p>A partir de los RA, hemos definido 13 unidades de trabajo (UT).</p> <p>El m\u00f3dulo de Base de Datos viene fijado con una carga lectiva de 190h, repartidas en 6 sesiones semanales, a lo largo de 28 semanas. </p>"},{"location":"index.html#evaluacion","title":"Evaluaci\u00f3n","text":"<p>Para la evaluaci\u00f3n del m\u00f3dulo de Bases de Datos se ponderar\u00e1n los resultados de aprendizaje respecto a los porcentajes indicados en el apartado anterior.</p> <p>Para la evaluaci\u00f3n de cada RA, emplearemos diferentes Instrumentos de Evaluaci\u00f3n (IE), como pueden ser:</p> <ul> <li>Actividades de ense\u00f1anza/aprendizaje, normalmente realizadas en el aula, acompa\u00f1adas de una r\u00fabrica. Distinguiremos las actividades de clase ( AC), las cuales se calificar\u00e1n normalmente sobre una escala de 3 puntos, de las actividades de refuerzo (AR), tambi\u00e9n sobre 3 puntos para consolidar uno o varios CE no conseguidos, as\u00ed como actividades de profundizaci\u00f3n (AP) que aportar\u00e1n puntos extra al RA.</li> <li>Pr\u00e1cticas ( PR), con una carga temporal variable, entre una semana o toda una unidad did\u00e1ctica. Normalmente calificados sobre 10 puntos.</li> <li>Proyectos ( PY), bien de desarrollo individual o en parejas, sobre un determinado RA.</li> <li>Pruebas objetivas ( PO). En algunos RA, y no de forma generalizada, se realizar\u00e1 una prueba objetiva (ya sea escrita o en ordenador). Normalmente calificados sobre 30 puntos.</li> </ul> <p>Todas las calificaciones, tanto de los instrumentos de evaluaci\u00f3n como de los propios RA, se podr\u00e1 consultar en todo momento en la plataforma Moodle del curso.</p>"},{"location":"index.html#materiales","title":"Materiales","text":"<p>A lo largo del curso, iremos trabajando diferentes materiales disponibles en este espacio web.</p> <p>Cada una de las UT comenzar\u00e1 con un resumen de la Propuesta Did\u00e1ctica que se plantea, los elementos que va a cubrir, tanto el RA a trabajar como sus criterios de evaluaci\u00f3n (CE) asociados, as\u00ed como un cuestionario inicial para reflexionar nuestro conocimiento previo.</p> <p>En la parte final de cada sesi\u00f3n, adem\u00e1s de diferentes recursos de Referencia para ampliar conocimientos, se plantean una serie de Actividades que iremos trabajando en su mayor medida en el aula. Cada una de las actividades indica el RA que cubre, los CE que trabaja as\u00ed como su calificaci\u00f3n. Adem\u00e1s, las actividades est\u00e1n codificadas con el prefijo del tipo de instrumento de evaluaci\u00f3n, as\u00ed como la unidad que cubren (por ejemplo, la actividad AC207, ser\u00e1 la 7\u00aa actividad de clase de la unidad 2).</p> <p>Respecto a los recursos tecnol\u00f3gicos, aunque inicialmente trabajaremos mucho con papel y l\u00e1piz (para modelar es m\u00e1s r\u00e1pido crear esbozos en papel), luego pasaremos a utilizar los SGBD de MariaDB y PostgreSQL indistintamente, tanto mediante contenedores Docker o instalaci\u00f3n local. En las \u00faltimas unidades, trabajaremos bases de datos NoSQL.</p>"},{"location":"temas/01/index.html","title":"01 - Sistemas de Almacenamiento","text":""},{"location":"temas/01/index.html#introduccion-a-las-bases-de-datos","title":"Introducci\u00f3n a las bases de datos","text":""},{"location":"temas/01/index.html#propuesta-didactica","title":"Propuesta did\u00e1ctica","text":"<p>En esta unidad vamos a trabajar el RA1: Reconoce los elementos de las bases de datos analizando sus funciones y valorando la utilidad de los sistemas gestores.</p> Criterios de evaluaci\u00f3n <ul> <li>CE1a: Se han analizado los sistemas l\u00f3gicos de almacenamiento y sus caracter\u00edsticas.</li> <li>CE1b: Se han identificado los distintos tipos de bases de datos seg\u00fan el modelo de datos utilizado.</li> <li>CE1c: Se han identificado los distintos tipos de bases de datos en funci\u00f3n de la ubicaci\u00f3n de la informaci\u00f3n.</li> <li>CE1d: Se ha evaluado la utilidad de un sistema gestor de bases de datos.</li> <li>CE1e: Se ha reconocido la funci\u00f3n de cada uno de los elementos de un sistema gestor de bases de datos.</li> <li>CE1f: Se han clasificado los sistemas gestores de bases de datos.</li> <li>CE1i: Se ha identificado la legislaci\u00f3n vigente sobre protecci\u00f3n de datos.</li> </ul>"},{"location":"temas/01/index.html#contenidos-de-referencia","title":"Contenidos de referencia","text":"<p>Almacenamiento de la informaci\u00f3n:</p> <ul> <li>Ficheros (planos, indexados, acceso directo, entre otros).</li> <li>Bases de datos. Conceptos, usos y tipos seg\u00fan el modelo de datos, la ubicaci\u00f3n de la informaci\u00f3n.</li> <li>Sistemas gestores de base de datos: Funciones, componentes y tipos.</li> <li>Legislaci\u00f3n sobre protecci\u00f3n de datos.</li> </ul>"},{"location":"temas/01/index.html#introduccion","title":"Introducci\u00f3n","text":"<p>Seguro que has escuchado la frase \"Los datos son el petr\u00f3leo del siglo XXI\". A d\u00eda de hoy se generan datos de manera desorbitada, y estos son muy importantes para las empresas porque se puede extraer mucha informaci\u00f3n.</p> <p>Pero, \u00bfsabemos qu\u00e9 diferencia hay entre un dato e informaci\u00f3n? \u00bfCu\u00e1l es m\u00e1s importante?</p> <p>Un dato es un hecho, un evento, una transacci\u00f3n, que ha sido registrado. En cambio, consideramos informaci\u00f3n a los datos que han sido procesados y comunicados de tal manera que pueden ser entendidos e interpretados.</p> <p>Por ejemplo, si decimos que hace 22\u00baC \u00bfEs un dato o es informaci\u00f3n? Y si decimos que hace 22\u00aaC en Sevilla el 15 de Julio, \u00bftenemos informaci\u00f3n?</p> <p>Los datos necesitan de un contexto para poder obtener informaci\u00f3n. Muchas veces, dicho contexto, son m\u00e1s datos que nos permiten relacionar unos con otros. Una vez que se asimila la informaci\u00f3n, se transforma en conocimiento</p> Evoluci\u00f3n de los datos - https://cursos.clavijero.edu.mx <p>As\u00ed pues, lo importante es la informaci\u00f3n, pero necesitamos de datos para obtenerla.</p> <p>Estamos rodeados de datos</p> <p>En la sociedad actual existe una demanda cada vez mayor de datos. Esta demanda ha aumentado en los \u00faltimos a\u00f1os debido al acceso multitudinario a Internet y a la aparici\u00f3n de peque\u00f1os dispositivos (m\u00f3viles y tabletas). Constantemente hacemos uso de estos datos cuando accedemos al cajero autom\u00e1tico, al m\u00e9dico, a la agenda del m\u00f3vil\u2026.</p> <p>Inicialmente para almacenar estos datos se utilizaba archivadores, cajones, carpetas y fichas en las que se registraban los datos. Sin embargo, en la actualidad las empresas gestionan enormes sistemas de informaci\u00f3n, necesitando a veces varios ordenadores.</p> <p>Cuando la cantidad de datos es peque\u00f1a su tratamiento es sencillo, sin embargo, a medida que aumenta la cantidad de informaci\u00f3n, resulta m\u00e1s complejo su tratamiento y aqu\u00ed es donde intervienen los sistemas inform\u00e1ticos y concretamente las aplicaciones software que van a ayudar a realizar esta tarea.</p> <p>Antes de la aparici\u00f3n del ordenador, el tiempo requerido para manipular estos datos era enorme. Sin embargo, el proceso de aprendizaje era relativamente sencillo ya que se usaban elementos que el usuario reconoc\u00eda perfectamente.</p> <p>Por esa raz\u00f3n, la inform\u00e1tica adapt\u00f3 sus herramientas para que los elementos que el usuario maneja en el ordenador se parezcan a los que utilizaba manualmente. As\u00ed en inform\u00e1tica se sigue hablado de ficheros, formularios, carpetas, directorios...</p>"},{"location":"temas/01/index.html#sistemas-de-informacion","title":"Sistemas de informaci\u00f3n","text":"<p>Si nos centramos en el mundo empresarial, todas las empresas tienen un sistema de informaci\u00f3n, entendido como un conjunto de elementos destinados al tratamiento y administraci\u00f3n de datos e informaci\u00f3n, organizados y listos para su posterior uso, y generados para cubrir una necesidad (objetivo). Estos sistemas de informaci\u00f3n pueden (o no) estar informatizados.</p> <p>\ud83e\udd14 Podemos definir un Sistema de Informaci\u00f3n (SI) como un conjunto de elementos relacionados entre s\u00ed, cuyo objetivo es el tratamiento y administraci\u00f3n de los datos.</p>"},{"location":"temas/01/index.html#21-elementos","title":"2.1 Elementos","text":"<p>Un Sistema de Informaci\u00f3n est\u00e1 formado por los siguientes elementos:</p> <ul> <li>Recursos F\u00edsicos: Maquinaria y elementos que se utilizan para almacenar y manejar la informaci\u00f3n. Carpetas, documentos, equipamiento, archivadores, ...</li> <li>Recursos Humanos: Personal que maneja la informaci\u00f3n.</li> <li>Protocolo: Normas que se siguen para manejar la informaci\u00f3n (formato de la informaci\u00f3n, modelo para los documentos, \u2026)</li> <li>Datos: Informaci\u00f3n que se maneja.</li> </ul> <p>Un Sistema de Informaci\u00f3n se dise\u00f1a a fin de satisfacer las necesidades de informaci\u00f3n de una organizaci\u00f3n. Actualmente, en la mayor\u00eda de los casos, los Sistemas de Informaci\u00f3n son sistemas inform\u00e1ticos que hacen uso de ordenadores.</p> <p>La informaci\u00f3n en un Sistema Inform\u00e1tico se guarda en archivos y/o en bases de datos, almacenados estos en soportes de almacenamiento.</p> <p>A los sistemas inform\u00e1ticos en donde se almacena y recupera la informaci\u00f3n en archivos se les conoce como Sistemas de Gesti\u00f3n de Archivos, de igual forma, los sistemas basados en bases datos se les conoce como Sistemas de Gesti\u00f3n de Bases de Datos.</p>"},{"location":"temas/01/index.html#22-objetivos","title":"2.2 Objetivos","text":"<p>El objetivo de cualquier Sistema de Informaci\u00f3n es representar mediante una abstracci\u00f3n del mundo real, toda la informaci\u00f3n necesaria para el cumplimiento de sus fines (obtener facturas, stocks del almac\u00e9n, \u2026).</p> <p>Se entiende por abstracci\u00f3n a una representaci\u00f3n simplificada o generalizada de alg\u00fan aspecto de la realidad, teniendo en cuenta las caracter\u00edsticas m\u00e1s importantes y obviando los detalles innecesarios. Esta abstracci\u00f3n se realiza mediante un modelo de datos que es un conjunto de m\u00e9todos y reglas que indican como se ha de almacenar la informaci\u00f3n y como se han de manipular los datos.</p> Del mundo real al mundo f\u00edsico <p>Existen tres fases de modelo:</p> <ul> <li>Modelo Conceptual: es la representaci\u00f3n de la realidad no comprometida con ning\u00fan entorno inform\u00e1tico, ni con ning\u00fan usuario. Modelo Entidad-Relaci\u00f3n de Chen.</li> <li>Modelo L\u00f3gico: determinan unos criterios de almacenamiento y de operaciones de manipulaci\u00f3n de datos dentro de un tipo de entorno inform\u00e1tico.</li> <li>Modelo F\u00edsico: es la implementaci\u00f3n f\u00edsica del modelo anterior.</li> </ul> <p>Los SGBD se basan en un modelo l\u00f3gico concreto (Jer\u00e1rquico, Red, Orientado a Objetos, Relacional, \u2026).</p> <p>Existen tres fases de modelo:</p> <ul> <li>Modelo Conceptual: es la representaci\u00f3n de la realidad no comprometida con ning\u00fan entorno inform\u00e1tico, ni con ning\u00fan usuario. Modelo Entidad-Relaci\u00f3n de Chen.</li> <li>Modelo L\u00f3gico: determinan unos criterios de almacenamiento y de operaciones de manipulaci\u00f3n de datos dentro de un tipo de entorno inform\u00e1tico.</li> <li>Modelo F\u00edsico: es la implementaci\u00f3n f\u00edsica del modelo anterior.</li> </ul> <p>Los SGBD se basan en un modelo l\u00f3gico concreto (Jer\u00e1rquico, Red, Orientado a Objetos, Relacional, ...).</p> <p>Ejemplo Real de fases de modelado de una Base de Datos Relacional:</p> <p>Suponemos una cl\u00ednica veterinaria, los propietarios y sus mascotas.</p> <ol> <li>Del propietario interesa: DNI, apellidos, nombre, direcci\u00f3n, tel\u00e9fono.</li> <li>De la mascota interesa: Identificador, nombre, fecha nacimiento, tipo.</li> <li>Un propietario puede llevar una o varias mascotas.</li> <li>Una mascota la lleva un solo propietario.</li> </ol> <p>Ejemplo Real de fases de modelado de una Base de Datos Relacional:</p>"},{"location":"temas/01/index.html#23-componentes","title":"2.3. Componentes","text":"<p>Los componentes de un Sistema Inform\u00e1tico son:</p> <ul> <li>Hardware. Equipamiento f\u00edsico que se utiliza para gestionar los datos, es decir, cada uno de los dispositivos electr\u00f3nicos que permiten el funcionamiento del Sistema de Informaci\u00f3n.</li> <li>Software. Aplicaciones inform\u00e1ticas que se encargan de la gesti\u00f3n de los datos.</li> <li>Recursos humanos. Personal que maneja el Sistema de Informaci\u00f3n.</li> <li> <p>Protocolo o Modelo de datos. Conjunto de m\u00e9todos y reglas que indican como se ha de almacenar la informaci\u00f3n y c\u00f3mo se ha de manipular.</p> </li> <li> <p>Datos. Se trata de la informaci\u00f3n relevante que almacena y gestiona el Sistema de Informaci\u00f3n. Ejemplos de datos son: S\u00e1nchez, 12764569F, Calle Mayo 5, Azul...</p> </li> </ul>"},{"location":"temas/01/index.html#3-almacenamiento-de-la-informacion","title":"3. Almacenamiento de la Informaci\u00f3n","text":"<p>Al informatizar los sistemas la informaci\u00f3n deb\u00eda ser trasladada desde el papel al formato digital y por lo general, era necesario almacenarla para su posterior recuperaci\u00f3n, consulta y procesamiento.</p> Fichas manuales Ficheros de texto <p>De este modo, para llevar a cabo un tratamiento eficiente de la informaci\u00f3n era necesario establecer m\u00e9todos adecuados para su almacenamiento. El elemento que permiti\u00f3 llevar a cabo el almacenamiento de datos de forma permanente en dispositivos de memoria masiva fue el fichero o archivo.</p> <p>Fichero o Archivo: conjunto de informaci\u00f3n relacionada, tratada como un todo y organizada de forma estructurada para ser almacenada de forma persistente. Es una secuencia de d\u00edgitos binarios que organiza informaci\u00f3n relacionada con un mismo aspecto. Tienen un nombre y una extensi\u00f3n que indican el tipo de informaci\u00f3n que contienen.</p> <p>Los ficheros est\u00e1n formados por Registros L\u00f3gicos que contienen datos relativos a un mismo elemento u objeto (por ejemplo, los datos de usuarios de una plataforma educativa). A su vez, los registros est\u00e1n divididos en campos que contienen cada una de las informaciones elementales que forman un registro (por ejemplo, el nombre del usuario o su direcci\u00f3n de correo electr\u00f3nico).</p> <p>Los datos est\u00e1n almacenados de tal forma que se puedan a\u00f1adir, suprimir, actualizar o consultar individualmente en cualquier momento.</p>"},{"location":"temas/01/index.html#31-tipos-de-archivos","title":"3.1. Tipos de Archivos","text":"<p>Podemos hacer distintas clasificaciones dependiendo del criterio que tomemos</p>"},{"location":"temas/01/index.html#segun-su-contenido-de-forma-general","title":"Seg\u00fan su Contenido de Forma General","text":"<ul> <li> <p>Fichero de Texto: Suelen llamarse tambi\u00e9n ficheros planos o ficheros ASCII. Est\u00e1n formados por caracteres que son directamente legibles por el ser humano, no llevan ning\u00fan tipo de formato. Dentro de estos tenemos: .c, java, .rtf, .txt, ...</p> </li> <li> <p>Fichero Binario: Son todos los que no son de texto:</p> </li> <li> <p>De imagen:.jpg..gif,.</p> </li> <li>De v\u00eddeo:.mpg,.mov,.avi.</li> <li>Comprimidos o empaquetados: .zip,.tar,</li> <li>Ejecutables o compilados:.exe,.com.</li> <li>Procesadores de textos:.doc,.odt</li> </ul>"},{"location":"temas/01/index.html#segun-su-funcion","title":"Seg\u00fan su Funci\u00f3n","text":"<ul> <li> <p>Ficheros Permanentes: Contienen informaci\u00f3n relevante para una aplicaci\u00f3n. Es decir, los datos necesarios para el funcionamiento de \u00e9sta. Tienen un periodo de permanencia en el sistema amplio. Estos se pueden subdividir en:</p> </li> <li> <p>Ficheros Maestros: Contiene el estado actual de los datos que pueden modificarse desde la aplicaci\u00f3n. Es la parte central de la aplicaci\u00f3n, su n\u00facleo. Podr\u00eda ser un archivo con los datos de los usuarios de una plataforma educativa.</p> </li> <li> <p>Ficheros Constantes: Son aquellos que incluyen datos fijos para la aplicaci\u00f3n. No suelen ser modificados y se accede a ellos para realizaci\u00f3n de consultas. Podr\u00eda ser un archivo con c\u00f3digos postales.</p> </li> <li> <p>Ficheros Temporales: Se utilizan para almacenar informaci\u00f3n \u00fatil para una parte de la aplicaci\u00f3n, no para toda ella. Son generados a partir de datos de ficheros permanentes. Tienen un corto periodo de existencia.</p> </li> </ul>"},{"location":"temas/01/index.html#segun-el-soporte-de-almacenamiento","title":"Seg\u00fan el Soporte de Almacenamiento","text":"<p>Inicialmente se utilizaban tambores de cinta magn\u00e9tica pasando con el tiempo al uso de cintas magn\u00e9ticas y de discos (magn\u00e9ticos, \u00f3pticos, magneto-\u00f3pticos, ssd). Dentro de estos dos tipos de soporte existen en el mercado una gran variedad de modelos.</p> Soportes de Almacenamiento <p>El acceso a la informaci\u00f3n en las cintas era Secuencial, como en un casette, siendo necesario pasar por todos los datos desde el inicio hasta la zona donde se encuentra la informaci\u00f3n que nos interesa.</p> <p>El avance del hardware y la aparici\u00f3n del disquete y del disco duro permiti\u00f3 el Acceso Directo a la informaci\u00f3n, no siendo necesario en ellos pasar por todos los datos desde el inicio hasta la zona donde se encuentra la informaci\u00f3n que nos interesa.</p> <p>Por tanto, se distinguen dos Tipos de Soportes para el almacenamiento de datos:</p> <ul> <li> <p>Soportes de Acceso Directo (Por ejemplo: discos). Son los m\u00e1s empleados y el acceso a los datos puede hacerse de forma directa, pudiendo colocarnos en la posici\u00f3n que nos interesa y leer a partir de ella.</p> </li> <li> <p>Soportes de Acceso Secuencial (Por ejemplo: cintas magn\u00e9ticas). Se suelen usar en copias de seguridad y si deseamos leer un dato que est\u00e1 en la mitad de la cinta, tendremos que leer todo lo que hay hasta llegar a esa posici\u00f3n.</p> </li> </ul> <p>En el fichero \"Evolucion Soportes Almacenamiento.pdf\" en Recursos tienes informaci\u00f3n sobre la evoluci\u00f3n de los soportes de almacenamiento.</p>"},{"location":"temas/01/index.html#segun-el-metodo-de-acceso","title":"Seg\u00fan el M\u00e9todo de Acceso","text":"<p>Determina la forma de organizar un fichero en un soporte y la forma en la que se accede a la informaci\u00f3n. Pueden ser Secuenciales, Acceso Directo e Indexado.</p> <ul> <li> <p>Secuencial: En este tipo de ficheros los registros est\u00e1n almacenados de forma contigua, de manera, que la \u00fanica forma de acceder a \u00e9l, es leyendo un registro tras otro desde el principio hasta el final. En los ficheros secuenciales suele haber una marca indicativa del fin del fichero, que suele denominarse EOF (End of File).</p> </li> <li> <p>Acceso Directo: Se accede a un registro indicando la posici\u00f3n relativa del mismo dentro del archivo o, m\u00e1s com\u00fanmente, a trav\u00e9s de una clave que forma parte del registro como un campo m\u00e1s. Deben almacenarse en dispositivos de memoria masiva de acceso directo, como son los discos magn\u00e9ticos. A trav\u00e9s de una transformaci\u00f3n espec\u00edfica aplicada a la clave, se obtendr\u00e1 la direcci\u00f3n f\u00edsica en la que se encuentra el registro.</p> </li> <li> <p>Ficheros Indexados: Se basan en la utilizaci\u00f3n de \u00edndices, que permiten el acceso a un registro del fichero de forma directa, sin tener que leer los anteriores (similares a los de los libros para acceder a un cap\u00edtulo a trav\u00e9s de la p\u00e1gina). Tienen una zona de registros en la que se encuentran los datos del archivo y una zona de \u00edndices (en memoria principal), que contiene una tabla con las claves de los registros y las posiciones de memoria donde se encuentran los mismos. La tabla de \u00edndices estar\u00e1 ordenada por el campo clave.</p> </li> <li> <p>Secuenciales Indexados o Parcialmente Indexados: La zona de registros de datos se encuentra dividida en segmentos (bloques de registros) ordenados, de forma que se accede directamente al primer registro y a partir de ah\u00ed el acceso es secuencial ya que est\u00e1 ordenado.</p> </li> </ul>"},{"location":"temas/01/index.html#32-bases-de-datos","title":"3.2. Bases de Datos","text":"<p>A finales de los 70 los sistemas basados en ficheros separados dieron paso a la utilizaci\u00f3n de Sistemas Gestores de Bases de Datos, que son sistemas software centralizados o distribuidos que ofrecen facilidades para la definici\u00f3n de bases de datos, selecci\u00f3n de estructuras de datos y b\u00fasqueda de forma interactiva y mediante lenguajes de programaci\u00f3n.</p> <p>Una Base de Datos es una colecci\u00f3n de datos que est\u00e1n l\u00f3gicamente relacionados entre s\u00ed almacenados de forma estructurada en su conjunto sin redundancias perjudiciales. Ej. Profesor, m\u00f3dulo, alumnos. Ej. Clientes y facturas.</p> <p>Los datos est\u00e1n estructurados seg\u00fan un Modelo de Datos que refleja las relaciones y restricciones que tienen estos datos en el mundo real. Ej. M\u00f3dulo es impartido por 1 profe, 1 alumno varios m\u00f3dulos, ...Ej. Una factura un solo cliente.</p> <p>Las operaciones que se realizan con los datos han de conservar la integridad y la seguridad de la Base de Datos:</p> <ul> <li> <p>Integridad: Son las reglas y restricciones que se han definido para los datos que se almacenaran en la BD. Ej. Cada factura debe tener un cliente y solo uno. Todos los clientes deben tener nombres y apellidos no nulos.</p> </li> <li> <p>Seguridad: Podemos distinguir dos niveles:</p> </li> <li> <p>Nivel F\u00edsico, donde podemos tener errores de Hardware (como p\u00e9rdida del disco duro, se recupera con copias de respaldo) y errores de Software (como fallos l\u00f3gicos del programa, se recupera a partir de ficheros Log).</p> </li> <li> <p>Nivel L\u00f3gico, se refiere a la confidencialidad de los datos, se controla: \u00bfqui\u00e9n? (usuario), accede \u00bfa qu\u00e9? informaci\u00f3n (tabla, columna), y \u00bfde qu\u00e9? manera (leer, escribir, borrar).</p> </li> </ul> <p>Una Base de Datos est\u00e1 formada por:</p> <ul> <li> <p>Entidades: objeto real o abstracto con caracter\u00edsticas diferenciadoras de otros, del que se almacena informaci\u00f3n en la Base de Datos. Dicho de otra forma, es algo acerca de lo cual se desea almacenar informaci\u00f3n. En una Base de Datos de una centro escolar posibles entidades podr\u00edan ser: alumnos, asignaturas, profesores.</p> </li> <li> <p>Atributos: son los datos que se almacenan de la entidad. Cualquier propiedad o caracter\u00edstica de una entidad puede ser atributo. De la entidad alumnos, nombre, apellidos, dni, fecha nacimiento, etc...</p> </li> <li> <p>Registros: conjunto de atributos de la entidad que define un item del objeto. Ej.: Juan Lopez Garrido 123456789Z 01/01/2001</p> </li> </ul>"},{"location":"temas/01/index.html#33-sistemas-de-gestion-de-archivos-vs-sgbd","title":"3.3. Sistemas de Gesti\u00f3n de Archivos vs SGBD","text":""},{"location":"temas/01/index.html#sistemas-de-gestion-de-archivos-sistemas-orientados-a-procesos","title":"Sistemas de Gesti\u00f3n de Archivos (Sistemas Orientados a Procesos)","text":"<p>Hasta la aparici\u00f3n de las Bases de Datos las aplicaciones utilizaban datos estructurados en forma de ficheros. En funci\u00f3n de su organizaci\u00f3n y forma de acceso los ficheros se clasifican, como hemos visto, en secuenciales, directos, indexados y secuenciales indexados.</p> <p>Este tipo de sistema de Gesti\u00f3n de Archivos se les llama Sistemas Orientados al Proceso.</p> <p>Cada una de las aplicaciones dispon\u00eda de su propio conjunto de ficheros en donde se almacenaban los datos necesarios para dicha aplicaci\u00f3n, al mismo tiempo esos ficheros estaban estructurados de acuerdo a la forma que ten\u00eda la aplicaci\u00f3n de tratarlos.</p> <p>Inconvenientes de los Sistemas de Gesti\u00f3n de Archivos</p> <ul> <li> <p>Redundancia de datos. Suele ocurrir que muchos datos est\u00e9n en dos o m\u00e1s ficheros, por ejemplo, la direcci\u00f3n o el tel\u00e9fono de un cliente se puede encontrar repetidos en varios ficheros de la empresa, por ejemplo, en la aplicaci\u00f3n que trabaja con n\u00f3mina y en la que trabaja con el dpto. comercial.</p> </li> <li> <p>Inconsistencia de datos. Como existen datos repetidos, ocurre con demasiada frecuencia que la actualizaci\u00f3n de un dato no se lleva a cabo en todos los ficheros en que este dato existe. Surge de esta manera la discrepancia de valores de un mismo dato (inconsistencia) no pudi\u00e9ndose incluso determinar, en algunas ocasiones, cu\u00e1l de los valores es el correcto. Nos podemos encontrar, por ejemplo, que dos aplicaciones de la misma empresa nos proporcionen distintas direcciones de un mismo cliente \u00bfa d\u00f3nde le mandamos la factura?</p> </li> <li> <p>Datos son dependientes de los tratamientos que se realicen sobre ellos. Las estructuras de los ficheros est\u00e1n pensadas para determinadas aplicaciones. En cualquier aplicaci\u00f3n basada en los sistemas de gesti\u00f3n de archivos, los programadores deben definir su organizaci\u00f3n, el modo de acceso a los registros, su estructura, etc., lo que implica que los programas sean dependientes de los archivos y viceversa.</p> </li> <li> <p>Sistemas poco escalables. Modificaci\u00f3n de tratamiento o cambio de requerimientos implica: reestructuraci\u00f3n de ficheros, modificaci\u00f3n y recompilaci\u00f3n de programas que lo usan. Esto provoca que crea poca flexibilidad ante cambios de requerimiento y alto coste en mantenimiento de software, por ejemplo, al a\u00f1adir un campo a clientes. Si se reestructura los datos hay que cambiar los programas que los usan.</p> </li> <li> <p>Falta de Integridad. Es dif\u00edcil mantener ciertas condiciones en los datos ya que depender\u00e1 del programa que acceda a esos datos.</p> </li> <li> <p>Dificultad para administrar seguridad. No se puede controlar que ciertos usuarios no accedan a ciertos datos debido a la dispersi\u00f3n que presentan.</p> </li> </ul>"},{"location":"temas/01/index.html#sistemas-de-gestion-de-bases-de-datos-sistemas-orientados-a-datos","title":"Sistemas de Gesti\u00f3n de Bases de Datos (Sistemas Orientados a Datos)","text":"<p>Los Sistemas de Bases de Datos pretenden dar soluci\u00f3n a los problemas de los Sistemas de Gesti\u00f3n de Archivos mediante la integraci\u00f3n de toda la informaci\u00f3n en una \u00fanica colecci\u00f3n de datos no redundantes, generalmente de gran tama\u00f1o y accesible por todas las aplicaciones y usuarios autorizados, incluso, simult\u00e1neamente.</p> <p>Ahora bien, para que sea posible la superaci\u00f3n de estos inconvenientes es necesario un correcto dise\u00f1o de la Base de Datos adem\u00e1s de establecer los mecanismos de administraci\u00f3n, seguridad y control que eviten los posibles accidentes o da\u00f1os deliberados de la Base de Datos. Un fallo en la Base de Datos de una organizaci\u00f3n puede acarrear catastr\u00f3ficas consecuencias para \u00e9sta.</p> <p>Caracter\u00edsticas de los Sistemas de Gesti\u00f3n de Bases de Datos</p> <ul> <li> <p>Los datos se estructuran seg\u00fan un modelo (forma de representar los datos) que refleja las caracter\u00edsticas que tienen en el mundo real, y ese modelo permite que cualquier proceso pueda tratar los datos.</p> </li> <li> <p>Los datos son independientes de los tratamientos que se realicen sobre ellos. (Sistemas de Informaci\u00f3n Integrados).</p> </li> <li> <p>Descripci\u00f3n centralizada de los datos. La definici\u00f3n de los datos se almacena en la misma Base de Datos, de manera que los tratamientos no tienen que especificar de nuevo la definici\u00f3n de los datos. Adem\u00e1s, esto ofrece una mejor y m\u00e1s normalizada documentaci\u00f3n de la informaci\u00f3n.</p> </li> <li> <p>Eficiencia en la restructuraci\u00f3n de los datos. Al estar los datos estructurados seg\u00fan un modelo no se producen redundancias de datos. Es decir que un mismo dato no aparece en dos o m\u00e1s ficheros. Esto evita tres problemas:</p> </li> <li> <p>No se desperdicia espacio en memoria almacenando la misma informaci\u00f3n varias veces.</p> </li> <li>Se ahorra tiempo de proceso al no tener que modificar el dato en varios ficheros.</li> <li> <p>Se evita la corrupci\u00f3n de la Base de Datos ya que al modificar un dato habr\u00eda que hacerlo en todos los ficheros en que aparece, y si no se modifica en algunos de los ficheros, la informaci\u00f3n de la Base de Datos ser\u00eda inconsistente.</p> </li> <li> <p>Reducci\u00f3n de espacio de almacenamiento en disco. Los sistemas de Base de Datos optimizan el espacio requerido para almacenar los datos en discos, hasta un 50% m\u00e1s que los sistemas de ficheros tradicionales.</p> </li> <li> <p>Seguridad de los datos y control de autorizaciones. El DBA (administrador de Base de Datos) decide los accesos (\u00bfqui\u00e9n? \u00bfa qu\u00e9? \u00bfc\u00f3mo?) concediendo y denegando permisos seg\u00fan las necesidades reales.</p> </li> <li> <p>Auditor\u00eda de actividad. El uso de ficheros auditores permite sobre quien accedi\u00f3, a qu\u00e9 y de qu\u00e9 manera.</p> </li> <li>Control de accesos simult\u00e1neos. Ej. Reserva de billetes o entradas.</li> <li>Recuperaci\u00f3n de datos da\u00f1ados ante procesos de actualizaci\u00f3n incompletos o err\u00f3neos. En los sistemas orientados a ficheros se utilizaban copias.</li> <li>Mayor nivel inform\u00e1tico Los sistemas de bases de datos ofrecen herramientas m\u00e1s potentes y m\u00e1s sencillas para la   manipulaci\u00f3n de los datos.</li> </ul> <p>Los Sistemas de Bases de Datos est\u00e1 integrados en los entornos de desarrollo de cuarta generaci\u00f3n, mientras que los Sistemas de Ficheros pertenecen a entornos de desarrollo de tercera generaci\u00f3n.</p> <p>Seg\u00fan lo que hemos visto, podemos afirmar que los Sistemas de Gesti\u00f3n de Archivos son sistemas de informaci\u00f3n orientados hacia los procesos, existiendo una gran dependencia datos/aplicaciones. Por el contrario, en los Sistemas de Gesti\u00f3n de Bases de Datos existe total independencia entre los datos y las aplicaciones que los tratan</p>"},{"location":"temas/01/index.html#4-elementos-de-una-base-de-datos","title":"4. Elementos de una Base de Datos","text":"<ul> <li> <p>Los Datos.   Es el conjunto de datos estructurados y almacenados en un soporte magn\u00e9tico u \u00f3ptico de acceso   directo. Este conjunto de datos es lo que suele denominarse Base de Datos.</p> </li> <li> <p>La Metabase.   Es la informaci\u00f3n sobre los datos de la Base de Datos. Es imprescindible para que el sistema   autodocumentado pueda suministrar a los usuarios, al administrador y al Sistema Gestor de Base de   Datos, la informaci\u00f3n que necesitan sobre los datos almacenados y su funcionamiento.</p> </li> </ul> <p>Los elementos fundamentales de la Metabase son:</p> <ul> <li>Cat\u00e1logo o Diccionario de Datos: descripci\u00f3n l\u00f3gica de cada uno de los datos (es decir desde el punto de vista del usuario): tipo, fichero en el que se encuentra, relaciones entre ficheros, vistas, etc.</li> <li>Directorio de Datos: descripci\u00f3n f\u00edsica que permite pasar de la representaci\u00f3n externa a la interna.</li> <li>Sistema de Seguridad: es a dos niveles.<ul> <li>Seguridad L\u00f3gica: control de permisos de acceso de los usuarios a los datos.</li> <li>Seguridad F\u00edsica: consiste en registrar en unos ficheros llamados Log o Dietario, las operaciones realizadas en la Base de Datos con el objeto de poder deshacerlas en caso de errores.</li> </ul> </li> <li> <p>Software de Gesti\u00f3n del Sistema (Logical). Es el conjunto de programas, procedimientos, lenguajes etc., capaces de realizar todos los tratamientos exigidos para el funcionamiento del sistema.</p> <ul> <li>SGBD   Es el n\u00facleo de un sistema de Base de Datos. Permite que el usuario pueda crear, actualizar y recuperar los datos contenidos en la Base de Datos. Es decir, interpreta las \u00f3rdenes del usuario y las ejecuta f\u00edsicamente.</li> </ul> <p>Est\u00e1 formado por:</p> <pre><code>  - **Gestor de almacenamiento**: Es el m\u00f3dulo que proporciona la interfaz entre los datos almacenados y los programas de aplicaci\u00f3n y consultas solicitadas al sistema.\n\n    A su vez est\u00e1 consta de:\n\n    - **Gestor de Transacciones**: Asegura que la Base de Datos sea consistente ante fallos en el sistema.\n    - **Gestor de Archivos**: Gestiona la reserva de espacio de disco y las estructuras de datos para representar los datos almacenados en el disco.\n    - **Gestor de Memoria Intermedia**: Se encarga de traer los datos desde el disco a la memoria principal y decidir qu\u00e9 datos se llevan a la memoria cach\u00e9\n</code></pre> <ul> <li>GESTOR DE CONSULTAS:   Est\u00e1 formado por:</li> <li>Int\u00e9rprete del DDL (Lenguaje de Definici\u00f3n de Datos): Interpreta el DDL y graba las definiciones en el Diccionario de Datos.</li> <li>Compilador del DML (Lenguaje de Manipulaci\u00f3n de Datos): Traduce las consultas a instrucciones de bajo nivel que puedan ser ejecutadas por el motor de consultas. Tambi\u00e9n optimiza las consultas.</li> <li>Motor de Evaluaci\u00f3n de Consultas: Ejecuta las instrucciones dadas por el Compilador DML.</li> </ul> </li> <li> <p>Utilidades de administraci\u00f3n de la Base de Datos que facilitan las tareas de mantenimiento y seguridad de la Base de Datos. Estos programas realizan tareas como: modificaci\u00f3n del tama\u00f1o de los ficheros, obtenci\u00f3n de estad\u00edsticas de utilizaci\u00f3n, carga de ficheros, obtenci\u00f3n de copias de seguridad, recuperaci\u00f3n tras una ca\u00edda del sistema, etc.</p> </li> <li> <p>Herramientas de desarrollo de aplicaciones.     PL/SQL (Procedural Language/Structured Query Language), generador de informes (report),     de pantallas (forms), APEX, \u2026</p> </li> </ul>"},{"location":"temas/01/index.html#5-niveles-de-abstraccion-de-la-bd-modelo-ansix3sparc","title":"5. Niveles de Abstracci\u00f3n de la BD: Modelo ANSI/X3/SPARC","text":"<p>La arquitectura ANSI/X3/SPARC (del grupo de trabajo SPARC de la secci\u00f3n X3 de ANSI (American National Standards Institute)) establece tres niveles de abstracci\u00f3n que todo SGBD debe cumplir.</p> <p>Lo que se persigue estableciendo esta estructura es la independencia entre el sistema y los datos, para ocultar al usuario toda la complejidad del sistema y facilitarle la interacci\u00f3n con el mismo.</p> <p>Los niveles establecen distintos grados de abstracci\u00f3n sobre el mismo conjunto de datos.</p> <p>Estos 3 niveles de abstracci\u00f3n, desde el m\u00e1s cercano a la m\u00e1quina hasta el m\u00e1s cercano al usuario final, son:</p> <ul> <li>Nivel Interno o F\u00edsico: Es el nivel m\u00e1s bajo de abstracci\u00f3n y en el que existe realmente la Base de Datos. En \u00e9l se describen como se almacenan los datos y la estructura de los mismos. Este nivel tiene que ver con la forma en que los datos est\u00e1n almacenados f\u00edsicamente. Esta visi\u00f3n s\u00f3lo la   requiere el DBA.</li> <li>Nivel L\u00f3gico o Conceptual: En \u00e9l se describe cu\u00e1les son los datos que se almacenan y qu\u00e9 relaciones se establecen entre ellos, representando de forma completa la Base de Datos con estructuras simples. Es el primer paso a realizar al crear una Base de Datos. Cuando hablamos del dise\u00f1o de una BD nos estamos refiriendo a este esquema.   El esquema conceptual lo realiza Dise\u00f1adores/as o Analistas a partir de los requerimientos del cliente. Y luego es utilizado por los desarrolladores de aplicaciones.</li> <li>Nivel Externo: Est\u00e1 formado por el conjunto de las vistas de usuario, siendo una vista de usuario la fracci\u00f3n de la Base de Datos que ve un usuario en concreto. En este nivel es donde trabajan los programas de aplicaci\u00f3n de usuario. Se trata de la visi\u00f3n de los datos que se les ofrece a los usuarios finales (tablas, vistas, formularios, informes, ...). Estas vistas las obtienen los Desarrolladores de Aplicaciones, de modo que el usuario no conoce las relaciones entre los datos, como tampoco conoce todos los datos que realmente se almacenan. As\u00ed, cada usuario puede ver una base de datos diferente seg\u00fan sea el nivel de acceso que se le haya concedido</li> </ul> <p>En una Base de Datos determinada habr\u00e1 un \u00fanico esquema interno, un \u00fanico esquema conceptual, pero varios esquemas en el nivel externo.</p>"},{"location":"temas/01/index.html#51-correspondencia-entre-niveles","title":"5.1 Correspondencia entre Niveles","text":"<p>Es necesario establecer unas reglas para poder pasar del nivel f\u00edsico al l\u00f3gico y del l\u00f3gico al externo. Estas reglas se denominan correspondencias entre niveles y se guardan en el Diccionario de Datos.</p> <p>La independencia de los datos puede darse a dos niveles:</p> <ul> <li>Independencia F\u00edsica: consiste en modificar el nivel interno sin que se vea afectado el nivel   conceptual. Por ejemplo, puede ser necesario reorganizar ciertos archivos f\u00edsicos con el fin de   mejorar el rendimiento de ciertas operaciones sobre los datos.</li> <li>Independencia L\u00f3gica: consiste en modificar el nivel l\u00f3gico sin alterar el nivel f\u00edsico. Por ejemplo, si   se necesita eliminar una entidad, los Esquemas Externos que no se refieran a ella no deben ser afectados.</li> </ul> Independencia f\u00edsica y l\u00f3gica"},{"location":"temas/01/index.html#6-funcionalidades-de-un-sgbd","title":"6. Funcionalidades de un SGBD","text":"<p>Hoy d\u00eda se espera de un SGBD que disponga de:</p> <ul> <li>Lenguaje que permita crear todos los elementos de la Base de Datos y gestionar el diccionario de datos. Normalmente este lenguaje ser\u00e1 SQL (aunque cada SGBD impone variantes al SQL est\u00e1ndar).   Estar\u00e1 formado por lenguajes que permitan crear, manipular y controlar los datos.</li> <li>Herramientas gr\u00e1ficas que faciliten muchas tareas habituales tanto de gesti\u00f3n como de administraci\u00f3n del sistema.</li> <li>Posibilidad de establecer reglas de integridad avanzadas e incluirlas como parte de la Base de Datos. Dentro de estas reglas est\u00e1n las restricciones est\u00e1ndar como: UNIQUE (unicidad, prohibir repetici\u00f3n de valores), CHECK (cumplimiento de condiciones simples), NOT NULL (obligatoriedad), PRIMARY KEY (establecimiento de las claves de las tablas) o la propia FOREIGN KEY (clave for\u00e1nea); pero tambi\u00e9n restricciones m\u00e1s complejas como las que establecen los Triggers de los lenguajes   procedimentales (como PL/SQL de Oracle) presentes en la mayor\u00eda de sistemas.</li> <li>Gesti\u00f3n de copias de seguridad. Una de las funciones cr\u00edticas de la Base de Datos ya que permite la recuperaci\u00f3n de informaci\u00f3n en caso de problemas.</li> <li>Aplicaciones de exportaci\u00f3n e importaci\u00f3n de datos. Para poder utilizar datos de otros SGBD u otro software.</li> <li>Posibilidad de recuperaci\u00f3n en caso de desastre. Para evitar perder informaci\u00f3n en caso de problemas serios con el software (errores de hardware, apagones prolongados, \u2026)</li> <li>Archivos LOG. Desde los que podemos examinar las incidencias y monitorizar el funcionamiento de la Base de Datos.</li> <li>Herramientas para programar aplicaciones. Que permitan crearlas aplicaciones (o facilidades) de usuario.</li> <li>Gesti\u00f3n de la comunicaci\u00f3n con los clientes de la Base de Datos. Permiten establecer conexi\u00f3n con la Base de Datos desde m\u00e1quinas remotas.</li> <li>Optimizaci\u00f3n de consultas. Busca el m\u00ednimo tiempo de respuesta para las operaciones sobre los datos.</li> <li>Herramientas para automatizar tareas. Permiten realizar programaciones sobre operaciones habituales sobre la Base de Datos.</li> <li>Posibilidad de distribuir la Base de Datos entre diferentes m\u00e1quinas, y as\u00ed mejorar su alta   disponibilidad.</li> <li> <p>Gesti\u00f3n de Transacciones, ACID (Atomicity, Consistency, Isolation, Durability). Es una norma obligatoria que deben de cumplir las bases de datos para que una transacci\u00f3n se pueda considerar como tal.</p> </li> <li> <p>Atomicidad: Cada operaci\u00f3n debe ejecutarse como una unidad (de forma at\u00f3mica), o se     realiza en su totalidad o no se realiza nada.</p> </li> <li>Consistencia: Las reglas de integridad definidas en la Base de Datos deben cumplirse.</li> <li>Aislamiento: Esta propiedad asegura que un cambio en unos datos concretos no debe afectar al resto de los datos, o que la realizaci\u00f3n de dos transacciones sobre la misma informaci\u00f3n sea independiente y no generen ning\u00fan tipo de error.     Persistencia: Esta propiedad asegura que, una vez realizada la operaci\u00f3n, esta persistir\u00e1 y no se podr\u00e1 deshacer, aunque falle el sistema.</li> </ul>"},{"location":"temas/01/index.html#7-usuarios-de-la-bd","title":"7. Usuarios de la BD","text":"<p>Hay cuatro grupos de personas que intervienen en el entorno de una Base de Datos:</p> <ul> <li>Analistas.</li> </ul> <p>Son los encargados de controlar el desarrollo de la Base de Datos aprobada por la direcci\u00f3n. Normalmente son adem\u00e1s los dise\u00f1adores de la Base de Datos, especialmente de los esquemas interno y conceptual debiendo identificar los datos, las relaciones entre datos y las restricciones.   Para obtener un buen resultado, el dise\u00f1ador de la Base de Datos debe implicar en el desarrollo del modelo de datos a todos los usuarios de la Base de Datos, tan pronto como sea posible.   El dise\u00f1o l\u00f3gico de la Base de Datos es independiente del SGBD concreto que se vaya a utilizar, es   independiente de los programas de aplicaci\u00f3n, de los lenguajes de programaci\u00f3n y de cualquier otra   consideraci\u00f3n f\u00edsica.</p> <ul> <li>Administrador de la Base de Datos (DBA)</li> </ul> <p>Se encarga de realizar la implementaci\u00f3n de la Base de Datos, realiza la gesti\u00f3n de los usuarios y permisos, copias de seguridad, restauraci\u00f3n de las copias de seguridad en caso necesario y dem\u00e1s tareas necesarias para el correcto funcionamiento de la BD. El administrador debe conocer muy bien el SGBD que se est\u00e1 utilizando, as\u00ed como el equipo inform\u00e1tico sobre el que est\u00e1 funcionando.</p> <ul> <li>Programadores de Aplicaciones</li> </ul> <p>Una vez se ha dise\u00f1ado e implementado la Base de Datos, los programadores se encargan de implementar los programas de aplicaci\u00f3n que servir\u00e1n a los usuarios finales. Estos programas de aplicaci\u00f3n son los que permiten consultar datos, insertarlos, actualizarlos y eliminarlos.</p>"},{"location":"temas/02/index.html","title":"Inicio","text":""},{"location":"temas/02/index.html#ut2-a-diseno-conceptual-modelo-entidad-relacion","title":"UT2-A Dise\u00f1o Conceptual: Modelo Entidad Relaci\u00f3n","text":"<p>Informaci\u00f3n de la unidad</p> ContenidosPropuesta did\u00e1ctica <p>Bases de datos relacionales:</p> <ul> <li>Modelo de datos</li> </ul> <p>Interpretaci\u00f3n de Diagramas Entidad/Relaci\u00f3n:</p> <ul> <li>El modelo E/R. Entidades y relaciones. Cardinalidades. Debilidad.</li> <li>El modelo E/R ampliado. Generalizaci\u00f3n y especializaci\u00f3n. Agregaci\u00f3n.</li> </ul> <p>En esta unidad vamos a comenzar a trabajar el RA6: Dise\u00f1a modelos relacionales normalizados interpretando diagramas entidad/relaci\u00f3n.</p> <p>Criterios de evaluaci\u00f3n</p> <ul> <li>CE6b: Se han identificado las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6c: Se han identificado los campos que forman parte de las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6d: Se han analizado las relaciones entre las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6e: Se han identificado los campos clave.</li> </ul>"},{"location":"temas/02/index.html#contenido-de-la-unidad","title":"Contenido de la unidad","text":"<p>El contenido de la unidad est\u00e1 repartido en los siguientes bloques.</p> <p>\u00cdndice:</p> <ul> <li>2.1 Modelo Entidad-Relaci\u00f3n</li> <li>2.2 Restricciones</li> <li>2.3 Modelo Extendido</li> <li>2.A Actividades</li> </ul>"},{"location":"temas/02/index.html#programacion-de-aula-12h","title":"Programaci\u00f3n de Aula (12h)","text":"<p>Esta unidad es la segunda, con lo que se imparte en la primera evaluaci\u00f3n, con una duraci\u00f3n estimada de 12 sesiones lectivas:</p> Sesi\u00f3n Contenidos Actividades Criterios trabajados 1 Modelo Entidad Relaci\u00f3n. AC201 CE6b, CE6c, CE6d 2 Entidades. Relaciones - Cardinalidad 3 Relaciones 1:1, 1:N, N:M AC203 CE6b 4 Atributos. Trabajando las cardinalidades AC204 CE6b 5 Atributos identificadores. Modelados sencillos AC205 CE6b, CE6c, CE6e 6 Completando modelos AC208 CE6b, CE6c, CE6e 7 Restricciones 8 Modelado EER. Generalizaci\u00f3n. Tipos AC209 CE6b, CE6c, CE6e 9 Modelados con generalizaciones AC210 CE6b, CE6c, CE6e 10 Agregaciones AC212 CE6b, CE6c, CE6e 11 Interpretando modelos AC215 CE6b, CE6c, CE6d, CE6e 12 Reto - Dise\u00f1ando una BD PY216 CE6b, CE6c, CE6d, CE6e"},{"location":"temas/02/2.1-ModeloER.html","title":"2.1 El modelo ER","text":""},{"location":"temas/02/2.1-ModeloER.html#21-diseno-de-bases-de-datos","title":"2.1. Dise\u00f1o de Bases de Datos","text":"<p>Una vez que hemos trabajado conceptos generales asociados a las bases de datos y los sistemas gestores de bases de datos, tenemos claro que existen diferentes modelos de datos que dan lugar a diferentes tipos de soluciones.</p> <p>Pero antes de entrar en uno de los modelos, conviene saber cual es el proceso de dise\u00f1o de una base de datos. Es l\u00f3gico que un buen dise\u00f1o sobre los datos va a facilitar el posterior desarrollo de las aplicaciones que explotan la base de datos.</p> <p>Sistema de informaci\u00f3n</p> <p>En la introducci\u00f3n de la unidad anterior estudiamos que un sistema de informaci\u00f3n define c\u00f3mo funciona una empresa y el uso que hace de los datos. Veamos un ejemplo concreto sobre una empresa.</p> <p>Una empresa vende productos a varios clientes. Se necesita conocer los datos personales de los clientes (nombre, apellidos, dni, direcci\u00f3n y fecha de nacimiento). Cada producto tiene un nombre y un c\u00f3digo, as\u00ed como un precio unitario. Un cliente puede comprar varios productos a la empresa, y un mismo producto puede ser comprado por varios clientes.</p> <p>Los productos los suministran diferentes proveedores. Se debe tener en cuenta que un producto s\u00f3lo puede ser suministrado por un proveedor, y que un proveedor puede suministrar diferentes productos. De cada proveedor se desea conocer el NIF, nombre y direcci\u00f3n.</p> <p>El objetivo general del dise\u00f1ar bases de datos es ofrecer una base de datos bien estructurada y eficiente que cumpla los requisitos de usuarios y empresas. Adem\u00e1s de cumplir estos requisitos, un dise\u00f1o dise\u00f1o de bases de datos, generalmente, cumple cinco objetivos comunes (los cuales trabajaremos a lo largo del curso):</p> <ol> <li>Coherencia e integridad de los datos.</li> <li>Mantenibilidad y facilidad de uso.</li> <li>Rendimiento y optimizaci\u00f3n.</li> <li>Seguridad de los datos.</li> <li>Escalabilidad y flexibilidad.</li> </ol> <p>As\u00ed pues, antes de comenzar el dise\u00f1o, el primer paso y m\u00e1s cr\u00edtico es determinar los requisitos de la base de datos mediante un sistema de informaci\u00f3n, describiendo el problema que la base de datos debe cubrir. Este paso est\u00e1 m\u00e1s asociado a la ingenier\u00eda del software y lo estudiar\u00e1s en detalle en el m\u00f3dulo de Entornos de Desarrollo.</p> <p>Las fases que se realizan a la hora de dise\u00f1ar una base de datos son tres:</p> <ol> <li>Dise\u00f1o conceptual: a partir de los requisitos y entendido el problema (conocido como el mundo real), mediante un modelo conceptual de alto nivel (EER) crearemos el esquema conceptual.</li> <li>Dise\u00f1o l\u00f3gico: transformaci\u00f3n de un modelo conceptual a un modelo de datos concreto para poder representar el problema (relacional, jer\u00e1rquico, ...). En este paso, ya nos tenemos que haber decidido por un modelo de datos, y en algunos casos, incluso por un SGBD concreto. El resultado del dise\u00f1o l\u00f3gico es el esquema l\u00f3gico/can\u00f3nico.</li> <li>Dise\u00f1o f\u00edsico: sobre el modelo l\u00f3gico de datos del punto anterior sobre un SGBD concreto, se define la representaci\u00f3n f\u00edsica de las estructuras, obteniendo el esquema f\u00edsico/interno.</li> </ol> <p>Estas tres fases se resumen en el siguiente gr\u00e1fico:</p> Del dise\u00f1o a los modelos <p>En las siguientes unidades vamos a ir pasando de una fase del dise\u00f1o a la siguiente. En nuestro caso, en el modelo conceptual aprenderemos el modelo Entidad Relaci\u00f3n, como modelo l\u00f3gico veremos el Modelo Relacional, y como modelo f\u00edsico, usaremos el sublenguaje DDL de SQL, ya centr\u00e1ndonos en un SGBD concreto.</p> <p>As\u00ed pues, en esta unidad comenzamos con el dise\u00f1o conceptual a trav\u00e9s del modelo conceptual m\u00e1s extendido, el modelo Entidad-Relaci\u00f3n.</p>"},{"location":"temas/02/2.1-ModeloER.html#el-modelo-entidad-relacion","title":"El modelo Entidad Relaci\u00f3n","text":"<p>Entendemos como modelo conceptual el conjunto de conceptos y reglas que nos permiten aplicar una serie de abstracciones con el prop\u00f3sito de definir y manipular datos de la realidad, almacen\u00e1ndola en una base de datos.</p> <p>Centr\u00e1ndonos en el modelo entidad/relaci\u00f3n, cuyo nombre completo es modelo entidad/interrelaci\u00f3n (entity/relationship en ingl\u00e9s), es un modelo de datos conceptual de alto nivel, propuesto por Peter Chen en 1976, y vigente a d\u00eda de hoy por su simplicidad y legibilidad, ya que el resultado del an\u00e1lisis del problema se representa de forma visual mediante diagramas entidad/relaci\u00f3n, representado mediante cajas y l\u00edneas que las unen. Ha tenido numerosas extensiones y aportaciones de muchos otros autores, teniendo soporte por m\u00faltiples herramientas de software de dise\u00f1o (CASE), lo que ha dado lugar a que no exista un \u00fanico modelo ER, sino una familia de modelos.</p> <p>El modelo ER describe el mundo real como un conjunto de entidades y sus atributos, as\u00ed como las relaciones existentes entre diferentes entidades.</p>"},{"location":"temas/02/2.1-ModeloER.html#nomenclatura","title":"Nomenclatura","text":"<p>A la hora de nombrar a los diferentes elementos, en todos los casos, es recomendable no utilizar espacios en blanco ni tildes, para facilitar la futura transformaci\u00f3n al modelo f\u00edsico.</p> <ul> <li>Las entidades suelen ser sustantivos y se nombran en singular y may\u00fasculas.</li> <li>Los atributos tambi\u00e9n en singular, pero en min\u00fasculas.</li> <li>Las relaciones son verbos en may\u00fasculas.</li> <li>Para las palabras compuestas, utilizaremos la convenci\u00f3n camelCase, que une las palabras poniendo la primera letra en may\u00fasculas. Ejemplos de atributos ser\u00edan mediante camelCase ser\u00edan <code>nombreCompleto</code> o <code>codigoPostal</code>.</li> </ul>"},{"location":"temas/02/2.1-ModeloER.html#elementos","title":"Elementos","text":"<p>Una entidad es cualquier persona, concepto, suceso o evento (en definitiva, cualquier cosa) con existencia independiente sobre la cual se desea almacenar informaci\u00f3n. La entidad representa un tipo de objeto, el concepto que permite representar a un conjunto de objetos similares. Por ejemplo <code>Persona</code>, <code>Cliente</code>, <code>Alumno</code>, <code>Asignatura</code>, etc... ser\u00edan entidades.</p> <p>Por otro lado, una entidad define de forma gen\u00e9rica a un conjunto de objetos a trav\u00e9s de propiedades (o atributos): cualquier informaci\u00f3n que interesa guardar sobre las entidades. Se obtienen mediante un proceso de abstracci\u00f3n que se conoce como clasificaci\u00f3n. Ejemplos de atributos ser\u00edan <code>nombre</code>, <code>direcci\u00f3n</code>, <code>fecha de nacimiento</code>, <code>saldo</code>, <code>tel\u00e9fono</code>, etc...</p> <p>Finalmente, una relaci\u00f3n es una asociaci\u00f3n entre entidades. Un tipo de relaci\u00f3n en un modelo de datos permite representar un conjunto de relaciones de caracter\u00edsticas similares. Igual que las entidades, las relaciones tambi\u00e9n pueden tener atributos, para representar informaci\u00f3n que no es propia de ninguno de los objetos participantes en la relaci\u00f3n. Ejemplos de relaciones ser\u00edan <code>Matricular</code>, <code>Contratar</code>, <code>Reservar</code>, etc...</p> <p>El modelo conceptual tambi\u00e9n define una serie de propiedades sobre los elementos, como son las propiedades:</p> <ul> <li> <p>est\u00e1ticas: restricciones sobre las entidades y relaciones. Por ejemplo, la restricci\u00f3n de integridad est\u00e1tica, limita las extensiones (ocurrencias) v\u00e1lidas (permitidas) para una propiedad. Existen varios tipos:</p> <ul> <li>Sobre atributos: valores posibles, valor no nulo.</li> <li>Sobre entidades: restricci\u00f3n de identificaci\u00f3n.</li> <li>Sobre relaciones: restricciones de cardinalidad.</li> <li>din\u00e1micas: operaciones sobre los objetos o sus relaciones, relaciones entre operaciones (transacciones) y restricciones din\u00e1micas sobre la evoluci\u00f3n de los objetos y sus relaciones, como por ejemplo, \"El n\u00famero de alumnado matriculado en una asignatura debe ser menor o igual a 20\".</li> </ul> </li> </ul> <p>Operaci\u00f3n vs Transacci\u00f3n</p> <p>Una operaci\u00f3n es una acci\u00f3n elemental (indivisible) sobre un objeto o una relaci\u00f3n. Las operaciones permiten crear, eliminar, modificar y consultar objetos y relaciones.</p> <p>Una transacci\u00f3n es una secuencia de operaciones que se considera at\u00f3mica en lo que se refiere a su ejecuci\u00f3n. Es decir, se ejecutan todas sus operaciones o ninguna de ellas, como por ejemplo, al realizar una transferencia bancaria.</p>"},{"location":"temas/02/2.1-ModeloER.html#elaborando-el-modelo-i","title":"\ud83c\udf31 Elaborando el modelo I","text":"<p>Una vez conocemos a muy alto nivel los elementos de un modelo ER, nos podemos preguntar \u00bfC\u00f3mo los deducimos? Normalmente, tras diversas entrevistas con el cliente o a partir de la toma de requisitos previos, disponemos de un sistema de informaci\u00f3n que sirve de base del modelo. El primer paso es identificar las entidades mediante los sustantivos y las relaciones con los verbos. Con esta informaci\u00f3n, realizaremos un esbozo inicial centr\u00e1ndonos \u00fanicamente en las entidades y sus relaciones, sin tener en cuenta los atributos.</p> <p>Por ejemplo, supongamos el siguiente sistema de informaci\u00f3n sobre una empresa que se dedica al alquiler de bicicletas. A los usuarios del servicio, como puede ser BiciElx o BiciMad, se les entrega una tarjeta que contendr\u00e1 sus datos personales, as\u00ed como su saldo disponible. Todas las bicicletas tienen un c\u00f3digo que las identifica, y se registra su estado actual (ya sea disponible o en uso), y la estaci\u00f3n donde se encuentra. Cuando un usuario alquila una bicicleta, tambi\u00e9n se registra cu\u00e1ndo y d\u00f3nde la recoge y devuelve.</p> <p>Analizando el texto, si en una frase aparecen dos sustantivos conectados por un verbo, es muy probable que los sustantivos sean entidades que est\u00e9n relacionadas mediante un relaci\u00f3n representado por el verbo.</p> <p>Entonces, sobre el sistema de informaci\u00f3n reci\u00e9n expuesto \u00bfQu\u00e9 entidades hemos detectado? Claramente, tenemos <code>USUARIO</code> y <code>BICICLETA</code>, las cuales representaremos mediante un rect\u00e1ngulo y mediante un rombo con la relaci\u00f3n <code>ALQUILAR</code>.</p> Modelo sencillo - primer esbozo <p>Una vez que tenemos una idea general de c\u00f3mo llegar a elaborar un dise\u00f1o, vamos a conocer en detalle los diferentes elementos y sus caracter\u00edsticas.</p>"},{"location":"temas/02/2.1-ModeloER.html#entidades","title":"\u23f9\ufe0f Entidades","text":"<p>Una entidad es cualquier objeto (real o abstracto) sobre el que queremos almacenar informaci\u00f3n en la base de datos.</p> <p>Se representa mediante un rect\u00e1ngulo con el nombre de la entidad en singular y may\u00fasculas. Se suele identificar con un sustantivo y suelen estar asociados a objetos (coche, libro, veh\u00edculo, etc...), personas (cliente, empleado, proveedor, ...), lugares (ciudad, provincia, etc...), organizaciones (hospital, aula, empresa, ...), etc...</p> Ejemplo con dos entidades <p>Control de redundancia</p> <p>Cada entidad solo puede aparecer una \u00fanica vez en el modelo, con lo que no podemos repetir el nombre de dos entidades en el mismo modelo.</p> <p></p> <p>Existe dos tipos de entidades:</p> <ul> <li>Regulares o fuertes: existen por s\u00ed mismas, sin necesidad de otra entidad. Por ejemplo, los clientes de nuestra empresa. Se representan mediante un rect\u00e1ngulo simple.</li> <li> <p>D\u00e9biles: su existencia depende de otra entidad. Por ejemplo, los familiares de los clientes ser\u00eda una entidad d\u00e9bil, ya que no tiene sentido almacenarlos si ya no tenemos a los clientes. Se representan mediante un rect\u00e1ngulo doble.</p> <p>Una entidad d\u00e9bil se identifica por sus propiedades y por las propiedades de las entidades de las que depende. Adem\u00e1s, al eliminar la entidad fuerte, tambi\u00e9n se elimina la entidad d\u00e9bil.</p> </li> </ul> <p>Finalmente, el t\u00e9rmino ocurrencia (o instancia de entidad) indica un elemento de la entidad, un objeto en concreto. Por ejemplo, en la entidad <code>PRODUCTO</code>, una ocurrencia ser\u00eda <code>Bol\u00edgrafo azul de gel</code> cuyo c\u00f3digo es <code>BOLIAZUL01</code> y fecha de alta en el sistema el <code>1/1/24</code>.</p> <p></p>"},{"location":"temas/02/2.1-ModeloER.html#relaciones","title":"\u23f9\ufe0f Relaciones","text":"<p>Una relaci\u00f3n representa una asociaci\u00f3n, relacionando los datos del modelo. Para ello, dibujaremos un rombo que unir\u00e1 las entidades que participan en la relaci\u00f3n, y la nombraremos mediante un verbo en may\u00fasculas:</p> Ejemplo de relaci\u00f3n <p>Realmente una relaci\u00f3n entre dos entidades contiene dos direcciones, de manera que la relaci\u00f3n <code>COMPRAR</code> se puede dividir en que:</p> <ul> <li>Un <code>CLIENTE</code> compra uno o m\u00e1s productos, de manera que la relaci\u00f3n va de <code>CLIENTE</code> hacia <code>PRODUCTO</code>.</li> <li>Un <code>PRODUCTO</code> lo pueden comprar uno o m\u00e1s clientes, de manera que la relaci\u00f3n va de <code>PRODUCTO</code> hacia <code>CLIENTE</code>.</li> </ul> <p>Notaci\u00f3n</p> <p>Existen m\u00faltiples notaciones para representar las relaciones (las entidades se suelen representar igual en todas las notaciones). En los apuntes vamos a utilizar tanto la notaci\u00f3n empleada por la herramienta ERDPlus (tambi\u00e9n conocida como de pata de gallo), la notaci\u00f3n de Chen (con las cardinalidades m\u00ednima y m\u00e1xima) as\u00ed como diferentes notaciones empleadas de forma generalizada por las empresas.</p> <p>Una vez dominada una notaci\u00f3n es muy f\u00e1cil entender y cambiar a cualquiera de las otras. Eso s\u00ed, debes ser constante y modelar siempre con la misma notaci\u00f3n.</p>"},{"location":"temas/02/2.1-ModeloER.html#grado","title":"\ud83d\udc65 Grado","text":"<p>Se denomina grado de una relaci\u00f3n a la cantidad de entidades involucradas en una relaci\u00f3n, lo que nos permite clasificarlas las relaciones en:</p> <ul> <li>binarias: son las m\u00e1s comunes, e implica la participaci\u00f3n de dos entidades.</li> <li>ternarias: participan tres entidades. A ser posible, es mejor simplificarlas mediante el uso de varias relaciones binarias y agregaciones. Por ejemplo, la relaci\u00f3n existente entre un libro, su autor y la editorial donde se publica el libro. En este curso no vamos a trabajar las relaciones ternarias y en su caso, cuando sea posible, haremos uso de agregaciones o entidades asociativas.</li> <li>n-arias: muy excepcionales, ya que involucran 4 o m\u00e1s entidades.</li> <li>reflexivas (unarias): son relaciones binarias entre la misma entidad. Por ejemplo, una persona se casa con otra persona.</li> </ul>"},{"location":"temas/02/2.1-ModeloER.html#cardinalidad","title":"\ud83e\uddee Cardinalidad","text":"<p>La cardinalidad define la cantidad de ocurrencias de una entidad que se relacionan con una relaci\u00f3n (que a su vez se relaciona con otra entidad).</p> <p>Para ello, definimos las cardinalidades:</p> <ul> <li>m\u00ednima (tambi\u00e9n conocido como participaci\u00f3n): indica el n\u00famero m\u00ednimo de asociaciones en las que aparecer\u00e1 cada ejemplar de la entidad. Los valores que puede tomar son cero (opcional) o uno (obligatorio)</li> <li>m\u00e1xima: indica el n\u00famero m\u00e1ximo de relaciones en las que puede aparecer cada ejemplar de la entidad. Los valores pueden ser uno o N (muchos).</li> </ul> <p>La cardinalidad entre una entidad y una relaci\u00f3n se representa entre par\u00e9ntesis indicando el valor m\u00ednimo a la izquierda y el mayor a la derecha mediante <code>Card(E,R) = (min, max)</code>. Las posibles combinaciones son:</p> <ul> <li><code>(0, 1)</code> - Una ocurrencia de una entidad se puede relacionar con ninguna o una ocurrencia de otra/s entidad/es.</li> <li><code>(1, 1)</code> - Una ocurrencia de una entidad se relaciona siempre con una ocurrencia de otra/s entidad/es.</li> <li><code>(0, N)</code> - Una ocurrencia de una entidad se puede relacionar con ninguna o muchas ocurrencias de otra/s entidad/es.</li> <li><code>(1, N)</code> - Una ocurrencia de una entidad se puede relacionar con una o muchas ocurrencias de otra/s entidad/es.</li> </ul> <p>Para averiguar la cardinalidad entre dos entidades v\u00eda una relaci\u00f3n, cogemos una ocurrencia de una entidad y nos preguntamos con cuantas ocurrencias de la otra entidad se va a relacionar.</p> <p>Ejemplo</p> <p>Pongamos un ejemplo. Si pensamos en la relaci\u00f3n que existe un producto y la categor\u00eda a la que pertenece, tendremos dos cardinalidades para cada lado de la relaci\u00f3n.</p> <p>Si tenemos un producto concreto  - \u00bfA cu\u00e1ntas categor\u00edas va a pertenecer como m\u00ednimo y como m\u00e1ximo?  - \u00bfEl <code>Bol\u00edgrafo azul de gel</code> a cuantas categor\u00edas pertenece?</p> <p><code>Card(PRODUCTO, PERTENECER) = (1, 1)</code> - Un producto siempre pertenece a una categor\u00eda</p> <p>Y en el otro sentido, dada una categor\u00eda concreta, \u00bfcu\u00e1ntos productos van a pertenecer a esta categor\u00eda? Si pensamos en la categor\u00eda <code>Papeler\u00eda</code>, tendremos muchos productos diferentes.</p> <p><code>Card(CATEGORIA, PERTENECER) = (0, N)</code> - Una categor\u00eda puede no tener productos, pero si tiene, pertenecer\u00e1n muchos.</p> <p>Para representar la cardinalidad en el modelo ER, las cardinalidades se anotan en el extremo opuesto de la entidad, utiliz\u00e1ndose la regla Entidad, Relaci\u00f3n, Cardinalidad, Entidad:</p> <p></p> Cardinalidades en la relaci\u00f3n <p></p> <p>As\u00ed pues, si aplicamos la regla de izquierda a derecha tenemos </p> <p><code>PRODUCTO, PERTENECER, (1,1), CATEGORIA</code>, lo que significa que un producto pertenece siempre a una categor\u00eda y como mucho a una tambi\u00e9n. </p> <p>En cambio, si la aplicamos de derecha a izquierda tenemos </p> <p><code>CATEGORIA, PERTENECER, (0,N), PRODUCTO</code> indica que a una categor\u00eda puede no pertenecer ning\u00fan producto pero tambi\u00e9n muchos.</p>"},{"location":"temas/02/2.1-ModeloER.html#tipos","title":"\ud83d\udcda Tipos","text":"<p>Si nos fijamos en las cardinalidades m\u00e1ximas, tenemos tres tipos de relaciones binarias:</p> <ul> <li>1:1 (uno a uno) \u2013 Un elemento de la primera relaci\u00f3n se corresponde con uno solo de la segunda y viceversa. Por ejemplo, una pantalla digital est\u00e1 en un aula y en un aula s\u00f3lo hay una pantalla digital.</li> <li>1:N (uno a muchos) \u2013 Un elemento de la primera relaci\u00f3n se corresponde con uno o varios de la segunda y uno de la segunda se relaciona con uno solo de la primera. Por ejemplo, un trabajador solo puede trabajar en una empresa y en la empresa puede haber muchos trabajadores.</li> <li>N:M (muchos a muchos) \u2013 Un elemento de la primera relaci\u00f3n se corresponden con muchos de la segunda y viceversa. Por ejemplo, un alumno puede estar matriculado en varias asignaturas y en una asignatura puede haber muchos alumnos.</li> </ul> <p>Para representar las relaciones, adem\u00e1s de la notaci\u00f3n de Chen (indicando las cardinalidades en el lado opuesto), utilizaremos la notaci\u00f3n de pata de gallo:</p> Descripci\u00f3n S\u00edmbolo Un anillo representa \"cero\" Un guion representa \"uno\" La pata de gallo representa \"muchos\" (N) <p>Para ello, dibujaremos la cardinalidad m\u00e1xima lo m\u00e1s cerca de cada entidad y la m\u00ednima lo m\u00e1s separada. En la siguiente tabla se supone que tenemos la relaci\u00f3n a la izquierda y la entidad a la derecha:</p> Descripci\u00f3n Cardinalidad S\u00edmbolo Anillo y guion (0, 1) Guion y guion (1, 1) Anillo y pata de gallo (0, N) Guion y pata de gallo (1, N)"},{"location":"temas/02/2.1-ModeloER.html#relacion-11","title":"\ud83e\udd1d Relaci\u00f3n 1:1","text":"<p>En las relaciones uno a uno, las dos cardinalidades m\u00e1ximas toman el valor 1, e indican que una ocurrencia de la entidad A se relaciona con s\u00f3lo uno de la B, y viceversa.</p> Relaci\u00f3n 1:1 <p></p> <p>Si nos fijamos en las ocurrencias de las entidades, vemos como cada departamento tiene asignado siempre un empleado y s\u00f3lo uno. Por ello, <code>Card(DPTO, DIRIGIR) = (1,1)</code>. En cambio, tenemos empleados que no tienen asignado ning\u00fan departamento, y en el caso de tenerlo, s\u00f3lo tienen uno, lo que implica que <code>Card(EMPLEADO, DIRIGIR) = (0,1)</code>.</p> <p>Como las dos cardinalidades m\u00e1ximas son 1, decimos que la relaci\u00f3n es uno a uno.</p> <p>Autoevaluaci\u00f3n</p> <p>\u00bfEn qu\u00e9 cambiar\u00eda el gr\u00e1fico de ocurrencias si las cardinalidades fueran <code>Card(DPTO, DIRIGIR) = (0,1)</code> y <code>Card(EMPLEADO, DIRIGIR) = (1,1)</code>? \u00bfCu\u00e1les pueden quedarse sin relacionar? \u00bfLos departamentos? \u00bfLos empleados?</p> <p>Todas las posibles combinaciones de cardinalidades de una relaci\u00f3n 1:1 son:</p> <ul> <li> <p> </p><p>Relaci\u00f3n 1:1 (0,1)-(0,1)</p><p></p> </li> <li> <p> </p><p>Relaci\u00f3n 1:1 ((1,1)-0,1)</p><p></p> </li> <li> <p> </p><p>Relaci\u00f3n 1:1 (0,1)-(1,1)</p><p></p> </li> <li> <p> </p><p>Relaci\u00f3n 1:1 (1,1)-(1,1)</p><p></p> </li> </ul> <p>\u00bf1:1 imposible?</p> <p>Imagina que tenemos una relaci\u00f3n 1:1 con las dos cardinalidades m\u00ednimas tambi\u00e9n a 1.</p> <p>Si cuando damos de alta una ocurrencia de la entidad A necesitamos de otra ocurrencia de la entidad B, y viceversa, nos encontramos con la paradoja circular del dilema del huevo y la gallina.</p> <p>Para evitar este problema, una de las dos cardinalidades m\u00ednimas se deja a 0, aquella que consideremos menos cr\u00edtica.</p>"},{"location":"temas/02/2.1-ModeloER.html#relacion-1n","title":"\ud83e\udd1d Relaci\u00f3n 1:N","text":"<p>En las relaciones uno a muchos, en un sentido hay una cardinalidad m\u00e1xima de uno, y en la otra de N, es decir, una ocurrencia de la entidad A se relaciona con una de la entidad B, pero una ocurrencia de la entidad B lo hace con muchas de la entidad A.</p> <p>En el siguiente ejemplo, tenemos que cada producto tendr\u00e1 una categor\u00eda y en cambio, que de una categor\u00eda, tendremos muchos productos.</p> Ocurrencias 1:N <p></p> <p></p> <p>Si nos fijamos en las ocurrencias de las entidades, vemos como un producto pertenece a una categor\u00eda, y siempre a una. Por ello, <code>Card(PRODUCTO, PERTENECER) = (1,1)</code>. En cambio, tenemos categor\u00edas a las que pertenecen muchos productos, e incluso categor\u00edas sin productos, lo que implica que <code>Card(CATEGORIA, PERTENECER) = (0,N)</code>.</p> <p>Autoevaluaci\u00f3n</p> <p>\u00bfEn qu\u00e9 cambiar\u00eda el gr\u00e1fico de ocurrencias si las cardinalidades fueran <code>Card(PRODUCTO, PERTENECER) = (0,1)</code> y <code>Card(CATEGORIA, PERTENECER) = (1,N)</code>?</p> <p>\u00bfY si les damos la vuelta siendo <code>Card(PRODUCTO, PERTENECER) = (1,N)</code> y <code>Card(CATEGORIA, PERTENECER) = (0,1)</code>?</p> <p>Todas las posibles combinaciones de cardinalidades de una relaci\u00f3n 1:N son:</p> <ul> <li> <p> </p><p>Relaci\u00f3n 1:1 (0,N)-(0,1)</p><p></p> </li> <li> <p> </p><p>Relaci\u00f3n 1:N (1,N)-(0,1)</p><p></p> </li> <li> <p> </p><p>Relaci\u00f3n 1:1 (0,N)-(1,1)</p><p></p> </li> <li> <p> </p><p>Relaci\u00f3n 1:1 (0,N)-(1,1)</p><p></p> </li> </ul> <p>Supuesto I Empresa</p> <p>Queremos gestionar la informaci\u00f3n sobre los empleados de una empresa, a partir de las siguientes condiciones: para cada empleado dispondremos de su DNI, nombre, fecha de nacimiento, salario y departamento en el que trabaja.</p> <p>De cada departamento sabremos su nombre, el n\u00famero del despacho en el que se ubica y conoceremos quien es el jefe de dicho departamento.</p> Soluci\u00f3n <p>El primero paso es, a partir del enunciado, identificar las entidades buscando los sustantivos.</p> <p>\"Queremos gestionar la informaci\u00f3n sobre los empleados de una empresa, a partir de las siguientes condiciones: para cada empleado dispondremos de su DNI, nombre, fecha de nacimiento, salario y departamento en el que trabaja. De cada departamento sabremos su nombre, el n\u00famero del despacho en el que se ubica y conoceremos quien es el jefe de dicho departamento.\"</p> <p>Tras su revisi\u00f3n, deducimos que tenemos empleados y departamentos, que ser\u00e1n nuestras dos entidades principales: <code>EMPLEADO</code> y <code>DPTO</code> (hemos reducido la palabra para reducir el tama\u00f1o del diagrama).</p> <p>El siguiente paso es localizar las relaciones. Para ello, buscaremos los verbos que relacionen las entidades localizadas.</p> <p></p> <p>\"Queremos gestionar la informaci\u00f3n sobre los empleados de una empresa, a partir de las siguientes condiciones: para cada empleado dispondremos de su DNI, nombre, fecha de nacimiento, salario y departamento en el que trabaja. De cada departamento sabremos su nombre, el n\u00famero del despacho en el que se ubica y conoceremos quien es el jefe de dicho departamento.\".</p> <p>As\u00ed pues, tenemos dos relaciones: <code>TRABAJAR</code> y <code>SER_JEFE</code>.</p> <p>Y por \u00faltimo, localizamos los atributos de las entidades y de las relaciones. Para ello, buscaremos los adjetivos y complementos que describan a las entidades y relaciones:</p> <p>\"Queremos gestionar la informaci\u00f3n sobre los empleados de una empresa, a partir de las siguientes condiciones: para cada empleado dispondremos de su DNI, nombre, fecha de nacimiento, salario y departamento en el que trabaja. De cada departamento sabremos su nombre, el n\u00famero del despacho en el que se ubica y conoceremos quien es el jefe de dicho departamento.\".</p> <p>As\u00ed pues, hemos localizado las siguientes entidades y sus atributos:</p> <ul> <li>Atributos de <code>EMPLEADO</code>: <code>dni</code> (atributo identificador), <code>nombre</code>, <code>fecha de nacimiento</code>, <code>salario</code>.</li> <li>Atributos de <code>DPTO</code>: <code>nombre</code>, <code>n\u00famero de despacho</code>.</li> </ul>"},{"location":"temas/02/2.1-ModeloER.html#relacion-nm","title":"\ud83e\udd1d Relaci\u00f3n N:M","text":"<p>En las relaciones muchos a muchos, en los dos sentidos hay una cardinalidad m\u00e1xima de muchos, es decir, una ocurrencia de la entidad A se relaciona con muchas de la entidad B, y una ocurrencia de la entidad B lo hace con muchas de la entidad A.</p> <p>En el siguiente ejemplo, tenemos que cada empleado puede trabajar en muchos proyectos, y que en cada proyecto, pueden trabajar muchos empleados:</p> Ocurrencias N:M <p></p> <p></p> <p>Si nos fijamos en las ocurrencias de las entidades, vemos como un empleado trabaja en uno o m\u00e1s proyectos (o en ninguno). Por ello, <code>Card(EMPLEADO, TRABAJAR) = (0,N)</code>. En cambio, tenemos proyectos en los que trabajan varios empleados, o incluso proyectos sin empleados, lo que implica que <code>Card(PROYECTO, TRABAJAR) = (0,N)</code>.</p> <p></p> <p>Autoevaluaci\u00f3n</p> <p>Igual que en las relaciones 1:1 y 1:N, \u00bfSer\u00edas capaz de anotar las combinaciones de cardinalidades y modelar todos los tipos de relaciones N:M posibles? \u00bfTiene sentido que las cardinalidades m\u00ednimas, en las relaciones N:M, sean 1? \u00bfPor qu\u00e9?</p>"},{"location":"temas/02/2.1-ModeloER.html#reflexivas","title":"\ud83e\udd1d Reflexivas","text":"Relaci\u00f3n reflexiva 1:N <p>Las relaciones reflexivas (o unarias) son aquellas relaciones de grado uno donde la misma entidad cumple dos roles diferentes en la relaci\u00f3n, los cuales se representan escribi\u00e9ndolo en cada lado de la relaci\u00f3n.</p> <p>Algunos ejemplos comunes son cuando una persona se casa con otra persona, una pieza que se compone de otras piezas o un empleado es responsable de otro empleado.</p> <p>Vamos a centrarnos en el caso de que un empleado sea el responsable de otro, donde podemos decir que todo empleado trabaja para otro pero que el empleado responsable (el jefe) lo es de varios empleados, lo que dar\u00eda lugar a una relaci\u00f3n 1:N. As\u00ed pues, creamos una relaci\u00f3n <code>TRABAJAR</code> y la unimos con <code>EMPLEADO</code> por los dos sentidos de la misma, y anotamos el rol en cada una de las cardinalidades.</p>"},{"location":"temas/02/2.1-ModeloER.html#atributos","title":"\u23f9\ufe0f Atributos","text":"<p>Los atributos describen propiedades de las entidades y de las relaciones, y se representan mediante elipses u \u00f3valos conectado a la entidad o la relaci\u00f3n mediante una l\u00ednea. Es importante destacar que en una misma entidad, el nombre de los atributos no se puede repetir, pero s\u00ed en entidades diferentes.</p> Atributos <p>Existen diferentes tipos de atributos:</p> <ul> <li>Identificador (clave): atributos \u00fanicos que identifican las ocurrencias de la entidad. Se subraya la palabra, como el <code>dni</code> que identifica a un cliente (no tendremos dos clientes con el mismo DNI)</li> <li>Compuesto: agrupaci\u00f3n de varios atributos, ya sean simples o compuestos. Por ejemplo, el campo <code>direccion</code> se compone de la calle, n\u00famero, etc... Se representa mediante \u00f3valos conectados entre s\u00ed, y pondremos el nombre compuesto entre par\u00e9ntesis.</li> <li>Multivaluado: el atributo puede tomar varios valores, como el <code>telefono</code> del cliente, que realmente puede almacenar el fijo, el m\u00f3vil y el n\u00famero del trabajo. Se representa mediante un doble \u00f3valo. (en otras notaciones, se pone una <code>n</code> al lado del conector del atributo)</li> <li>Derivado: Su valor se deduce a partir de otros atributos de la misma entidad, otras entidades con las que se relaciona o se calcula a partir de un dato. Por ejemplo, el campo <code>edad</code> se obtiene a partir de la fecha de nacimiento del cliente. Se representa mediante un \u00f3valo con el borde punteado.</li> <li>Opcional: el atributo puede contener valores nulos, como el <code>email</code>.</li> <li>No nulo: opuesto al atributo opcional, marca el atributo como obligatorio. En alguna notaciones se indica con un peque\u00f1o circulo entre el conector y el \u00f3valo.</li> <li>En una relaci\u00f3n: Su valor depende de la relaci\u00f3n, no de ninguna entidad</li> </ul> <p>Autoevaluaci\u00f3n</p> <p>Piensa en dos entidades que tengan una relaci\u00f3n con la cardinalidad que consideres, e identifica al menos un atributo de cada tipo.</p>"},{"location":"temas/02/2.1-ModeloER.html#identificadores","title":"\ud83c\udd94 Identificadores","text":"<p>Recuerda esta frase: Toda entidad debe tener uno o m\u00e1s atributos identificadores. M\u00e1s adelante veremos que en alg\u00fan caso particular de entidad no es necesario, pero por lo general, al realizar el modelo conceptual siempre debemos comprobar si hemos identificado un atributo identificador para cada entidad.</p> <p>Respecto a los atributos identificadores podemos tener:</p> <ul> <li>Atributos identificadores sencillos. Un atributo identifica de forma un\u00edvoca a una ocurrencia de la entidad. Por ejemplo, el <code>isbn</code> de un libro.</li> <li>Atributos identificadores compuestos, donde una entidad se identifica por dos o m\u00e1s atributos a la vez. Por ejemplo, una calle que se identifique por el tipo de v\u00eda y por el nombre de la calle, de manera que no es lo mismo la \"Avenida Am\u00e9rica\" que la \"Calle Am\u00e9rica\".</li> <li>Varios atributos candidatos que pueden identificar a la entidad. Por ejemplo, una persona que podemos identificar mediante su DNI, n\u00famero de pasaporte, n\u00famero de la seguridad social, etc.. Todos los atributos pueden identificar a la entidad <code>PERSONA</code>. Lo que haremos es elegir uno de ellos como identificador (el m\u00e1s com\u00fan o importante dependiendo del contexto del problema), y el resto de atributos se consideran claves alternativas, y se marcan como que aceptan valores \u00fanicos subrayando el nombre de los atributos con una l\u00ednea troceada.     \u00bfY si tenemos una entidad que no tiene aparentemente ning\u00fan atributo identificador? En ese caso, crearemos un nuevo atributo que lo haga, como <code>codigo</code> o <code>id</code>, y m\u00e1s adelante, el SGBD le dar\u00e1 un valor secuencial.</li> <li>Atributos identificadores que se complementan con otra entidad (este tipo lo estudiaremos en esta unidad dentro de las Restricciones)</li> </ul> <p>Dicho esto, un atributo identificador, como su propio nombre indica, debe identificar a la entidad de forma \u00fanica, siempre debe tener valor (no admite nulos), debe ser estable (a priori, no deber\u00eda cambiar), mejor si es sencilla y corta, y debe evitar la redundancia.</p> <p>Entidad Usuario</p> <p>Por ejemplo, pensemos en una entidad <code>USUARIO</code>, la cual tiene los atributos <code>login</code>, <code>password</code>, <code>email</code>, <code>nombre</code> y <code>telefono</code>. Si analizamos sus caracter\u00edsticas, claramente, los atributos candidatos ser\u00edan <code>login</code> y <code>email</code>, aunque como un usuario puede cambiar su email (por ejemplo, entre el personal y el de trabajo), ser\u00eda recomendable utilizar el atributo <code>login</code> como atributo identificador.</p> Nombre atributo \u00fanico siempre valor estable sencilla <code>login</code> S\u00ed S\u00ed S\u00ed S\u00ed <code>password</code> No S\u00ed No No <code>email</code> S\u00ed S\u00ed No S\u00ed <code>nombre</code> No S\u00ed S\u00ed S\u00ed <code>telefono</code> No No No S\u00ed <p>Autoevaluaci\u00f3n</p> <p>Piensa en una entidad PRODUCTO y deduce al menos 5 atributos que comparten todos los productos \u00bfQu\u00e9 atributo consideras identificador? \u00bfEs un atributo identificador simple o compuesto? Por \u00faltimo, \u00bfhas considerado otros atributos como candidatos?</p> <p>En resumen, los pasos que seguiremos a la hora de modelar un sistema de informaci\u00f3n son:</p> <ol> <li>Leer y comprender el problema.</li> <li>Localizar las entidades y relaciones candidatas. Para ello, sobre el enunciado, podemos rodear con un rect\u00e1ngulo las entidades (sustantivos) y con un rombo las relaciones (rombos).</li> <li>De las entidades, extraer los atributos, evitando la duplicidad y usando relaciones cuando sea necesario. Para cada entidad, debemos comprobar si tenemos uno o m\u00e1s atributos identificadores.</li> <li>Comprobar si alguno de los atributos debe ir en una relaci\u00f3n en vez de una entidad.</li> <li>Analizar y definir las cardinalidades de las relaciones, comenzando por la m\u00e1xima, para luego fijar la m\u00ednima y comprobar si las entidades participantes en la relaci\u00f3n son fuertes o d\u00e9biles.</li> <li>Revisar el modelo final y comprobar posibles relaciones redundantes o atributos derivados.</li> </ol> <p>Supuesto II Carreteras</p> <p>Se desea dise\u00f1ar una base de datos que contenga la informaci\u00f3n relativa a todas las carreteras de Espa\u00f1a. Se pide realizar el dise\u00f1o del modelo ER sabiendo que:</p> <ul> <li>Las carreteras se encuentran divididas en tramos.</li> <li>Un tramo, del que nos interesa su longitud, siempre pertenece a una \u00fanica carretera y no puede cambiar de carretera.</li> <li>Un tramo puede pasar por varios t\u00e9rminos municipales, siendo un dato de inter\u00e9s el km del tramo por el que entra en dicho t\u00e9rmino municipal y el km por el que sale.</li> <li>Existen una serie de \u00e1reas en las que se agrupan los tramos, cada uno de los cuales no puede pertenecer a m\u00e1s de un \u00e1rea.</li> </ul> Soluci\u00f3n <p>Primero localizamos las entidades y sus atributos:</p> <ul> <li>Entidades: <code>CARRETERA</code>, <code>TRAMO</code>, <code>MUNICIPIO</code>, <code>AREA</code></li> <li>Atributos: cada entidad tendr\u00e1 un atributo identificador, y c\u00f3mo en el enunciado no se indica, en unos casos creamos un atributo <code>codigo</code> y en otros con el nombre es suficiente (como es el caso de <code>MUNICIPIO</code>). Como atributo propio, cada <code>TRAMO</code> tiene un atributo <code>longitud</code>.</li> </ul> <p>Las relaciones son:</p> <ul> <li>Relaci\u00f3n 1:N nombrada como <code>PERTENECER</code> entre <code>CARRETERA</code> Y <code>TRAMO</code>, ya que \"las carreteras se encuentran divididas en tramos\" y \"un tramo, del que nos interesa su longitud, siempre pertenece a una \u00fanica carretera y no puede cambiar de carretera\".</li> <li>Relaci\u00f3n N:M nombrada como <code>PASAR</code> entre <code>TRAMO</code> y <code>MUNICIPIO</code>, ya que \"un tramo puede pasar por varios t\u00e9rminos municipales\", y aunque no lo indica de forma expl\u00edcita, deducimos que por un municipio pueden pasar varios tramos. Adem\u00e1s, a\u00f1adimos dos atributos en la relaci\u00f3n para almacenar \"el km del tramo por el que entra en dicho t\u00e9rmino municipal y el km por el que sale\". Si hubi\u00e9ramos colocado los atributos en <code>TRAMO</code> o en <code>MUNICIPIO</code> no tendr\u00edan el mismo significado, ya que nos interesa el dato de la relaci\u00f3n entre las dos entidades y no de una de ellas por separado.</li> <li>Relaci\u00f3n 1:N nombrada como <code>AGRUPAR</code> entre <code>TRAMO</code> Y <code>AREA</code>, ya que \"existen una serie de \u00e1reas en las que se agrupan los tramos, cada uno de los cuales no puede pertenecer a m\u00e1s de un \u00e1rea.\".</li> </ul> <p></p> Soluci\u00f3n supuesto Carretera <p></p>"},{"location":"temas/02/2.2-Restricciones.html","title":"2.2 Restricciones","text":""},{"location":"temas/02/2.2-Restricciones.html#22-restricciones","title":"2.2 Restricciones","text":"<p>En el apartado de Entidades vimos que tenemos entidades fuertes y d\u00e9biles, y en las d\u00e9biles su existencia depende de otra entidad, de manera que se identifica por sus propiedades y por las propiedades de las entidades de las que depende.</p>"},{"location":"temas/02/2.2-Restricciones.html#existencia-e-identificacion","title":"\ud83c\udd94 Existencia e identificaci\u00f3n","text":"<p>Las entidades d\u00e9biles, que representamos mediante un doble rect\u00e1ngulo, presentan dos tipos de dependencia:</p> <ul> <li> <p>Dependencia en existencia: la entidad d\u00e9bil no puede existir sin la entidad d\u00e9bil, lo que implica que, si desaparece una instancia de entidad fuerte desaparecer\u00e1n las instancias de entidad d\u00e9biles que dependan de la primera. La representaci\u00f3n de este tipo de dependencia incluir\u00e1 una <code>E</code> en el conector o en el interior de la relaci\u00f3n d\u00e9bil. En todos casos las restricciones de existencia implican que la cardinalidad m\u00ednima es 1.</p> </li> <li> <p>Dependencia en identificaci\u00f3n: debe darse una dependencia en existencia y adem\u00e1s, una ocurrencia de la entidad d\u00e9bil no puede identificarse por s\u00ed misma, debiendo hacerse mediante los atributos identificadores de la entidad fuerte asociada. La representaci\u00f3n de este tipo de dependencia incluir\u00e1 una <code>ID</code> en el conector o en el interior de la relaci\u00f3n d\u00e9bil. Tambi\u00e9n se puede representar con un rombo doble. Adem\u00e1s de que la cardinalidad m\u00ednima ser\u00e1 1, es muy com\u00fan que en estos casos, la relaci\u00f3n tenga una cardinalidad de 1:N.</p> </li> </ul> Restricci\u00f3n de ID <p>En el ejemplo del gr\u00e1fico tenemos una relaci\u00f3n que tiene una restricci\u00f3n de identificaci\u00f3n entre una l\u00ednea de pedido (entidad d\u00e9bil) respecto a un pedido (entidad fuerte). El pedido tendr\u00e1 un c\u00f3digo y un montante total que se calcula a partir de los valores de las l\u00edneas de pedido. La propia restricci\u00f3n de identificaci\u00f3n implica que las l\u00edneas de pedido realmente se identifican por su n\u00famero de l\u00ednea y por el c\u00f3digo del pedido, por ejemplo la l\u00ednea <code>1</code> del pedido <code>R2024A01</code>, la l\u00ednea <code>2</code> del mismo pedido, etc... o la l\u00ednea <code>1</code> de otro pedido diferente.</p> <p>En las restricciones de identificaci\u00f3n es muy com\u00fan que la entidad d\u00e9bil se identifique mediante un n\u00famero o c\u00f3digo secuencial, el cual se reinicia por cada cambio de la entidad fuerte. Por ejemplo, pensemos en que todos los apartamentos de un edificio empiezan desde el n\u00famero <code>101</code>, pudiendo tener el apartamento <code>102</code> del edificio <code>E1</code> y el apartamento <code>102</code> del edificio <code>E2</code>, es decir, la entidad <code>APARTAMENTO</code> tiene una restricci\u00f3n de identificaci\u00f3n con <code>EDIFICIO</code>.</p> <p>Pongamos otro ejemplo, si identificamos al alumnado por su n\u00famero de lista y por el grupo al que pertenecen, tendremos que no ser\u00e1 el mismo estudiante el n\u00famero <code>1</code> del grupo <code>1K</code> que el estudiante <code>1</code> del grupo <code>2K</code>, de manera que tendremos una restricci\u00f3n de identificaci\u00f3n entre la entidad <code>ESTUDIANTE</code> y la entidad <code>GRUPO</code>.</p> <p>D\u00e9bil o fuerte</p> <p></p> <p>Hay casos en los que una entidad tiene relaci\u00f3n con varias entidades, comport\u00e1ndose como d\u00e9bil en una, y como fuerte en otras. Es por ello, que adem\u00e1s de marcar la entidad como d\u00e9bil, debemos marcar la relaci\u00f3n con un doble rombo.</p> <p>Ve\u00e1moslo con un ejemplo. Si sobre la l\u00ednea de pedido, a\u00f1adimos una relaci\u00f3n 1:N con observaciones sobre la misma, tendr\u00edamos el siguiente modelo, donde LINEA_PEDIDO es una entidad d\u00e9bil respecto a la relaci\u00f3n CONTENER, pero hace de entidad fuerte respecto a la relaci\u00f3n TENER.</p> <p>Cardinalidades exactas</p> <p>En ocasiones sabemos la cantidad exacta de ocurrencias con las que se puede relacionar una entidad. En dicho caso, seguir\u00e1n siendo relaciones 1:N o N:M, pero en el modelo, indicaremos la cantidad de ocurrencias.</p> <p>Por ejemplo, si en una clase se matriculan un m\u00ednimo de 5 estudiantes y un m\u00e1ximo de 24, y un estudiante se matricula en al menos 2 clases y 6 como m\u00e1ximo, tendremos:</p> <p></p> Restricci\u00f3n de ID <p></p> <p>Supuesto III Empresa</p> <p>Vamos a ampliar el sistema de informaci\u00f3n anterior para almacenar m\u00e1s informaci\u00f3n. El nuevo sistema es:</p> <ul> <li>La empresa est\u00e1 organizada en departamentos. Cada uno tiene un nombre \u00fanico, el n\u00famero del despacho en el que se ubica y un empleado que lo dirige. Nos interesa la fecha que empez\u00f3 a dirigirlo.</li> <li>Cada departamento controla una serie de proyectos, los cuales tienen nombre y n\u00famero \u00fanicos.</li> <li>De cada empleado nos interesa el DNI, nombre, fecha de nacimiento, salario y departamento en el que trabaja. Cada empleado puede trabajar en m\u00e1s de un proyecto, dedic\u00e1ndole un determinado n\u00famero de horas a la semana en cada proyecto.</li> <li>Finalmente, queremos guardar tambi\u00e9n los familiares de cada empleado, para administrar informaci\u00f3n relativa a las p\u00f3lizas de seguros. De los familiares, queremos saber el nombre, fecha de nacimiento y parentesco con el empleado.</li> </ul> Soluci\u00f3n <p>Si volvemos a repetir el mismo proceso que hemos realizando anteriormente, vamos a localizar las entidades y las relaciones buscando los sustantivos y los verbos:</p> <ul> <li>La empresa est\u00e1 organizada en departamentos. Cada uno tiene un nombre \u00fanico, el n\u00famero del despacho en el que se ubica y un empleado que lo dirige. Nos interesa la fecha que empez\u00f3 a dirigirlo.</li> <li>Cada departamento controla una serie de proyectos, los cuales tienen nombre y n\u00famero \u00fanicos.</li> <li>De cada empleado nos interesa el DNI, nombre, fecha de nacimiento, salario y departamento en el que trabaja. Cada empleado puede dedicarse a m\u00e1s de un proyecto, facturando un determinado n\u00famero de horas a la semana a cada proyecto.</li> <li>Finalmente, queremos guardar tambi\u00e9n los familiares que tiene cada empleado, para administrar informaci\u00f3n relativa a las p\u00f3lizas de seguros. De los familiares, queremos saber el nombre, fecha de nacimiento y parentesco con el empleado.</li> </ul> <p>Resumiendo, hemos localizado: </p> <ul> <li>Entidades: EMPLEADO, DPTO, PROYECTO y FAMILIAR.</li> </ul> <p>Relaciones:</p> <ul> <li>TRABAJAR entre EMPLEADO y DPTO.</li> <li>SER_JEFE entre EMPLEADO y DPTO.</li> <li>CONTROLAR entre DPTO y PROYECTO.</li> <li>DEDICAR entre EMPLEADO y PROYECTO.</li> <li>TENER entre EMPLEADO y FAMILIAR.</li> </ul> <p>Si nos centramos en las cardinalidades de las relaciones, tenemos:</p> <ul> <li>Card(EMPLEADO, TRABAJAR) = (0, 1) y Card(DPTO, TRABAJAR) = (0, N)</li> <li>Card(EMPLEADO, SER_JEFE) = (0, 1) y Card(DPTO, SER_JEFE) = (1, 1)</li> <li>Card(DPTO, CONTROLAR) = (0, N) y Card(PROYECTO, CONTROLAR) = (1, 1)</li> <li>Card(EMPLEADO, DEDICAR) = (0, N) y Card(PROYECTO, DEDICAR) = (1, N)</li> <li>Card(EMPLEADO, TENER) = (0, N) y Card(FAMILIAR, TENER) = (1, 1)</li> </ul> <p>Finalmente, los atributos de las entidades y las relaciones son:</p> <ul> <li>Atributos de EMPLEADO: dni (atributo identificador), nombre, fecha de nacimiento, salario.</li> <li>Atributos de DPTO: nombre (atributo identificador), n\u00famero de despacho.</li> <li>Atributos de PROYECTO: nombre y n\u00famero (ambos atributos identificadores).</li> <li>Atributos de FAMILIAR: nombre (atributo identificador), fecha de nacimiento, parentesco.</li> </ul> <p>Atributos de las relaciones:</p> <ul> <li>SER_JEFE: fecha de inicio</li> <li>DEDICARSE: horas semanales</li> </ul> <p>Con estas consideraciones, el modelo resultante es:</p> <p></p> Soluci\u00f3n <p></p>"},{"location":"temas/02/2.2-Restricciones.html#perdida-expresiva","title":"P\u00e9rdida expresiva","text":"<p>En ocasiones, los modelos conceptuales no son capaces de expresar todas las restricciones, relaciones o propiedades el mundo real, ya sea por algunas relaciones muy complejas, dependencias temporales o reglas de negocio.</p> <p>Para ello, en el pie de los modelos indicaremos con texto una frase del estilo \"P\u00e9rdida expresiva: Todo cliente debe haber nacido en la misma provincia que la tienda donde realiza el pedido\".</p>"},{"location":"temas/02/2.3-Modelo-extendido.html","title":"2.3 Modelo Extendido","text":""},{"location":"temas/02/2.3-Modelo-extendido.html#23-el-modelo-entidad-relacion-extendido","title":"2.3 El modelo Entidad Relaci\u00f3n Extendido","text":"<p>Con el paso de los a\u00f1os, y dadas ciertas carencias del modelo entidad relaci\u00f3n, a mediados de los a\u00f1os 80 se extendi\u00f3 con la incorporaci\u00f3n de los conceptos de clase y subclase, junto con los conceptos de generalizaci\u00f3n y especializaci\u00f3n, as\u00ed como la agregaci\u00f3n de entidades, dando lugar al modelo Entidad Relaci\u00f3n Extendido (EER).</p>"},{"location":"temas/02/2.3-Modelo-extendido.html#generalizacion","title":"\ud83d\udd37 Generalizaci\u00f3n","text":"<p>La descomposici\u00f3n de tipos de entidad en varios subtipos o subclases permite identificar jerarqu\u00edas de entidades, entre una entidad general, que denominamos entidad superclase (o entidad padre), que se puede especializar en entidades subclase (o entidades hijas):</p> <ul> <li>La entidad superclase modelan las caracter\u00edsticas comunes de la entidad vista de una forma gen\u00e9rica.</li> <li>Las entidades subclase modelan las caracter\u00edsticas propias de sus especializaciones.</li> </ul> <p>Es necesario que se cumpla que toda ocurrencia de una entidad subclase sea tambi\u00e9n una ocurrencia de su entidad superclase, propagando sus caracter\u00edsticas de padres a hijos, lo que se denomina herencia de propiedades.</p> <p>Generalizaci\u00f3n vs Especializaci\u00f3n</p> <p>Se dice que tenemos una generalizacio\u0301n, cuando dos o ma\u0301s tipos de entidades van a compartir diferentes atributos. Para ello, la entidad superclase contendr\u00e1 aquellos atributos comunes a las subclases. En cambio, se dice que realizamos una especializaci\u00f3n cuando un tipo de entidad tiene algunos atributos que tienen sentido para algunas subclases, pero no para todas. Para ello, cada subclase contendr\u00e1 sus atributos espec\u00edficos, y los comunes se colocan en la superclase.</p> <p>As\u00ed pues, se dice que la generalizaci\u00f3n va de abajo hacia arriba, subiendo los atributos comunes al padre, y en consecuencia, la especializaci\u00f3n va de arriba a abajo, colocando en los hijos los atributos espec\u00edficos que no comparten todas las subclases.</p> <p>Con generalizaci\u00f3n y la especializaci\u00f3n se establece una relaci\u00f3n ES-UN (en ingl\u00e9s, IS-A), indicando que una entidad hijo ES-UN con la entidad padre. Por ejemplo, si la superclase es <code>VEHICULO</code>, ejemplos de subclases ser\u00edan <code>CAMION</code>, <code>AUTOBUS</code>, <code>MOTO</code>, etc... ya que un <code>CAMION</code> es un <code>VEHICULO</code>.</p> <p>En la generalizaci\u00f3n/especializaci\u00f3n, las caracter\u00edsticas (atributos o interrelaciones) de la entidad superclase se propagan hacia las entidades subclase. Es lo que se denomina herencia de propiedades.</p> Generalizaci\u00f3n <p>Las generalizaciones siempre se representan en vertical, situando la entidad superclase arriba y las subclases debajo. Para conectarlas, se utiliza un c\u00edrculo que puede contener la letra <code>d</code> o la letra <code>o</code> de forma similar al ejemplo que tenemos en el lateral, para indicar que la especializaci\u00f3n es disjunta o solapada (overlap). Entre la clase padre y el c\u00edrculo, si se utiliza una l\u00ednea simple indicamos que es una especializaci\u00f3n parcial y si es doble, que se trata de una generalizaci\u00f3n total.</p> <p>Finalmente, el circulo conecta con los hijos mediante una l\u00ednea que contiene un arco indicando el sentido del padre a los hijos.</p> <p>As\u00ed pues, en el ejemplo tenemos que un <code>LIBRO</code> tiene un isbn y un t\u00edtulo. Y que un <code>EBOOK</code> ES-UN <code>LIBRO</code> y que <code>EN_PAPEL</code> tambi\u00e9n ES-UN <code>LIBRO</code>. Un <code>EBOOK</code> en total tiene tres atributos, los dos que hereda del padre, m\u00e1s el formato del ebook. De forma similar, <code>EN_PAPEL</code>, tambi\u00e9n tiene tres atributos, los dos que hereda de <code>LIBRO</code> m\u00e1s el n\u00famero de p\u00e1ginas de la copia impresa.</p>"},{"location":"temas/02/2.3-Modelo-extendido.html#tipos","title":"\ud83d\udcda Tipos","text":"<p>Cuando definimos una especializaci\u00f3n es muy importante definir c\u00f3mo se relacionan las superclases con las subclases.</p> <p>Vamos a centrarnos en un supuesto donde tenemos una superclase <code>EMPLEADO</code> y tenemos tres subclases: <code>DIRECTIVO</code>, <code>TECNICO</code> y <code>COMERCIAL</code>.</p> <p>Si nos centramos en la cantidad de subtipos posibles tenemos:</p> <ul> <li>Total: La superclase pertenece obligatoriamente a alguna de las subclases. No puede haber un <code>EMPLEADO</code> que no sea ni <code>DIRECTIVO</code>, ni <code>TECNICO</code>, ni <code>COMERCIAL</code>. Se representa uniendo mediante una l\u00ednea doble (<code>||</code>) la superclase con el c\u00edrculo.</li> <li>Parcial: La superclase puede no pertenecer a alguna de las subclases. Podr\u00edamos tener un <code>EMPLEADO</code> que no sea ni <code>DIRECTIVO</code>, ni <code>TECNICO</code>, ni <code>COMERCIAL</code>. Se representa uniendo mediante una l\u00ednea sencilla (<code>|</code>) la superclase con el c\u00edrculo.</li> </ul> <p>Y si ponemos en foco en la exclusividad de las subclases:</p> <ul> <li>Disjunta / Exclusiva: La superclase s\u00f3lo pertenece a una de las subclases. Si un <code>EMPLEADO</code> es un <code>DIRECTIVO</code>, no puede ser un <code>TECNICO</code> ni un <code>COMERCIAL</code>. Se representa poniendo una <code>d</code> dentro del c\u00edrculo.</li> <li>Solapada: La superclase puede pertenecer a varias de las subclases a la vez. Un <code>EMPLEADO</code> puede ser un <code>DIRECTIVO</code> y un <code>COMERCIAL</code> a la vez. Se representa poniendo una <code>o</code> dentro del c\u00edrculo.</li> </ul> <p>Con lo cual, se pueden dar las siguientes combianciones:</p> Tipos de relaciones IS-a Otras formas de representar este tipo de relaciones: <p></p> Tipos de relaciones IS-a (representaci\u00f3n alternativa) <p></p> <p>Supuesto IV Tienda</p> <p>Se pide dise\u00f1ar la base de datos de una tienda, la cual est\u00e1 organizada por departamentos, que contenga informaci\u00f3n sobre los trabajadores y los art\u00edculos que se ofertan.</p> <p>Se deben tener en cuenta las siguientes restricciones:</p> <p>De todos los trabajadores nos interesa almacenar su DNI, nombre completo y n\u00famero de tel\u00e9fono, as\u00ed como el departamento en el que trabajan. Existen tres tipos de trabajadores: gerentes (del que guardaremos el bonus anual), jefes (nos interesa almacenar cuantos vendedores tiene a su cargo) y vendedores (de cada vendedor, guardaremos su sueldo base y la zona donde trabaja). Cada departamento lo dirige un gerente, aunque se puede dar el caso que tengamos gerentes que no dirijan ning\u00fan departamento, pero nunca dirigir\u00e1n m\u00e1s de uno. Un gerente tiene a su cargo a un cierto n\u00famero de jefes y \u00e9stos a su vez a un cierto n\u00famero de vendedores. En cuanto a los productos nos interesa su c\u00f3digo, nombre y precio, y departamento en el que se encuentran. Cada producto lo pueden vender muchos vendedores, y cada vendedor, a su vez, puede vender muchos productos. Adem\u00e1s, cada vendedor le aplicar\u00e1 un determinado descuento a los productos con los que trabaja.</p> Soluci\u00f3n <p>Primero localizamos las entidades y sus atributos:</p> <ul> <li>Entidades: TRABAJADOR, DPTO, PRODUCTO. Los trabajadores a su vez, se descomponen en las subclases VENDEDOR, JEFE y GERENTE.</li> <li>Atributos: los trabajadores se identifican por su dni, mientras que los departamentos y los productos por su codigo.</li> </ul> <p>Las relaciones son:</p> <ul> <li>Relaci\u00f3n 1:N nombrada como PERTENECER entre TRABAJADOR Y DPTO, ya que de los trabajadores nos interesa \"el departamento en el que trabajan\" y se entiende que a un departamento pertenecer\u00e1n varios trabajadores.</li> <li>Generalizaci\u00f3n total y disjunta entre TRABAJADOR y sus hijos VENDEDOR, JEFE y GERENTE, cada uno con sus propios atributos. Destacar que el atributo de cantVendedores es derivado, ya que se obtiene de la cardinalidad de la relaci\u00f3n SUPERVISAR.</li> <li>Relaci\u00f3n 1:1 nombrada como DIRIGIR entre DPTO Y GERENTE, ya que \"Cada departamento lo dirige un gerente, aunque se puede dar el caso que tengamos gerentes que no dirijan ning\u00fan departamento, pero nunca dirigir\u00e1n m\u00e1s de uno\"</li> <li>Relaci\u00f3n 1:N nombrada como MANDAR entre GERENTE Y JEFE, ya que \"Un gerente tiene a su cargo a un cierto n\u00famero de jefes\".</li> <li>Relaci\u00f3n 1:N nombrada como SUPERVISAR entre JEFE Y VENDEDOR, continuando \"y \u00e9stos (los jefes) a su vez a un cierto n\u00famero de vendedores\".</li> <li>Relaci\u00f3n 1:N nombrada como ENCONTRAR entre DPTO Y PRODUCTO, ya que \"En cuanto a los productos nos interesa ... departamento en el que se encuentran\", y entendemos que en un departamento encontraremos varios productos.</li> <li>Relaci\u00f3n N:M nombrada como VENDER entre VENDEDOR y PRODUCTO, ya que \"Cada producto lo pueden vender muchos vendedores, y cada vendedor, a su vez, puede vender muchos productos\". Adem\u00e1s, a\u00f1adimos el atributo descuento en la relaci\u00f3n para almacenar el descuento que cada vendedor aplica a los productos.</li> </ul> <p></p> Soluci\u00f3n <p></p>"},{"location":"temas/02/2.3-Modelo-extendido.html#agregacion","title":"\u2716\ufe0f Agregaci\u00f3n","text":"<p>La agregaci\u00f3n surge de la limitaci\u00f3n que existe en el modelo ER de no permitir expresar relaciones entre relaciones binarias, y en gran medida, haciendo uso de agregaciones podemos evitar hacer uso de relaciones ternarias.</p> <p>As\u00ed pues, una agregaci\u00f3n se comporta como una entidad m\u00e1s, con un nivel de abstracci\u00f3n mayor que la propia relaci\u00f3n.</p> <p>Ejemplo Agregaci\u00f3n</p> <p>Por ejemplo, tengamos el caso de un docente que imparte clase en una determinada aula. El docente dar\u00e1 clase a varios grupos en el aula, y en el aula entran varios docentes. Queda claro que una relaci\u00f3n N:M entre <code>DOCENTE</code> y <code>AULA</code> (por ejemplo, <code>IMPARTIR</code>) nos permite modelar este caso. Pero \u00bfy si queremos registrar las incidencias que se producen en el aula cuando un docente est\u00e1 dando clase? Si unimos la entidad <code>INCIDENCIA</code> con <code>DOCENTE</code> o con <code>AULA</code>, estar\u00edamos perdiendo informaci\u00f3n.</p> <p></p> Agregaci\u00f3n <p></p> <p>As\u00ed pues, creamos una entidad asociativa que funciona como una agregaci\u00f3n, y la nombramos, por ejemplo como <code>SESION</code> (una sesi\u00f3n lectiva la imparte un docente en un aula) y \u00e9sta es la que relacionamos con la entidad <code>INCIDENCIA</code> mediante la relaci\u00f3n <code>REGISTRAR</code>. Es importante destacar que la entidad asociativa no tiene atributo identificador, porque realmente es como si tuviera una restricci\u00f3n de identificaci\u00f3n respecto a las otras entidades, a modo de entidad d\u00e9bil que necesita de todas las entidades con las que se asocia para identificarse.</p> <p>El mecanismo de agregaci\u00f3n lo que hace es abstraer las entidades y la relaci\u00f3n que las asocia para obtener una entidad compleja, conocida como entidad asociativa, que a su vez puede relacionarse como una entidad normal con el resto de entidades de nuestro sistema.</p> <p>Aunque tiene muchos puntos de contacto con una relaci\u00f3n ternaria, la agregaci\u00f3n remarca la relaci\u00f3n entre una determinada pareja de entidades, al mismo tiempo que no implica una necesaria asociaci\u00f3n con la tercera entidad, como si ocurre en las ternarias.</p>"},{"location":"temas/02/2.A-Actividades.html","title":"Actividades","text":""},{"location":"temas/02/2.A-Actividades.html#ut2-a-actividades","title":"UT2-A. Actividades","text":""},{"location":"temas/02/2.A-Actividades.html#actividades","title":"Actividades","text":""},{"location":"temas/02/2.A-Actividades.html#ac201-rabd6-ce6b-ce6c","title":"AC201. (RABD.6 // CE6b, CE6c)","text":"A partir del siguiente sistema de informaci\u00f3n <p>Vamos a dise\u00f1ar la base de datos para una flota de veh\u00edculos y las multas asociadas.</p> <p>Tenemos una flota de veh\u00edculos de los cuales queremos guardar los siguientes datos: <code>matr\u00edcula</code>, <code>modelo</code>, <code>marca</code> y <code>a\u00f1o de fabricaci\u00f3n</code>. Nos interesa almacenar informaci\u00f3n de su <code>propietario</code>, que tiene los siguientes datos: <code>DNI</code>, <code>nombre</code>, <code>apellidos</code>, <code>edad</code>, <code>tel\u00e9fono</code>, <code>direcci\u00f3n</code>, <code>c\u00f3digo postal</code> y la <code>fecha desde la que ese propietario tiene el veh\u00edculo</code>.</p> <p>Ampliaci\u00f3n: Gesti\u00f3n de Multas \ud83d\udc6e</p> <p>Se desea conocer las multas impuestas a cada veh\u00edculo.</p> <p>De cada multa interesa conocer: la <code>identificaci\u00f3n de la multa</code> (n\u00famero \u00fanico), <code>fecha</code>, <code>hora</code>, <code>breve descripci\u00f3n</code>, <code>ubicaci\u00f3n</code>, si estaba <code>presente o ausente</code> el propietario/conductor, <code>importe total</code>, el <code>agente</code> que ha puesto la multa (del cual nos interesa saber su <code>DNI</code>, <code>n\u00famero de agente</code>, <code>nombre</code> y <code>apellidos</code>, <code>a\u00f1os en el cuerpo</code>) y las infracciones asociadas a la multa.</p> <p>Una multa puede tener asociada m\u00e1s de una infracci\u00f3n. De las infracciones que se pueden cometer queremos registrar el <code>identificador de infracci\u00f3n</code>, <code>denominaci\u00f3n</code>, <code>tipo</code> (Leve, Grave, Muy grave), <code>sanci\u00f3n econ\u00f3mica</code> (m\u00ednimo y m\u00e1ximo) y <code>p\u00e9rdida de puntos</code>.</p> <p>Se pide:</p> <ol> <li>Identifica las entidades, atributos y relaciones</li> <li>Una vez identificados, realiza el modelo ER \u00fanicamente con las entidades y las relaciones (sin colocar los atributos) y define las cardinalidades de las relaciones</li> </ol>"},{"location":"temas/02/2.A-Actividades.html#ar202-rabd6-ce6b","title":"AR202. (RABD.6 // CE6b)","text":"Dise\u00f1a el modelo ER \u00fanicamente con las entidades y las relaciones de un Centro Educativo <p>Dise\u00f1ar la base de datos para gestionar alumnos, profesores y m\u00f3dulos.</p> <p>Se desea guardar informaci\u00f3n de los <code>alumnos</code> (<code>N\u00famero de expediente</code>, <code>NIF</code>, <code>nombre</code>, <code>apellido 1</code>, <code>apellido 2</code>, <code>tel\u00e9fono</code>, <code>direcci\u00f3n</code>, <code>ciudad</code>, <code>c\u00f3digo postal</code>, <code>edad</code>, <code>email</code>), de los <code>m\u00f3dulos</code> que se imparten (<code>denominaci\u00f3n</code>, <code>n\u00famero de horas</code> y <code>ciclo</code> al que pertenecen), el <code>profesor</code> que lo imparte y la <code>nota final</code> obtenida por cada alumno en cada m\u00f3dulo (s\u00f3lo una nota final).</p> <p>Del <code>profesor</code> queremos guardar su <code>DNI</code>, <code>nombre</code> y <code>apellidos</code>, <code>tel\u00e9fono</code>, <code>email</code>, <code>fecha de ingreso</code>, si tiene <code>plaza definitiva</code> o no y <code>departamento</code> al que pertenece. Se desea conocer tambi\u00e9n el profesor que es <code>jefe de departamento</code>.</p> <p>Ampliaci\u00f3n: Gesti\u00f3n de Convocatorias \ud83d\udcc4</p> <p>En el caso de que el alumno haya suspendido un m\u00f3dulo, se debe almacenar la nota obtenida en cada una de las convocatorias. Estas se guardar\u00e1n como <code>MAR</code> (marzo), <code>JUN</code> (junio) y <code>SEP</code> (septiembre) y el <code>a\u00f1o</code> al que corresponda.</p>"},{"location":"temas/02/2.A-Actividades.html#ac203-rabd6-ce6d","title":"AC203. (RABD.6 // CE6d)","text":"A partir del siguiente modelo ER <p>Indica las cardinalidades de las relaciones, y a continuaci\u00f3n, redacta el texto que dar\u00eda lugar como resultado este modelo</p> <p></p> Actividad 203 <p></p>"},{"location":"temas/02/2.A-Actividades.html#ac204-rabd6-ce6b-ce6c-ce6e","title":"AC204. (RABD.6 // CE6b, CE6c, CE6e):","text":"Empresa Venta de Productos <p>Una empresa vende productos a varios clientes. Se desea registrar los datos de los clientes, los datos de los productos, de los proveedores que lo proporcionan y de las compras que realizan los clientes.</p> <ul> <li>Clientes: <code>nombre</code>, <code>apellidos</code>, <code>DNI</code>, <code>direcci\u00f3n completa</code>, <code>tel\u00e9fono</code>, <code>email</code> y <code>edad</code>.</li> <li>Productos que compran: <code>n\u00famero de unidades</code> de cada producto y la <code>fecha</code> en la que lo compran.</li> <li>Productos: Se clasifican en <code>categor\u00edas</code> (textil, menaje, tecnolog\u00eda, ...), de forma que un producto pertenece a una \u00fanica categor\u00eda. Cada producto tiene un <code>nombre</code>, un <code>c\u00f3digo</code>, un <code>precio unitario de compra</code>, <code>precio de venta</code> y <code>tipo de IVA</code> (21, 10 o 4).</li> <li>Compras: Un cliente puede comprar varios productos, y un mismo producto puede ser comprado por varios clientes. Si se realiza una compra de un mismo art\u00edculo un mismo d\u00eda, se registrar\u00e1 como una \u00fanica compra.</li> <li>Proveedores: Un producto s\u00f3lo puede ser suministrado por un proveedor, y un proveedor puede suministrar diferentes productos. De cada proveedor se desea conocer el <code>NIF</code>, <code>nombre</code>, <code>apellidos</code>, <code>tel\u00e9fono</code> y el <code>precio</code> al que suministra cada producto.</li> </ul>"},{"location":"temas/02/2.A-Actividades.html#ac205-rabd6-ce6b-ce6c-ce6e","title":"AC205. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER de los siguientes sistemas de informaci\u00f3n <ul> <li> <p><code>205.1</code>: Una empresa ubicada en distintos edificios de distintos pol\u00edgonos industriales desea registrar la distribuci\u00f3n de sus departamentos.     Un departamento puede estar distribuido en varios edificios. Del departamento tenemos su nombre y el n\u00famero de empleados que lo integran.     De los edificios sabemos su nombre y el n\u00famero de despachos que tienen. En cada edificio (que est\u00e1 localizado en un pol\u00edgono industrial, y del que se conoce su nombre y la ciudad en la que est\u00e1 situado) pueden ubicarse distintos departamentos.     Debido a esto, se desea controlar el n\u00famero de despachos que cada departamento tiene en cada edificio.</p> </li> <li> <p><code>205.2</code>: Una peque\u00f1a empresa telef\u00f3nica desea crear una base de datos para el control de las llamadas efectuadas exclusivamente entre sus clientes.     Dispondr\u00e1 de informaci\u00f3n sobre las terminales de su red (si se trata de tel\u00e9fonos m\u00f3viles o fijos, el no de tel\u00e9fono y el nombre del cliente), y de cada llamada realizada entre ellos se almacenar\u00e1: n\u00fameros de tel\u00e9fono del emisor y el receptor de la llamada, la hora de comienzo de la misma y su duraci\u00f3n.</p> </li> </ul>"},{"location":"temas/02/2.A-Actividades.html#ar206-rabd6-ce6b-ce6c-ce6e","title":"AR206. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER de una base de datos para una Autoescuela. <p>En una autoescuela hay varios profesores y varios coches para realizar las pr\u00e1cticas.</p> <p>Se desea guardar informaci\u00f3n respecto a los alumnos (<code>DNI</code>, <code>nombre</code>, <code>apellidos</code>, <code>fecha de matriculaci\u00f3n</code>, <code>tel\u00e9fono</code>, <code>email</code>), el profesor que se les asigna (<code>DNI</code>, <code>nombre</code> y <code>apellidos</code>, <code>direcci\u00f3n</code>, <code>tel\u00e9fono</code>, <code>fecha ingreso</code>) y el coche que conducir\u00e1n (<code>matr\u00edcula</code>, <code>color</code>, <code>a\u00f1o de compra</code>, <code>potencia</code>).</p> <ul> <li> <p>Caso A) \ud83d\ude97     Cada alumno da clase siempre en el mismo coche y con el mismo profesor.</p> </li> <li> <p>Caso B) \ud83d\udd04   Cada alumno puede dar clases con un profesor y/o coche distinto. Se desea reflejarlo y saber en qu\u00e9 <code>fecha</code> ha dado la clase, con qu\u00e9 coche y con qu\u00e9 profesor.</p> </li> </ul>"},{"location":"temas/02/2.A-Actividades.html#ap207-rabd6-ce6b-ce6c-ce6e","title":"AP207. (RABD.6 // CE6b, CE6c, CE6e):","text":"Realiza el modelo ER empresa de log\u00edstica <p>Nos subimos al cami\u00f3n para dise\u00f1ar la base de datos de una empresa de log\u00edstica que reparte paquetes por toda Espa\u00f1a.</p> <p>Se desea informatizar la gesti\u00f3n de una empresa de transportes.</p> <ul> <li>Camioneros: <code>DNI</code>, <code>nombre</code>, <code>tel\u00e9fono</code>, <code>direcci\u00f3n</code>, <code>salario</code> y <code>poblaci\u00f3n</code> y <code>provincia</code> en la que vive.</li> <li>Paquetes: <code>c\u00f3digo de paquete</code>, <code>descripci\u00f3n</code>, <code>nombre destinatario</code> y <code>direcci\u00f3n completa del destinatario</code>.</li> <li>Reglas de reparto: Un camionero distribuye muchos paquetes, y un paquete s\u00f3lo puede ser distribuido por un camionero.</li> <li>Provincias: <code>c\u00f3digo de provincia</code> y <code>nombre</code>. Un paquete s\u00f3lo puede llegar a una provincia. Sin embargo, a una provincia pueden llegar varios paquetes.</li> <li>Camiones: <code>matr\u00edcula</code>, <code>marca</code>, <code>modelo</code> y <code>potencia</code>. Un camionero puede conducir diferentes camiones en fechas diferentes, y un cami\u00f3n puede ser conducido por varios camioneros en una misma fecha. Puede haber camiones nuevos que no se hayan usado en el reparto todav\u00eda.</li> </ul>"},{"location":"temas/02/2.A-Actividades.html#ac208-rabd6-ce6b-ce6c-ce6e","title":"AC208. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER una prueba ciclista <p>A los ciclistas inscritos en la prueba se les asigna un dorsal \u00fanico. De cada ciclista participante se desea conocer su edad, nombre y equipo al que pertenece. De cada equipo se desea conocer su director.</p> <p>La prueba es por etapas. De cada etapa se registra el n\u00famero de etapa, los kil\u00f3metros, la ciudad de salida y la de llegada (con unas breves rese\u00f1as geogr\u00e1ficas, hist\u00f3ricas y econ\u00f3micas) y los puertos por los que pasa la etapa (nombre, altura, categor\u00eda).</p> <p>Se quiere conocer qu\u00e9 ciclista ha ganado en cada puerto y qui\u00e9n ha ganado cada etapa.</p> <p></p> Actividad 208 <p></p>"},{"location":"temas/02/2.A-Actividades.html#ac209-rabd6-ce6b-ce6c-ce6e","title":"AC209. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER sobre cine <p>De cada pel\u00edcula le interesar\u00e1 conocer el t\u00edtulo, el a\u00f1o de producci\u00f3n, la nacionalidad, y los datos (nombre, fecha de nacimiento y nacionalidad) de los int\u00e9rpretes (como mucho los 6 int\u00e9rpretes principales), del director y los autores del guion en el que est\u00e1 basada la pel\u00edcula. De este \u00faltimo -el guion- se sabr\u00e1 adem\u00e1s el t\u00edtulo.</p> <p>Tambi\u00e9n desea conocer los posibles Oscars ganados por cada pel\u00edcula en las modalidades de: mejor pel\u00edcula, mejor guion, mejores int\u00e9rpretes y mejor director.</p> <p>Por \u00faltimo, se tendr\u00e1n identificadas las pel\u00edculas que son remakes de otras, conociendo en ese caso, la pel\u00edcula original y los distintos remakes.</p>"},{"location":"temas/02/2.A-Actividades.html#ac210-rabd6-ce6b-ce6c-ce6e","title":"AC210. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER sobre una academ\u00eda de ingl\u00e9s <p>Se desea generar una base de datos para almacenar informaci\u00f3n respecto a una academia de ingl\u00e9s.</p> <ul> <li>Personas (Alumnos): Se almacena el <code>expediente</code>, <code>nombre</code>, <code>apellidos</code>, <code>direcci\u00f3n completa</code>, <code>tel\u00e9fono</code> y <code>edad</code>.</li> <li>Grupos: Cada persona se ubica en un grupo en funci\u00f3n de su nivel de ingl\u00e9s. El grupo se identifica por un <code>c\u00f3digo</code> y tendr\u00e1 un <code>n\u00famero de alumnos</code>. Hay un grupo por cada nivel. En cada grupo hay un alumno que es el delegado. Puede haber grupos sin alumnos.</li> <li>Profesores: Hay varios profesores de nacionalidades distintas. Se guarda su <code>DNI</code>, <code>nombre</code>, <code>direcci\u00f3n completa</code>, <code>tel\u00e9fono</code> y <code>nacionalidad</code>.</li> <li>Relaciones clave:<ul> <li>Cada profesor da clase a varios grupos.</li> <li>Cada grupo est\u00e1 formado por varios alumnos.</li> <li>A cada grupo s\u00f3lo le imparte clase un profesor.</li> <li>Debe quedar reflejado cu\u00e1l es el profesor de un determinado alumno (esto se deduce de la relaci\u00f3n grupo-profesor).</li> </ul> </li> </ul>"},{"location":"temas/02/2.A-Actividades.html#ap211-rabd6-ce6b-ce6c-ce6e","title":"AP211. (RABD.6 // CE6b, CE6c, CE6e)","text":"Actividad: REaliza el ER sobre un campeonato de ajedrez que gestiona toda la informaci\u00f3n participantes, alojamientos y partidas <p>En el campeonato participan jugadores y \u00e1rbitros; de ambos se requiere conocer el n\u00famero de asociado, nombre, direcci\u00f3n, tel\u00e9fono de contacto y campeonatos en los que han participado (como jugador o como \u00e1rbitro). De los jugadores se precisa adem\u00e1s el nivel de juego en una escala de 1 a 10. Ning\u00fan \u00e1rbitro puede participar como jugador.</p> <p>Los pa\u00edses env\u00edan al campeonato un conjunto de jugadores y \u00e1rbitros, aunque no todos los pa\u00edses env\u00edan participantes. Todo jugador y \u00e1rbitro es enviado por un \u00fanico pa\u00eds. Un pa\u00eds puede ser representado por otro pa\u00eds. Cada pa\u00eds se identifica por un n\u00famero correlativo seg\u00fan su orden alfab\u00e9tico e interesa conocer adem\u00e1s de su nombre, el n\u00famero de clubes de ajedrez existentes en el mismo.</p> <p>Cada partida se identifica por un numero correlativo (<code>codigop</code>), la juegan dos jugadores y la arbitra un \u00e1rbitro. Interesa registrar las partidas que juegan cada jugador y el color (blancas o negras) con el que juega. Ha de tenerse en cuenta que un \u00e1rbitro no puede arbitrar a jugadores enviados por el mismo pa\u00eds que le ha enviado a \u00e9l. Todo participante participa en al menos una partida.</p> <p>Tanto jugadores como \u00e1rbitros se alojan en uno de los hoteles en los que se desarrollan las partidas, se desea conocer en qu\u00e9 hotel y en qu\u00e9 fechas se ha alojado cada uno de los participantes. Los participantes pueden no permanecer en el mismo hotel que se realiza el campeonato durante todo el campeonato, sino acudir cuando tienen que jugar alguna partida aloj\u00e1ndose en el mismo o distinto hotel. De cada hotel, se desea conocer el nombre, la direcci\u00f3n y el n\u00famero de tel\u00e9fono.</p> <p>El campeonato se desarrolla a lo largo de una serie de jornadas (a\u00f1o, mes, d\u00eda) y cada partida tiene lugar en una de las jornadas aunque no tengan lugar partidas todas las jornadas.</p> <p>Cada partida se celebra en una de las salas de las que pueden disponer los hoteles, se desea conocer el n\u00famero de entradas vendidas en la sala para cada partida. De cada sala, se desea conocer la capacidad y medios de que dispone (radio, televisi\u00f3n, video...) para facilitar la retransmisi\u00f3n de los encuentros. Una sala puede disponer de varios medios distintos.</p> <p>De cada partida se pretende registrar todos los movimientos que la componen. La identificaci\u00f3n de movimiento se establece en base a un numero de orden dentro de cada partida: para cada movimiento se guardan la jugada (5 posiciones) y un breve comentario realizado por un experto.</p>"},{"location":"temas/02/2.A-Actividades.html#ac212-rabd6-ce6b-ce6c-ce6e","title":"AC212. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER del siguiente sistema de informaci\u00f3n sobre las cadenas de radio del panorama radiof\u00f3nico <p>De cada cadena conoceremos el nombre, el g\u00e9nero (musical, de noticias, deportiva, ...) y adem\u00e1s, el nombre de las provincias en las que emite, teniendo en cuenta que una cadena puede tener varias emisoras en una misma provincia, cada una de ellas emitiendo en su correspondiente dial.</p> <p>Por otra parte, conoceremos el nombre y la antig\u00fcedad de todos los empleados de cada cadena de radio. De los t\u00e9cnicos conoceremos adem\u00e1s su especialidad (de sonido, de archivo, de mantenimiento, ...) y de los locutores los programas que presentan.</p> <p>Sabremos, para cada programa, su nombre, la hora de inicio, su duraci\u00f3n en minutos y la cadena de radio que lo emite.</p> <p>Hemos de tener en cuenta adem\u00e1s que cada locutor puede presentar un m\u00e1ximo de tres programas distintos y que cada programa es presentado como mucho por cinco locutores.</p> <p>Los programas pueden tener un patrocinador del que conoceremos el nombre y el aporte econ\u00f3mico; distintos programas pueden tener el mismo patrocinador.</p>"},{"location":"temas/02/2.A-Actividades.html#ar213-rabd6-ce6b-ce6c-ce6e","title":"AR213. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER del siguiente sistema de informaci\u00f3n sobre la Eurocopa: <p>Nos interesa conocer el nombre de cada selecci\u00f3n y su indumentaria habitual (color de la camiseta, del pantal\u00f3n y las calzas), el nombre del seleccionador y el n\u00famero de a\u00f1os que \u00e9ste lleva en el cargo, y los nombres, n\u00famero de camiseta y posici\u00f3n (portero, defensa, centrocampista, ...) de los 22 jugadores de cada equipo.</p> <p>Adem\u00e1s, se desea almacenar informaci\u00f3n de todos los partidos jugados por cada equipo: la fecha, el lugar, el equipo local y el resultado (n\u00famero de goles del equipo local y del visitante).</p> <p>Tambi\u00e9n, de cada gol marcado, el jugador que lo marca, el portero que lo encaja, el minuto de juego y el tipo de gol (de falta, de penalti, en jugada, etc...).</p>"},{"location":"temas/02/2.A-Actividades.html#ac214-rabd6-ce6b-ce6c-ce6e","title":"AC214. (RABD.6 // CE6b, CE6c, CE6e)","text":"Realiza el modelo ER sobre una Museo <p>Se desea almacenar por cada museo un c\u00f3digo, nombre, provincia, direcci\u00f3n. Cada museo dispone de una serie de salas donde se muestran sus obras; cada sala se identifica con un n\u00famero consecutivo dentro del c\u00f3digo del museo al que pertenece, adem\u00e1s se almacena su ubicaci\u00f3n y tama\u00f1o en metros cuadrados. Cada museo dispondr\u00e1, al menos, de una sala de exposici\u00f3n.</p> <p>Se necesita personal para controlar el sistema, es decir, trabajadores especializados en tres diferentes funciones: personal de vigilancia al cual se le asigna un n\u00famero de control y un n\u00famero de arma, personal de conservaci\u00f3n del cual se registra su funci\u00f3n y personal de gesti\u00f3n para labores administrativas. Para todo el personal es necesario almacenar su DNI y el n\u00famero de la seguridad social. Un trabajador tiene exclusividad en un museo. Cada sala est\u00e1 vigilada siempre por un solo trabajador del \u00e1rea de vigilancia. Cada vigilante tiene su propia sala de vigilancia de la que es responsable, aunque hay vigilantes que se encargan de otras \u00e1reas del museo. A veces, las labores del personal de vigilancia son delicadas, por ello hay un trabajador con funciones de coordinador para cada grupo de vigilantes, aunque no todos los trabajadores tienen coordinador ni todos los trabajadores son coordinadores. No hay m\u00e1s de un coordinador por grupo.</p> <p>Adem\u00e1s, se quiere registrar las visitas del p\u00fablico; con respecto al visitante el DNI, nombre, tel\u00e9fono y el museo o museos que ha visitado en una o varias fechas, teniendo en cuenta que el visitante puede entrar al museo o museos el mismo d\u00eda varias veces en distintas horas. Es necesario registrar dichas fechas y horas.</p> <p>Todos los museos han sido inaugurados, abiertos al p\u00fablico y visitados desde hace tiempo.</p>"},{"location":"temas/02/2.A-Actividades.html#ac215-rabd6-ce6b-ce6c-ce6d-ce6e","title":"AC215. (RABD.6 // CE6b, CE6c, CE6d, CE6e)","text":"A partir del siguiente modelo EER sobre un concurso de cocina Modelo ER Cocina <p>Contesta las siguientes cuestiones justificando tu respuesta:</p> <ol> <li>\u00bfCuantos tipos de concursantes hay? \u00bfPodemos tener m\u00e1s? \u00bfY est\u00e1n relacionados entre s\u00ed?</li> <li>\u00bfQu\u00e9 tipo de relaci\u00f3n existe entre <code>EDICION</code> y <code>PREMIO</code>. \u00bfSe puede repetir el mismo premio en diferentes ediciones?</li> <li>\u00bfPuede ganar el concurso un restaurante que lo dirige un concursante de un pa\u00eds diferente?</li> <li>\u00bfPara qu\u00e9 sirve el atributo <code>contrato</code> de la relaci\u00f3n <code>TRABAJAR</code> entre <code>RESTAURANTE</code> y <code>PROFESIONAL</code></li> <li>Respecto a las recetas, \u00bfpor qu\u00e9 tiene una relaci\u00f3n reflexiva?</li> <li>Si eliminamos la entidad <code>PAIS</code>, \u00bfqu\u00e9 cambios habr\u00eda que hacer en el modelo para que siguiera expresando lo mismo?</li> </ol>"},{"location":"temas/02/2.A-Actividades.html#py216-rabd6-ce6b-ce6c-ce6d-ce6e","title":"PY216. (RABD.6 // CE6b, CE6c, CE6d, CE6e)","text":"Reto I <p>Una vez que ya tenemos unas nociones b\u00e1sicas sobre el modelado conceptual de datos, llega el momento de concretar el sistema de informaci\u00f3n y crear el modelo de datos del Reto I - Dise\u00f1amos de nuestro equipo.</p> <p>Toda soluci\u00f3n debe:</p> <ul> <li>Tener un m\u00ednimo de 6 entidades.</li> <li>Utilizar relaciones con diferentes cardinalidades.</li> <li>Emplear atributos de diferente tipo.</li> <li>(opcional) Utilizar una generalizaci\u00f3n o agregaci\u00f3n.</li> </ul> <p>Se debe entregar un informe con el sistema de informaci\u00f3n, el modelo EER y describir las decisiones tomadas en su elaboraci\u00f3n.</p> <p>Se utilizar\u00e1 una r\u00fabrica para su evaluaci\u00f3n en base a la siguiente lista de cotejo:</p> <ul> <li>Todas las entidades tienen un atributo que las identifica.</li> <li>La nomenclatura es homog\u00e9nea en todo el modelo.</li> <li>Las entidades se nombran en singular y may\u00fasculas.</li> <li>Las relaciones se nombran con verbos en may\u00fasculas.</li> <li>Los atributos se nombran en min\u00fasculas.</li> <li>Todas las relaciones indican la cardinalidad</li> </ul>"},{"location":"temas/02/2.A-Actividades.html#reto-i-disenamos","title":"\ud83e\udde0 Reto I - Dise\u00f1amos","text":"<p>A lo largo de las tres siguientes unidades vamos a desarrollar una base de datos desde cero. Para ello, en equipos de 3-4 personas, y siguiendo un enfoque metodol\u00f3gico de Aprendizaje Colaborativo basado en Retos, cada equipo va a definir:</p> <ul> <li>Un sistema de informaci\u00f3n.</li> <li>El modelo entidad relaci\u00f3n (dise\u00f1o conceptual)</li> <li>El modelo relacional (dise\u00f1o l\u00f3gico)</li> </ul> <p>Si no se os ocurre ning\u00fan sistema de informaci\u00f3n, algunas propuestas que pod\u00e9is dise\u00f1ar son la base de datos de un gimnasio, una academia de idiomas, una biblioteca, un liga amateur de f\u00fatbol/baloncesto o la base de datos de un festival de m\u00fasica.</p> <p>Durante el desarrollo del reto estableceremos diferentes hitos que deber\u00e9is cumplir, a modo de entregables. En cada unidad dedicaremos una o m\u00e1s sesiones a trabajar el reto y compartir el resultado con la clase.</p> <p>En la prueba escrita que realizaremos a finales de la unidad 4 aparecer\u00e1n actividades sobre alguna de las soluciones creadas.</p>"},{"location":"temas/02B/index.html","title":"Inicio","text":""},{"location":"temas/02B/index.html#ut2-b-diseno-logico-modelor-relacional","title":"UT2-B Dise\u00f1o L\u00f3gico: Modelor Relacional","text":"<p>Informaci\u00f3n de la unidad</p> ContenidosPropuesta did\u00e1ctica <p>Bases de datos relacionales:</p> <ul> <li>Modelo de datos.</li> <li>Terminolog\u00eda del modelo relacional.</li> <li>Tipos de datos.</li> <li>Claves primarias.</li> <li>Restricciones de validaci\u00f3n.</li> <li>El valor NULL.</li> <li>Claves ajenas.</li> </ul> <p>Interpretaci\u00f3n de Diagramas Entidad/Relaci\u00f3n:</p> <ul> <li>Elementos del modelo relacional.</li> <li>Restricciones sem\u00e1nticas del modelo relacional.</li> <li>Normalizaci\u00f3n de modelos relacionales.</li> </ul> <p>En esta unidad vamos a comenzar a trabajar el RA6: Dise\u00f1a modelos relacionales normalizados interpretando diagramas entidad/relaci\u00f3n.</p> <p>Criterios de evaluaci\u00f3n</p> <ul> <li>CE6a: Se han utilizado herramientas gr\u00e1ficas para representar el dise\u00f1o l\u00f3gico.</li> <li>CE6b: Se han identificado las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6c: Se han identificado los campos que forman parte de las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6d: Se han analizado las relaciones entre las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6e: Se han identificado los campos clave.</li> <li>CE6f: Se han aplicado reglas de integridad.</li> <li>CE6g: Se han aplicado reglas de normalizaci\u00f3n.</li> </ul>"},{"location":"temas/02B/index.html#contenido-de-la-unidad","title":"Contenido de la unidad","text":"<p>El contenido de la unidad est\u00e1 repartido en los siguientes bloques.</p> <p>\u00cdndice:</p> <ul> <li>2.4 Modelo relacional</li> <li>2.B Actividades</li> </ul>"},{"location":"temas/02B/index.html#programacion-de-aula-9h","title":"Programaci\u00f3n de Aula (9h)","text":"<p>Esta unidad es la segunda, con lo que se imparte en la primera evaluaci\u00f3n, con una duraci\u00f3n estimada de 12 sesiones lectivas:</p> Sesi\u00f3n Contenidos Actividades Criterios trabajados 1 Modelo Relacional AC201.b CE6b, CE6c, CE6d 2 Elementos 3 Restricciones AC203.b CE6b 4 Notacion AC205.b CE6b 5 Interpretando modelos AC209.b CE6b, CE6c, CE6e 6 Diccionario de datos AC208.b CE6b, CE6c, CE6e 7 Dependencias funcionales 8 Formas normales AC209.b CE6b, CE6c, CE6e 9 Desnormalizaci\u00f3n AC210.b CE6b, CE6c, CE6e"},{"location":"temas/02B/2.4-ModeloRelacional.html","title":"2.4 El modelo relacional","text":""},{"location":"temas/02B/2.4-ModeloRelacional.html#24-el-modelo-relacional","title":"2.4. El modelo relacional","text":"<p>Presentaci\u00f3n Modelo Relacional</p> <p>\ud83d\udd25 Fundamental ver: Presentaci\u00f3n en Genially del modelo relacional</p> <p>En la unidad anterior estudiamos que un modelo l\u00f3gico representa de forma conceptual la estructura de una base de datos, pero dependiendo del SGBD a utilizar.</p> Modelo l\u00f3gico <p>Si nuestra elecci\u00f3n es un SGBD relacional, el modelo por excelencia es el modelo relacional. Creado por Codd a finales de los a\u00f1os 60, aunque los primeros SGBD relacionales no aparecieron hasta los 80. Una base de datos modelada mediante el modelo relacional se conoce como una base de datos relacional.</p> <p>Supuso una revoluci\u00f3n en el dise\u00f1o l\u00f3gico de las base de datos, dando lugar a la segunda generaci\u00f3n de SGBD.</p> <p>Es el modelo l\u00f3gico m\u00e1s extendido, y por ende, el mercado de SGBD est\u00e1 copado de soluciones relacionales como Oracle, PostgreSQL, MySQL, SQL Server, etc...</p> <p>Los objetivos del modelo relacional son:</p> <ul> <li>Independencia f\u00edsica<ul> <li>La forma de almacenar los datos no debe influir en su manipulaci\u00f3n l\u00f3gica</li> </ul> </li> <li>Independencia l\u00f3gica<ul> <li>Las aplicaciones que usan el SGBD no deben sufrir una modificaci\u00f3n cuando se modifique una base de datos.</li> </ul> </li> <li>Flexibilidad<ul> <li>Diferentes vistas para diferentes usuarios</li> </ul> </li> <li>Uniformidad</li> <li>Sencillez</li> </ul>"},{"location":"temas/02B/2.4-ModeloRelacional.html#241-elementos","title":"2.4.1 Elementos","text":"<p>El elemento principal es la relaci\u00f3n, que consiste en una tabla que contiene filas y columnas. Una base de datos relacional consiste en un conjunto de tablas relacionadas donde cada tabla tiene un nombre \u00fanico.</p> <p>Las relaciones se conocen como tablas relacionales o m\u00e1s com\u00fanmente como tablas.</p> <p>Cada columna (tambi\u00e9n llamado campo o atributo de la relaci\u00f3n) almacena informaci\u00f3n sobre una propiedad determinada de la tabla, como puede ser el nombre, DNI, apellidos o la edad.</p> <p>Cada fila posee una ocurrencia o ejemplar de la instancia o relaci\u00f3n representada por la tabla (a las filas se las llama tambi\u00e9n tuplas o registros).</p> Elementos de una tabla <p>As\u00ed pues, un ejemplo de una relaci\u00f3n <code>CLIENTE</code> de grado 5 (<code>dni</code>, <code>nombre</code>, <code>direccion</code>, <code>fecha</code> y <code>genero</code>) con 3 tuplas ser\u00eda:</p> dni nombre direcci\u00f3n fecha genero 12345678A Pedro Casas Avenida de la libertad, 23 21/03/24 M 48123456B Mireia Vidal Porta de la Morera, 6 22/03/24 F 34123456C Laura Meca Pla\u00e7a de Baix, s/n 23/03/24 F <p>Como podemos observar, en la cabecera est\u00e1n los nombres de las columnas, y cada fila supone una nueva ocurrencia. Podemos referirnos al campo de una tabla mediante la notaci\u00f3n <code>TABLA.campo</code>, por ejemplo, <code>CLIENTE.nombre</code> referencia el campo <code>nombre</code> de la tabla <code>CLIENTE</code>.</p> <p>En una misma tabla, no podemos repetir el nombre de las columnas, aunque s\u00ed que lo podemos repetir en tablas diferentes. Por ejemplo, <code>CLIENTE.dni</code> y <code>PROVEEDOR.dni</code> ser\u00edan campos de tablas diferentes con el mismo nombre.</p> <p>Una restricci\u00f3n del modelo relacional es que dentro de una tabla no puede haber dos tuplas iguales, ya que implicar\u00eda el mismo dato dos veces. Adem\u00e1s, todas las tuplas deben tener el mismo n\u00famero de campos, aunque alguno est\u00e9 vac\u00edo (se permiten campos con valores nulos).</p> <p>El orden no importa</p> <p>El orden de las tuplas no importa, ni tampoco el orden de los atributos.</p> <p>Dicho esto, esta ser\u00eda otra representaci\u00f3n de la misma tabla:</p> dni direcci\u00f3n genero fecha nombre 34123456C Pla\u00e7a de Baix, s/n F 23/03/24 Laura Meca 48123456B Porta de la Morera, 6 F 22/03/24 Mireia Vidal 12345678A Avenida de la libertad, 23 M 21/03/24 Pedro Casas"},{"location":"temas/02B/2.4-ModeloRelacional.html#dominio","title":"Dominio","text":"<p>El dominio de un atributo indica el tipo de valores para un determinado campo. Dicho de otro modo, cada atributo s\u00f3lo puede tomar un valor en el dominio en el que est\u00e1 inscrito.</p> <p>Si nos basamos en el ejemplo anterior, tendr\u00edamos que los dominios ser\u00edan:</p> <ul> <li><code>dni</code>: 8 d\u00edgitos y una letra.</li> <li><code>nombre</code>: cadena de hasta 32 caracteres.</li> <li><code>direcci\u00f3n</code>: cadena de hasta 64 caracteres.</li> <li><code>fecha</code>: fecha compuesta de <code>dd/mm/yy</code>.</li> <li><code>genero</code>: caracteres <code>M</code>, <code>F</code> o <code>?</code></li> </ul> <p>Como cada atributo s\u00f3lo puede tomar un valor para una misma tupla (los valores de los campos son at\u00f3micos), no podr\u00edamos poner dos DNIs o dos fechas a un mismo cliente.</p> <p>A muy alto nivel, los tipos de datos b\u00e1sicos para los dominios son:</p> <ul> <li>Texto: cadena de caracteres, letras, s\u00edmbolos o n\u00fameros con los que no se realizan operaciones (por ejemplo, un c\u00f3digo postal).</li> <li>Num\u00e9rico: n\u00fameros sobre los cuales se pueden realizar operaciones matem\u00e1ticas.</li> <li>Fecha/hora: fechas, horas, o ambas.</li> <li>Booleano (V/F - S\u00ed/No): datos con dos posibles valores.</li> <li>Autonum\u00e9rico: secuencia (1,2,3,...) que el SGBD incrementa de forma autom\u00e1tica cuando se a\u00f1ade un nuevo registro.</li> </ul> <p>Tipos de dominio</p> <p>Cuando estudiemos el modelo f\u00edsico haremos m\u00e1s hincapi\u00e9 en todos los tipos de dominio existente. De momento, lo m\u00e1s importante es tener claro que todos los valores de un determinado campo en una tabla comparten el mismo dominio.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#claves","title":"Claves","text":"<p>Cada tabla tiene una columna (o en algunos casos un conjunto de columnas) que sirven como clave primaria (PK / primary key). Su prop\u00f3sito es distinguir a una tupla de otra dentro de la tabla.</p> <p>Cada tabla debe tener una clave primaria, la cual es una columna (o conjunto de columnas) cuyo valor es \u00fanico para cada fila.</p> <p>Volvamos al ejemplo anterior sobre la tabla <code>CLIENTE</code>:</p> dni nombre direcci\u00f3n fecha genero 12345678A Pedro Casas Avenida de la libertad, 23 21/03/24 M 48123456B Mireia Vidal Porta de la Morera, 6 22/03/24 F 34123456C Laura Meca Pla\u00e7a de Baix, s/n 23/03/24 F <p>El campo <code>dni</code> funciona como clave primaria de la tabla, ya que no hay dos clientes con el mismo DNI. Pero \u00bfy el campo <code>nombre</code>? Aunque en la tabla no tengamos ahora mismo dos clientes con el mismo nombre, conceptualmente sabemos que se puede dar el caso, y por lo tanto, no ser\u00eda una elecci\u00f3n correcta, ya que el nombre de un cliente no lo identifica de forma univoca.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#clave-subrogada","title":"Clave subrogada","text":"<p>Cuando en una tabla no tengamos una columna que identifique claramente a una tabla, podemos crear una nueva columna num\u00e9rica, normalmente denominada <code>id</code>, que tomas valores secuenciales y autoincrementables, de manera que act\u00faa como una clave sustituta independiente de los valores de negocio, que realmente no tiene un significado por s\u00ed misma.</p> <p>Si a\u00f1adimos una clave subrogada a la tabla <code>CLIENTE</code> tendr\u00edamos:</p> id dni nombre direcci\u00f3n fecha genero 1 12345678A Pedro Casas Avenida de la libertad, 23 21/03/24 M 2 48123456B Mireia Vidal Porta de la Morera, 6 22/03/24 F 3 34123456C Laura Meca Pla\u00e7a de Baix, s/n 23/03/24 F"},{"location":"temas/02B/2.4-ModeloRelacional.html#claves-candidatas","title":"Claves candidatas","text":"<p>Si una tabla tiene m\u00e1s de un campo (o un conjunto de ellos) que pueden identificar un\u00edvocamente a cada tupla de la tabla, se dice que todas las claves posibles son claves candidatas.</p> <p>De entre las claves candidatas, elegiremos una como la clave primaria y el resto ser\u00e1n claves alternativas. As\u00ed pues, una clave alternativa es una clave candidata que no es primaria.</p> <p>Por ejemplo, si pensamos en la tabla <code>ESTUDIANTE</code> podemos definir los siguientes campos: <code>nif</code>, <code>codigo</code>, <code>nombre</code>, <code>fMatricula</code>, <code>direccion</code>. Las claves candidatas ser\u00edan <code>ESTUDIANTE.codigo</code> y <code>ESTUDIANTE.nif</code>, ya que permiten identificar de forma un\u00edvoca a cada estudiante. Si nos decantamos por <code>ESTUDIANTE.codigo</code> como su clave primaria, entonces <code>ESTUDIANTE.nif</code> ser\u00eda una clave alternativa.</p> nif codigo nombre fMatricula direccion 12345678A 1 Pedro Casas 1/9/24 Avenida de la libertad, 23 48123456B 2 Mireia Vidal 1/9/24 Porta de la Morera, 6 34123456C 3 Laura Meca 1/9/24 Pla\u00e7a de Baix, s/n"},{"location":"temas/02B/2.4-ModeloRelacional.html#claves-ajenas","title":"Claves ajenas","text":"<p>Finalmente, tenemos las claves ajenas (FK / foreign key), los cuales son campos cuyos valores referencian a valores de otra tabla.</p> <p>Dentro del modelo relacional, el hecho de relacionar los datos de una tabla con otra es crucial, y se realiza mediante las claves ajenas. As\u00ed pues, la clave ajena de una tabla referencia, normalmente, al valor de la clave primaria de otra tabla. Por ello, los dominios de la clave ajena y de la clave primaria referenciada deben ser iguales (un campo num\u00e9rico no puede referenciar a un campo de texto).</p> <p>Comencemos con el mismo ejemplo que vimos con las relaciones 1:N del modelo conceptual, donde ten\u00edamos que todo producto tiene una categor\u00eda, pero de una categor\u00eda, tenemos muchos productos, el cual representamos as\u00ed:</p> <p>Si lo representamos mediante tablas, podr\u00edamos tener la siguiente estructura:</p> <ul> <li> <p><code>CATEGORIA</code></p> codigo nombre 1 Consola 2 TIC 3 Cocina 4 Bricolaje </li> <li> <p><code>PRODUCTO</code></p> codigo nombre codCategoria<code>*</code> 1 PS5 1 2 Nevera 3 3 Teclado 2 4 XBOX 1 5 Rat\u00f3n 2 6 Volante <code>NULL</code> </li> <li> <p>Representaci\u00f3n de las ocurrencias</p> <p> </p> </li> <li> <p>Representaci\u00f3n relacional</p> <p></p> </li> </ul> <p>Puedes observar como hemos subrayado las claves primaria de cada tabla. \u00bfQu\u00e9 atributo tiene la funci\u00f3n de clave ajena? En este ejemplo, la columna <code>PRODUCTO.codCategoria</code> es una clave ajena que apunta a <code>CATEGORIA.codigo</code> (f\u00edjate que en este caso, al atributo que es clave ajena le hemos puesto un asterisco <code>*</code> tras su nombre). Si revisamos los valores, podemos comprobar como podemos tener valores repetidos y valores nulos, facilitando que de una categor\u00eda tengamos varios productos (categor\u00edas de los productos <code>1</code> y <code>4</code>), que de una categor\u00eda no tengamos productos (la categor\u00eda <code>4</code> no est\u00e1 asociada a ning\u00fan producto) y, aunque el modelo conceptual no representaba dicha cardinalidad, que tengamos productos sin categor\u00eda (como el producto <code>6</code>).</p> <p>Cuando tenemos dos tablas relacionadas mediante una clave ajena, mediante operaciones relacionales que veremos en la Unidad 6, podremos crear una nueva relaci\u00f3n con el resultado de unir una clave ajena con los datos a los que referencia.</p> <p>As\u00ed pues, al unir ambas tablas, obtendr\u00edamos como resultado:</p> PRODUCTO.codigo PRODUCTO.nombre PRODUCTO.codCategoria CATEGORIA.nombre 1 PS5 1 Consola 2 Nevera 3 Cocina 3 Teclado 2 TIC 4 XBOX 1 Consola 5 Rat\u00f3n 2 TIC 6 Volante <code>NULL</code> <code>NULL</code> <p>Veamos otro ejemplo, donde tenemos dos tablas, una para estudiantes (igual que el ejemplo de las claves candidatas) y otra para almacenar qu\u00e9 cursos realizan los estudiantes, similares a las siguientes:</p> <ul> <li> <p><code>ESTUDIANTE</code></p> nif codigo nombre fMatricula direccion 12345678A 1 Pedro Casas 1/9/24 Avenida de la libertad, 23 48123456B 2 Mireia Vidal 1/9/24 Porta de la Morera, 6 34123456C 3 Laura Meca 1/9/24 Pla\u00e7a de Baix, s/n </li> <li> <p><code>CURSAR</code></p> nifEstudiante<code>*</code> asignatura anyo repetidor 12345678A 1 2024 true 48123456B 1 2024 false 12345678A 2 2023 false </li> </ul> <p>El campo <code>CURSAR.nifEstudiante</code> es una clave ajena de la relaci\u00f3n <code>CURSAR</code> y enlaza con la relaci\u00f3n <code>ESTUDIANTE</code> con el campo <code>ESTUDIANTE.nif</code>.</p> <p>Visualmente, lo podemos representar mediante el siguiente gr\u00e1fico:</p> Clave ajena entre ESTUDIANTE y CURSAR <p>Conviene aclarar que un campo puede ser clave primaria y clave ajena a la vez. Adem\u00e1s, una tabla puede tener m\u00e1s de una clave ajena o no tener ninguna. Adem\u00e1s, en el caso de las relaciones reflexivas, la clave ajena de la relaci\u00f3n enlazar\u00e1 con la clave primaria de s\u00ed misma.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#borrado-y-actualizacion","title":"Borrado y actualizaci\u00f3n","text":"<p>Cuanto trabajamos con varias tablas relacionadas mediante claves ajenas y claves primarias, debemos definir las reglas y modificar la clave primaria a la que referencian.</p> <p>Al actualizar/borrar un registro que contiene una clave ajena, se puede:</p> <ul> <li>Rechazar: no se permite el borrado/modificaci\u00f3n</li> <li>Propagar: se borra/modifica el registro, y las tuplas que lo referencian</li> <li>Anular: se borra/modifica el registro y las tuplas que lo referencian ponen a nulo la clave ajena.</li> </ul> <p>Autoevaluaci\u00f3n</p> <p>Si volvemos a la relaci\u00f3n entre <code>ESTUDIANTE</code> y <code>CURSAR</code>, \u00bfqu\u00e9 sucede cuando eliminamos el estudiante <code>12345678A</code>?</p> <ul> <li> <p><code>ESTUDIANTE</code></p> nif codigo nombre fMatricula direccion 12345678A 1 Pedro Casas 1/9/24 Avenida de la libertad, 23 48123456B 2 Mireia Vidal 1/9/24 Porta de la Morera, 6 </li> <li> <p><code>CURSAR</code></p> nifEstudiante<code>*</code> asignatura anyo repetidor 12345678A 1 2024 <code>true</code> 48123456B 1 2024 <code>false</code> 12345678A 2 2023 <code>false</code> </li> </ul> <p>Profundizaremos en las operaciones entre claves ajenas y primarias cuando trabajemos las operaciones DML sobre el modelo f\u00edsico en la Unidad 3.- Lenguaje de definici\u00f3n de datos (DDL).</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#242restricciones-semanticas","title":"2.4.2Restricciones sem\u00e1nticas","text":"<p>A la hora de definir las propiedades de una tabla y sus columnas podemos emplear las siguientes restricciones:</p> <ul> <li>clave primaria: los atributos marcados como clave primaria no puedan repetir valores.</li> <li>unicidad: impide que los valores de los atributos marcados de esa forma puedan repetirse, consider\u00e1ndose un\u00edvocos. A nivel visual se marcan con <code>UK</code>. Vamos a considerar que un atributo <code>UK</code> no permite valores repetidos pero s\u00ed nulos (dependiendo del SGBD, en algunos casos se permiten y en otros no).</li> <li>obligatoriedad (<code>VNN</code>): proh\u00edbe que el atributo marcado de esta forma no tenga ning\u00fan valor (valor no nulo).</li> <li>regla de validaci\u00f3n: condici\u00f3n que debe de cumplir un dato concreto para que sea actualizado.</li> </ul> <p>Adem\u00e1s, podemos definir diferentes restricciones:</p> <ul> <li>a nivel de fila, por ejemplo, de relaci\u00f3n entre columnas, del tipo la fecha de devoluci\u00f3n debe ser posterior a la fecha de pr\u00e9stamo</li> <li>a nivel de conjunto de filas, por ejemplo, un cliente no puede hacer m\u00e1s de 20 pedidos en un d\u00eda</li> <li>a nivel de negocio, del tipo, al insertar un pedido, se debe comprobar si la direcci\u00f3n de env\u00edo es la misma que la direcci\u00f3n del cliente, y en caso de no serlo, a\u00f1adir una nueva direcci\u00f3n al cliente.</li> </ul>"},{"location":"temas/02B/2.4-ModeloRelacional.html#nulos","title":"Nulos","text":"<p>Los valores nulos (<code>NULL</code>) indican contenidos de atributos que no tienen ning\u00fan valor, bien porque la informaci\u00f3n es desconocida o no aplicable. Es decir, m\u00e1s que un valor, es la ausencia de informaci\u00f3n. Algunos SGBD muestran la palabra clave <code>NULL</code>, mientras que otros muestran el campo en blanco.</p> <p>Por ejemplo, si en la tabla <code>ESTUDIANTE</code> tenemos un registro con la direcci\u00f3n nula, est\u00e1 indicando que desconocemos la direcci\u00f3n de <code>Mireia Vidal</code>, no que no tenga direcci\u00f3n.</p> nif codigo nombre fMatricula direccion 12345678A 1 Pedro Casas 1/9/24 Avenida de la libertad, 23 48123456B 2 Mireia Vidal 1/9/24 <code>NULL</code> 34123456C 3 Laura Meca 1/9/24 Pla\u00e7a de Baix, s/n <p>Si el campo es una clave ajena, indica que el registro actual no est\u00e1 relacionado con ninguno.</p> <p>Las bases de datos relacionales admiten utilizar ese valor en todo tipo de operaciones.</p> <p>En cuanto a los campos booleano (V/F), define un tercer valor en la l\u00f3gica, ya que adem\u00e1s del valor verdadero o falso, existe el valor para los nulos.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#integridad-de-entidad","title":"Integridad de entidad","text":"<p>La integridad de entidad define que todas las claves primarias deben tener valor, y, por lo tanto, no admiten valores nulos.</p> <p>Si volvemos a la tabla <code>ESTUDIANTE</code>, no podemos tener ning\u00fan estudiante con el NIF vac\u00edo.</p> <p>Al definir un campo como <code>PK</code> ya estamos declarando que dicho campo no admite valores nulos (ni repetidos por el propio concepto de clave primaria).</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#integridad-referencial","title":"Integridad referencial","text":"<p>Si una relaci\u00f3n R1 posee una clave ajena que la enlaza con la relaci\u00f3n R2, entonces diremos que cumple la restricci\u00f3n de integridad referencial si todo valor de dicha clave ajena de R1 cumple una de las dos condiciones:</p> <ol> <li>coincide con alg\u00fan valor de la clave primaria en la relaci\u00f3n R2</li> <li>toma el valor nulo (<code>NULL</code>)</li> </ol> <p>Es decir, proh\u00edbe colocar valores en una clave ajena que no est\u00e9n reflejados en la clave primaria de la tabla que relaciona.</p> <p>Veamos un ejemplo que no cumple con la integridad referencial. Tengamos los siguientes datos, sabiendo que <code>CURSAR.nifEstudiante</code> es una clave ajena que apunta a <code>ESTUDIANTE.nif</code>:</p> <ul> <li> <p><code>ESTUDIANTE</code></p> nif codigo nombre fMatricula direccion 12345678A 1 Pedro Casas 1/9/24 Avenida de la libertad, 23 48123456B 2 Mireia Vidal 1/9/24 Porta de la Morera, 6 34123456C 3 Laura Meca 1/9/24 Pla\u00e7a de Baix, s/n </li> <li> <p><code>CURSAR</code></p> nifEstudiante<code>*</code> asignatura anyo repetidor 12345678A 1 2024 <code>true</code> 1 2024 <code>false</code> 66666666Z 2 2023 <code>false</code> </li> </ul> <p>El primer fallo que encontramos es que el campo <code>CURSAR.nifEstudiante</code> contiene nulos. Aunque las claves ajenas permiten valores nulos, al tratarse tambi\u00e9n de una clave primaria, estar\u00eda incumpliendo la integridad de entidad.</p> <p>El segundo error es que el valor <code>66666666Z</code> referencia a un estudiante invalido, y este valor s\u00ed que viola la integridad referencial, ya que dicho valor no existe en <code>ESTUDIANTE.nif</code>.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#243-notacion","title":"2.4.3 Notaci\u00f3n","text":"<p>Para representar una tabla en el modelo relaci\u00f3n usaremos una notaci\u00f3n textual que facilita su comprensi\u00f3n y posterior transformaci\u00f3n al modelo f\u00edsico. A esta representaci\u00f3n se le conoce como esquema relacional (o esquema l\u00f3gico/can\u00f3nico).</p> <p>Pondremos el nombre de la tabla en may\u00fasculas, y a continuaci\u00f3n, entre par\u00e9ntesis, enumeraremos los campos mediante su nombre en min\u00fasculas (y opcionalmente su dominio). Como convenci\u00f3n, el primer atributo ser\u00e1 aquel que hace la funci\u00f3n de clave primaria, el cual adem\u00e1s subrayaremos para facilitar la legibilidad, y a aquellos campos que sean claves ajenas les a\u00f1adiremos un asterisco (<code>*</code>) para indicar su condici\u00f3n.</p> <p>Tras el listado de campos, enumeraremos las restricciones, con el siguiente orden:</p> <ol> <li>la clave primaria (<code>PK</code>), con el atributo o conjunto de atributos que identifican un\u00edvocamente a una tupla.</li> <li>las claves ajenas (<code>FK</code>) (si las hubiera), indicando el nombre de la columna, una flecha, y la relaci\u00f3n a la que referencia.</li> <li>el resto de restricciones (<code>UK</code>, <code>VNN</code>, comprobaciones, etc...) (si las hubiera)</li> </ol> <p>M\u00e1s propiedades</p> <p>Un campo puede tener opcionalmente las siguientes propiedades:</p> <ul> <li>Descripci\u00f3n: texto breve que aporta informaci\u00f3n sobre el contenido o la finalidad del campo.</li> <li>Tama\u00f1o: tama\u00f1o m\u00e1ximo permitido.</li> <li>Rango de valores posibles, a modo de enumeraci\u00f3n.</li> <li>Requerido o <code>NOT NULL</code>: no permite valores nulos.</li> <li>Predeterminado (<code>DEFAULT</code>): valor por defecto para cuando no se inserta ning\u00fan valor.</li> </ul> <p>Por ejemplo, un esquema l\u00f3gico en modelo relacional que relaciona un libro con un autor, y un autor con muchos libros (relaci\u00f3n 1:N) podr\u00eda ser el siguiente:</p> <p><code>**AUTOR** (codigo: autonum\u00e9rico, nombre: texto, fnac: fecha, nacionalidad: texto)</code> <code>\u00b7 PK: (codigo)</code></p> <p><code>**LIBRO** (isbn: texto, titulo: texto, descripcion: texto, autor*: num\u00e9rico, editorial: texto, pvp: real)</code> <code>\u00b7 PK: (isbn)</code> <code>\u00b7 FK: (autor) \u2192 AUTOR</code></p> <p>Por legibilidad, vamos a omitir los dominios y representar las tablas \u00fanicamente con el nombre de los campos, y posteriormente, en el diccionario de datos, definiremos sus tipos. De este modo, quedar\u00eda as\u00ed:</p> <p><code>**AUTOR** (codigo, nombre, fnac, pais)</code> <code>\u00b7 PK: (codigo)</code></p> <p><code>**LIBRO** (isbn, titulo, autor*, editorial, pvp)</code> <code>\u00b7 PK: (isbn)</code> <code>\u00b7 FK: (autor) \u2192 AUTOR</code></p> <p>DBML - Database Markup Language</p> <p>Tenemos que el autor se identifica por un c\u00f3digo, el cual es su clave primaria. En cambio, los libros se identifican por su ISBN, y tienen un atributo <code>autor</code> que referencia a la clave primaria de <code>AUTOR</code> (y por tanto, deben tener el mismo dominio). De esta relaci\u00f3n, deducimos que el nombre del atributo de la clave ajena no tiene por qu\u00e9 coincidir con el nombre de la clave primaria, pero s\u00ed su dominio.</p> <p>Si analizamos las cardinalidades de las tablas, tenemos:</p> <ul> <li><code>Card(LIBRO, ESCRIBIR) = (0, 1)</code>: Todo libro tiene un atributo autor, y s\u00f3lo uno, el cual puede estar rellenado o no.</li> <li><code>Card(AUTOR, ESCRIBIR) = (0, N)</code>: Si un libro tiene un atributo autor, y el mismo autor puede aparecer en m\u00e1s de un libro, entonces un autor puede escribir muchos libros (o ninguno, si no aparece en ninguna ocurrencia de <code>LIBRO</code>).</li> </ul> <p>En la pr\u00f3xima unidad estudiaremos el proceso de transformaci\u00f3n de un modelo conceptual a uno relacional, y en concreto, c\u00f3mo se gestionan las claves ajenas para cumplir las cardinalidades y restricciones de las relaciones.</p> <p>La notaci\u00f3n que vamos a emplear en clase es sencilla y cumple su prop\u00f3sito.</p> <p>Dicho esto, desde principio de 2020, gracias a la empresa https://dbdiagram.io/, se est\u00e1 popularizando DBML como un lenguaje de marcado para representar bases de datos.</p> <p>Si quieres profundizar en su uso, es recomendable consultar su sintaxis o puedes probar a generar diagramas en https://dbdiagram.io/.</p> <p>En nuestro caso, por ejemplo, podemos representa las entidades <code>AUTOR</code> y <code>LIBRO</code> del siguiente modo:</p> <pre><code>Table AUTOR {\n    codigo entero [primary key]\n    nombre cadena\n    fnac fecha\n    pais cadena\n}\n\nTable LIBRO {\n    isbn cadena [primary key]\n    titulo cadena\n    autor entero [ref: &gt; AUTOR.codigo]\n    editorial cadena\n    pvp real\n}\n</code></pre> <p>Obteniendo como resultado el diagrama:</p> <p></p> Diagrama AUTOR-LIBRO <p></p> <p>Vamos a crear datos ficticios y comprobaremos si el modelo cumple la relaci\u00f3n de uno a muchos:</p> <ul> <li> <p><code>AUTOR</code></p> codigo nombre fnac pais 1 Brandon Sanderson 19/12/75 USA 2 Juan G\u00f3mez Jurado 16/12/77 Espa\u00f1a 3 J\u00f6el Dicker 16/06/85 Suiza </li> <li> <p><code>LIBRO</code></p> isbn titulo autor<code>*</code> editorial pvp 9788420476841 Un animal salvaje 3 Alfaguara 23,90 9788420414065 La verdad sobre el caso Harry Quebert 3 Alfaguara 23,90 9788491221722 Lazarillo de Tormes <code>NULL</code> Santillana 14,20 9788419260444 Nacidos de la bruma 1 Nova 24,90 </li> </ul> <p>As\u00ed pues, comprobamos que tenemos un autor (el <code>3</code> con dos libros), e incluso un libro sin autor, confirmando la relaci\u00f3n 1:N conforme quer\u00edamos dise\u00f1ar.</p> <p>Cardinalidad de las relaciones</p> <p>Con lo que sabemos hasta ahora, piensa:</p> <ul> <li>\u00bfC\u00f3mo evitamos que la cardinalidad m\u00ednima sea 0 entre LIBRO y AUTOR, es decir, que <code>Card(LIBRO, ESCRIBIR) = (1,1)</code>, de manera que cada libro lo escriba siempre un autor, no permitiendo valores nulos en la clave ajena?</li> <li>\u00bfC\u00f3mo cambiamos la relaci\u00f3n de 1:N a una relaci\u00f3n 1:1, para que cada autor solo pudiera escribir un libro?</li> </ul>"},{"location":"temas/02B/2.4-ModeloRelacional.html#representacion-grafica","title":"Representaci\u00f3n gr\u00e1fica","text":"<p>Aunque ya hemos visto que podemos emplear DBDiagrams para generar un diagrama a partir del esquema l\u00f3gico mediante DBML, tambi\u00e9n podemos emplear diversas herramientas existentes en el mercado, como ERDPlus o MySQLWorbench (m\u00e1s cercano al modelo f\u00edsico), que permiten dibujar los elementos.</p> <p>En nuestro caso, nos vamos a centrar en DBDiagrams, principalmente por ser una herramienta online y que actualmente el lenguaje DBML (Database Markup Language) se est\u00e1 instaurando como el lenguaje de referencia para esta funci\u00f3n.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#diccionario-de-datos","title":"Diccionario de datos","text":"<p>El diccionario de datos de un modelo relacional es un repositorio central que almacena metadatos sobre los elementos de una base de datos.</p> <p>En un sistema de bases de datos relacional, el diccionario de datos incluye detalles sobre las estructuras de las tablas, las relaciones entre las tablas, las columnas, los \u00edndices, las restricciones, los procedimientos almacenados y otros objetos de la base de datos. Es esencialmente un cat\u00e1logo que describe la estructura l\u00f3gica y la organizaci\u00f3n de la base de datos.</p> <p>Las funciones del diccionario de datos son:</p> <ul> <li> <p>Documentaci\u00f3n: Sirve como referencia para desarrolladores y administradores de bases de datos, ayud\u00e1ndoles a entender la estructura y organizaci\u00f3n de la base de datos.</p> </li> <li> <p>Control de integridad: Ayuda a asegurar que las definiciones de las tablas y relaciones se mantengan coherentes y conformes a las reglas establecidas.</p> </li> </ul>"},{"location":"temas/02B/2.4-ModeloRelacional.html#componentes","title":"Componentes","text":"<ol> <li> <p>Tablas y columnas: Describe las tablas en la base de datos, los nombres de las columnas, tipos de datos (los diferentes tipos de datos los estudiaremos en detalle en la unidad 3, tama\u00f1os y si permiten valores nulos.</p> </li> <li> <p>Relaciones y claves: Define las relaciones entre tablas y especifica las claves primarias y ajenas.</p> </li> <li> <p>Restricciones: Incluye detalles sobre restricciones como <code>UNIQUE</code>, <code>CHECK</code>, <code>NOT NULL</code>, y <code>DEFAULT</code>.</p> </li> </ol> <p>Si nos centramos en los modelos f\u00edsicos, podr\u00edamos incluir otros componentes como \u00edndices, vistas, procedimientos almacenados y funciones o triggers, as\u00ed como usuarios y permisos.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#ejemplo","title":"Ejemplo","text":"<p>Para este ejemplo, nos vamos a basar en el mismo ejemplo que hemos utilizado en el apartado de Notaci\u00f3n, donde un <code>AUTOR</code> escribe muchos <code>LIBRO</code>, pero un <code>LIBRO</code> s\u00f3lo lo escribe un <code>AUTOR</code>.</p> <p>Para documentar el diccionario de datos, se utiliza una estructura de tabla con el nombre de la columna, el tipo de datos y una descripci\u00f3n del campo:</p> <ul> <li> <p>Tabla <code>AUTOR</code></p> Columna Tipo de Datos Descripci\u00f3n <code>codigo</code> <code>INT</code> Clave primaria. Identificador \u00fanico del autor. <code>nombre</code> <code>VARCHAR(64)</code> Nombre del autor. <code>fnac</code> <code>DATE</code> Fecha de nacimiento del autor. <code>pais</code> <code>VARCHAR(32)</code> Pa\u00eds de nacimiento del autor. </li> <li> <p>Tabla <code>LIBRO</code></p> Columna Tipo de Datos Descripci\u00f3n <code>isbn</code> <code>INT</code> Clave primaria. Identificador \u00fanico del libro. <code>titulo</code> <code>VARCHAR(64)</code> T\u00edtulo del libro. <code>autor</code> <code>INT</code> Clave for\u00e1nea que referencia a <code>AUTOR.codigo</code>. Indica el autor del libro. <code>editorial</code> <code>VARCHAR(32)</code> Editorial que publica el libro. <code>pvp</code> <code>DECIMAL(10,2)</code> Precio de venta al p\u00fablico del libro. </li> </ul> <p>A continuaci\u00f3n, indicamos las relaciones y restricciones</p> <ul> <li>Clave primaria en <code>AUTOR</code>: <code>codigo</code></li> <li>Clave primaria en <code>LIBRO</code>: <code>isbn</code></li> <li>Clave ajena en <code>LIBRO</code>: <code>autor</code> referencia a <code>codigo</code> en la tabla <code>AUTOR</code>, indicando la relaci\u00f3n entre un libro y su autor.<ul> <li>Restricci\u00f3n de borrado: rechazar.</li> <li>Restricci\u00f3n de modificaci\u00f3n: propagar.</li> </ul> </li> </ul>"},{"location":"temas/02B/2.4-ModeloRelacional.html#244-normalizacion","title":"2.4.4 Normalizaci\u00f3n","text":"<p>Un principio del dise\u00f1o relacional es que \"hechos distintos se deben almacenar en objetos distintos\".</p> <p>Para conseguir este objetivo, la normalizaci\u00f3n es una t\u00e9cnica dentro del dise\u00f1o de bases de datos relacionales que consiste en la separaci\u00f3n de atributos en tablas lo m\u00e1s simples posibles para suprimir dependencias err\u00f3neas entre atributos, reducir la redundancia as\u00ed como optimizar los procesos de inserci\u00f3n, modificaci\u00f3n y borrado en la bases de datos, evitando las anomal\u00edas previamente comentadas, lo que maximiza la integridad de los datos y su consistencia.</p> <p>Podemos simplificar el objetivo de la normalizaci\u00f3n en maximizar la integridad de los datos, reduciendo su redundancia.</p> <p>Para conseguirlo, se basa en el an\u00e1lisis de dependencias entre atributos mediante un proceso que consiste en identificar y aplicar una serie de reglas a las relaciones obtenidas del esquema relacional.</p> <p>Supuesto Comerciales</p> <p>Supongamos los siguientes datos sobre ventas que realizan una serie de comerciales de los cuales tenemos su c\u00f3digo y nombre, su estado laboral (con un c\u00f3digo y una descripci\u00f3n), la ciudad y la provincia donde realizan las ventas, as\u00ed como las poblaciones de dichas ciudades y provincias.</p> comercialID comercialNom estadoID estadoDesc ciudad provincia ciudadPob provinciaPob ventas C1 Carlos Suarez JC Jornada Completa Elche Alicante 230.000 1.800.000 33 C1 Carlos Suarez JC Jornada Completa Denia Alicante 42.000 1.800.000 22 C2 Manoli Campos JC Jornada Completa Elche Alicante 230.000 1.800.000 55 C2 Manoli Campos JC Jornada Completa Aspe Alicante 22.000 1.800.000 44 C3 Carlos Suarez JPM Jornada Partida Ma\u00f1anas Cartagena Murcia 218.000 1.520.000 17 C4 Sonia S\u00e1nchez JPT Jornada Partida Tardes Gand\u00eda Valencia 73.000 2.550.000 27 C5 Marina Vidal JC Jornada Completa Valencia Valencia 807.000 1.800.000 37 C6 Michael Johnson JC Jornada Completa Valencia California 63.000 38.940.000 47 <p>Claramente, tenemos datos redundantes. Si reorganizamos los datos de otra manera podr\u00edamos evitar dependencias.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#anomalias","title":"Anomal\u00edas","text":"<p>Una anomal\u00eda se refiere a una inconsistencia o problema que puede surgir en una base de datos, especialmente cuando no est\u00e1 normalizada. Estas anomal\u00edas pueden manifestarse de diversas maneras, afectando la integridad y consistencia de la informaci\u00f3n almacenada.</p> <p>Los tipos de anomal\u00edas en bases de datos son:</p> <ul> <li>anomal\u00edas de actualizaci\u00f3n: ocurren cuando se intenta actualizar un registro en m\u00faltiples ubicaciones y no todas las copias se actualizan correctamente, generando discrepancias en los datos.</li> <li>anomal\u00edas de inserci\u00f3n: surgen cuando no se puede insertar un nuevo registro en una tabla sin introducir datos redundantes o violar ciertas restricciones. Por ejemplo, si tenemos una tabla que almacena informaci\u00f3n de estudiantes y cursos, si no hay una clave principal que identifique de forma \u00fanica cada registro, se podr\u00edan generar anomal\u00edas al intentar insertar nueva informaci\u00f3n.</li> <li>anomal\u00edas de eliminaci\u00f3n: se producen cuando se elimina informaci\u00f3n importante al intentar eliminar un registro espec\u00edfico, lo que puede llevar a la p\u00e9rdida de datos. Siguiendo con el ejemplo anterior, si se elimina un registro de estudiante y este registro tambi\u00e9n contiene informaci\u00f3n sobre un curso, podr\u00eda perderse la informaci\u00f3n del curso si no se toman precauciones.</li> </ul> <p>Para solucionar las anomal\u00edas, debemos normalizar las tablas.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#dependencias-funcionales","title":"Dependencias funcionales","text":"<p>Antes de entrar a conocer los pasos de la normalizaci\u00f3n, previamente tenemos que definir una serie de conceptos:</p> <ul> <li> <p>Dependencia funcional (DF): es la relaci\u00f3n sem\u00e1ntica existente entre atributos de una misma tabla. Decimos que A \u2192 B, es decir, que B depende funcionalmente de A (o A determina a B), si y solo si para cada valor de A s\u00f3lo puede existir un B.</p> <p>El sentido de la relaci\u00f3n no es bidireccional. Que para una valor de A s\u00f3lo exista un B, no significa que dado B, siempre obtengamos A. Por ejemplo, la dependencia <code>dni \u2192 nombre, apellidos</code> es correcta, ya que tanto el nombre de una persona como sus apellidos dependen funcionalmente de su DNI, pero no al rev\u00e9s. \u00bfDado un nombre de una persona, podemos saber su DNI?</p> </li> </ul> <p>DF - Supuesto Comerciales</p> <p>El primer paso es para cada columna, identificar las dependencias que hay entre los atributos.</p> <p>Por ejemplo, cogemos el nombre del comercial, y detectamos que dependen funcionalmente del identificador del comercial, por lo tanto: <code>comercialID \u2192 comercialNom</code>. Pero si nos fijamos bien en los nombres de los comerciales, no podemos decir lo mismo en el sentido contrario, ya que tenemos un nombre repetido en diferentes c\u00f3digos de comercial (\u00a1qu\u00e9 casualidad!), con lo que no es correcto decir <code>comercialNom \u2192 comercialID</code>.</p> <p>Si hacemos lo mismo con el identificador del estado del comercial, deducimos que depende tambi\u00e9n del identificador, obteniendo <code>comercialID \u2192 estadoID</code>.</p> <p>Y lo mismo con la descripci\u00f3n del estado. En este caso, se cumplen que tanto el identificador del comercial como el identificador del estado permiten obtener la descripci\u00f3n del estado, obteniendo <code>comercialID \u2192 estadoDesc</code> y <code>estadoID \u2192 estadoDesc</code>.</p> <p>Si continuamos con todos los atributos y agrupamos las dependencias funcionales tenemos:</p> <ul> <li><code>comercialID \u2192 comercialNom, estadoID, estadoDesc</code></li> <li><code>estadoID \u2192 estadoDesc</code></li> <li><code>estadoDesc \u2192 estadoID</code></li> <li><code>provincia \u2192 provinciaPob</code></li> <li><code>ciudad, provincia \u2192 ciudadPob</code>, por ejemplo, tenemos dos ciudades <code>Valencia</code> en provincias diferentes</li> <li><code>comercialID , ciudad, provincia \u2192 ventas</code></li> </ul> <p>Tal como hemos comentado previamente, cuando agrupamos los atributos, la dependencia <code>comercialID \u2192 comercialNom, estadoID, estadoDesc</code> significa que tanto el nombre del comercial, como el c\u00f3digo de su estado y el estado dependen del identificador del comercial.</p> <ul> <li> <p>Dependencia funcional completa (DFC): cuando tenemos que A1, A2, ...AN \u2192 B (B tiene una dependencia funcional del conjunto A1, A2, ...AN), pero no de ninguno de sus subconjuntos.</p> <p>Es decir, B depende de la combinaci\u00f3n completa de atributos, y no de un parte de la clave.</p> <p>DFC - Supuesto Comerciales</p> <p>Tenemos que las ventas dependen de la combinaci\u00f3n <code>comercialID, ciudad, provincia</code> y no de un subconjunto de ellas, es decir, <code>comercialID, ciudad, provincia \u2192 ventas</code>.</p> </li> <li> <p>Dependencia funcional transitiva (DFT): se dice que hay un DFT entre A y C, si A \u2192 B y B \u2192 C, siendo B y C columnas no claves. Dicho de otro modo, cuando tenemos columnas no claves que determinan otras columnas no clave.</p> <p>DFT - Supuesto Comerciales</p> <p>Tenemos que <code>comercialID \u2192 comercialNom, estadoID, estadoDesc</code> y que <code>estadoID \u2192 estadoDesc</code>, por lo que tenemos una dependencia transitiva de <code>comercialID</code> a <code>estadoDesc</code>, ya que <code>comercialID \u2192 estadoID \u2192 estadoDesc</code>.</p> </li> </ul> Ejemplos de dependencias funcionales <p>Ejemplo 1: El Gimnasio del Barrio - Entendiendo la Dependencia Funcional</p> <p>En el gimnasio \"Siempre en Forma\", tienen una hoja de c\u00e1lculo para registrar a sus miembros. Es muy sencilla.</p> <p>Tabla: <code>MIEMBROS_GIMNASIO</code></p> ID_Socio Nombre Apellido Fecha_Nacimiento Tipo_Suscripcion SOC-001 Elena Ram\u00edrez 1995-03-15 Mensual SOC-002 Marcos Vidal 1988-11-20 Anual SOC-003 Carla Soler 2001-07-30 Mensual <p>Aqu\u00ed, el <code>ID_Socio</code> es \u00fanico para cada persona. Pensemos como la base de datos:</p> <ul> <li>Si te doy <code>SOC-001</code>, \u00bfpuedes decirme el nombre? S\u00ed, es Elena. No hay duda.<ul> <li><code>ID_Socio -&gt; Nombre</code></li> </ul> </li> <li>Si te doy <code>SOC-001</code>, \u00bfpuedes decirme la <code>Fecha_Nacimiento</code>? S\u00ed, 1995-03-15.<ul> <li><code>ID_Socio -&gt; Fecha_Nacimiento</code></li> </ul> </li> <li>Pero, si te digo que busques a la persona con suscripci\u00f3n \"Mensual\", \u00bfpuedes darme un <code>ID_Socio</code> \u00fanico? No, porque tanto Elena como Carla tienen esa suscripci\u00f3n. Por lo tanto, <code>Tipo_Suscripcion</code> no determina el <code>ID_Socio</code>.</li> </ul> <p>Conclusi\u00f3n del ejemplo: La Dependencia Funcional es una regla de negocio que dice: \"Este valor (o conjunto de valores) me sirve como una 'llave' para encontrar exactamente un solo valor de este otro campo\". Aqu\u00ed, <code>ID_Socio</code> es la llave para todos los dem\u00e1s datos del miembro.</p> <p>Ejemplo 2: La Pizzer\u00eda \"Mamma Mia\" - Descubriendo la Dependencia Funcional Completa vs. Parcial</p> <p>La pizzer\u00eda quiere registrar qu\u00e9 ingredientes extra a\u00f1ade cada cliente a sus pizzas en cada pedido. Su tabla inicial es un desastre.</p> <p>Tabla: <code>EXTRAS_PEDIDO</code></p> Nro_Pedido Pizza_ID Nombre_Pizza Ingrediente_Extra Precio_Extra 1001 P01 Margarita Champi\u00f1ones 1.50 1001 P01 Margarita Aceitunas 1.00 1001 P02 Barbacoa Doble Queso 2.00 1002 P01 Margarita Champi\u00f1ones 1.50 <p>La clave para identificar una l\u00ednea de forma \u00fanica es la combinaci\u00f3n de <code>{Nro_Pedido, Pizza_ID, Ingrediente_Extra}</code>. \u00a1Una clave de tres columnas!</p> <p>Ahora, analicemos qu\u00e9 depende de qu\u00e9:</p> <ol> <li> <p>Dependencia del <code>Precio_Extra</code>: \u00bfCu\u00e1nto cuesta el extra \"Champi\u00f1ones\"? Cuesta 1.50. \u00bfNecesito saber el n\u00famero de pedido para saber eso? No. \u00bfNecesito saber el tipo de pizza? No. El precio del extra solo depende del ingrediente en s\u00ed.</p> <ul> <li><code>Ingrediente_Extra -&gt; Precio_Extra</code> Esta es una dependencia parcial, porque <code>Precio_Extra</code> depende de <code>Ingrediente_Extra</code>, que es solo un trocito de nuestra larga clave primaria.</li> </ul> </li> <li> <p>Dependencia del <code>Nombre_Pizza</code>: Para saber que la \"P01\" es una \"Margarita\", \u00bfnecesito el n\u00famero de pedido o el ingrediente? No, solo necesito el <code>Pizza_ID</code>.</p> <ul> <li><code>Pizza_ID -&gt; Nombre_Pizza</code> Esta es otra dependencia parcial. <code>Nombre_Pizza</code> depende de <code>Pizza_ID</code>, que es otra parte de la clave.</li> </ul> </li> </ol> <p>\u00bfExiste alguna dependencia completa aqu\u00ed? En esta tabla, tal como est\u00e1 dise\u00f1ada, no hay ning\u00fan atributo que necesite las tres partes de la clave para ser determinado. Esto nos indica que el dise\u00f1o es muy deficiente y necesita ser descompuesto. Por ejemplo, si a\u00f1adi\u00e9ramos un campo <code>Comentario_Cliente</code> (\"sin cortar\"), ese campo s\u00ed podr\u00eda depender de la clave completa: <code>{Nro_Pedido, Pizza_ID, Ingrediente_Extra} -&gt; Comentario_Cliente</code>, porque el comentario es espec\u00edfico para un ingrediente en una pizza de un pedido concreto.</p> <p>Conclusi\u00f3n del ejemplo: Una dependencia es completa solo si necesita todos los componentes de la clave compuesta para funcionar. Si le sobra aunque sea uno, es parcial. Las dependencias parciales son una se\u00f1al de alarma que nos grita: \"\u00a1Divide esta tabla!\".</p> <p>Ejemplo 3: La Academia de Idiomas - Identificando la Dependencia Funcional Transitiva</p> <p>La academia \"Polyglot\" registra los cursos en los que se matriculan sus estudiantes.</p> <p>Tabla: <code>MATRICULAS</code></p> ID_Matricula ID_Estudiante Nombre_Estudiante ID_Curso Nivel_Curso ID_Profesor Nombre_Profesor MAT-01 EST-12 Ana Sanz ING-B1 Intermedio PROF-J John Smith MAT-02 EST-15 Luis Prado FRA-A2 B\u00e1sico PROF-S Sophie Dubois MAT-03 EST-12 Ana Sanz FRA-A2 B\u00e1sico PROF-S Sophie Dubois <p>La clave primaria que identifica cada acto de matriculaci\u00f3n es <code>ID_Matricula</code>.</p> <p>Vamos a seguir la cadena de dependencias:</p> <ol> <li> <p><code>ID_Matricula</code> determina el estudiante (<code>ID_Estudiante</code>) y el curso (<code>ID_Curso</code>). \u00a1Correcto!</p> <ul> <li><code>ID_Matricula -&gt; ID_Estudiante</code></li> <li><code>ID_Matricula -&gt; ID_Curso</code></li> </ul> </li> <li> <p>Ahora bien, <code>Nombre_Estudiante</code> no depende directamente de la matr\u00edcula, sino del estudiante.</p> <ul> <li><code>ID_Estudiante -&gt; Nombre_Estudiante</code></li> </ul> </li> <li> <p>Y aqu\u00ed viene lo interesante. El profesor asignado (<code>ID_Profesor</code> y <code>Nombre_Profesor</code>) no depende de la matr\u00edcula en s\u00ed, sino del curso impartido. Cada curso tiene un profesor asignado.</p> <ul> <li><code>ID_Curso -&gt; ID_Profesor</code></li> <li><code>ID_Profesor -&gt; Nombre_Profesor</code></li> </ul> </li> </ol> <p>\u00a1Hemos encontrado la transitividad!</p> <ul> <li><code>ID_Matricula</code> (la clave) -&gt; <code>ID_Curso</code> (atributo no clave)</li> <li><code>ID_Curso</code> (atributo no clave) -&gt; <code>Nombre_Profesor</code> (atributo no clave)</li> </ul> <p>El <code>Nombre_Profesor</code> depende de la <code>ID_Matricula</code>, pero de forma indirecta, a trav\u00e9s del <code>ID_Curso</code>. Esto es una dependencia transitiva.</p> <p>\u00bfCu\u00e1l es el peligro? Si la profesora Sophie Dubois se va de la academia y es reemplazada por \"Pierre Martin\" en el curso FRA-A2, tendr\u00edamos que buscar todas las matr\u00edculas de ese curso (la de Luis, la de Ana y la de cualquier otro alumno) para actualizar el nombre del profesor. Si nos dejamos una sola fila sin actualizar, tendremos datos inconsistentes.</p> <p>Conclusi\u00f3n del ejemplo: La dependencia transitiva es como un \"amigo de un amigo\". Un atributo no clave no deber\u00eda darnos informaci\u00f3n sobre otro atributo no clave. Cada concepto (estudiantes, cursos, profesores) deber\u00eda tener su propia tabla para evitar estas peligrosas dependencias en cadena.</p> <p>El objetivo final de identificar estas dependencias es guiarnos para crear un dise\u00f1o de base de datos normalizado, donde cada pieza de informaci\u00f3n est\u00e9 en su lugar l\u00f3gico y solo en uno.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#formas-normales","title":"Formas Normales","text":"<p>La normalizaci\u00f3n consiste en una serie de pasos, cada uno de los cuales se corresponde a una forma normal (FN). Conforme se va avanzando en la normalizaci\u00f3n, las tablas tienen una estructura m\u00e1s limpia y con menor redundancia.</p> <p>Codd propuso en 1972 tres formas normales, a las que se sum\u00f3 la forma normal de Boyce-Codd en 1974, y luego se a\u00f1adieron dos m\u00e1s por parte de Fagin entre 1977 y 1979. En este curso, nos vamos a centrar en las tres primeras, que cubren la mayor\u00eda de casos con los que nos vamos a encontrar, ya que se considera que una base de datos que est\u00e1 en 3FN es una base de datos correctamente dise\u00f1ada</p> <p>Todas las formas normales se construyen sobre una forma normal previa, de forma que se anidan unas dentro de otras:</p> <ul> <li> <p>1FN: Una relaci\u00f3n est\u00e1 en primera forma normal si, y s\u00f3lo si, todos sus dominios contienen valores at\u00f3micos. Supone la eliminaci\u00f3n de todos los campos multivaluados.</p> <p>Por lo general, si tenemos una tabla de un modelo relacional, por las propias restricciones sem\u00e1nticas del modelo relacional, no deber\u00edamos tener ning\u00fan campo con varios valores, ya que deber\u00edan haberse transformado en relaciones 1:N.</p> <p>1FN - Supuesto Comerciales</p> <p>Como ninguna columna tiene m\u00e1s de un valor, la tabla ya est\u00e1 en 1FN.</p> <p>1FN - Supuesto Comerciales</p> <p>Como ninguna columna tiene m\u00e1s de un valor, la tabla ya est\u00e1 en 1FN.</p> </li> <li> <p>2FN: una relaci\u00f3n est\u00e1 en segunda forma normal si est\u00e1 en 1FN y todas las columnas que no son clave tienen un DFC de la clave primaria.</p> <p>Para ello, descompondremos la tabla en varias subtablas, y comprobaremos que ning\u00fan subconjunto de los atributos no clave determinan campos no principales.</p> <p>Si todas las claves candidatas de las tablas en 1FN son simples (unitarias), autom\u00e1ticamente las tablas ya est\u00e1n en 2FN. En cambio, si la clave primaria es compuesta, deberemos comprobar que todos los atributos dependen de la clave primaria compuesta y no de un subconjunto de esta.</p> 2FN - Supuesto Comerciales <p>Si revisamos las dependencia funcionales, hemos de comprobar que todos los atributos no clave dependan de toda la clave primaria. Para ello, necesitamos crear al menos tres tablas:</p> <p><code>**COMERCIAL** (comercialID, comercialNom, estadoID, estadoDesc)</code> <code>\u00b7 PK: (codigo)</code></p> <p><code>**CIUDAD** (ciudad, provincia, ciudadPob, provinciaPob)</code> <code>\u00b7 PK: (ciudad)</code></p> <p><code>**REGISTRO** (comercialID*, ciudad*, provincia*, ventas)</code> <code>\u00b7 PK: (comercialID, ciudad, provincia)   \u00b7 FK: (comercialID) \u2192 COMERCIAL   \u00b7 FK: (ciudad, provincia) \u2192 CIUDAD</code></p> <p>Dando como resultado las siguientes tablas con datos:</p> <ul> <li> <p><code>COMERCIAL</code></p> comercialID comercialNom estadoID estadoDesc C1 Carlos Suarez JC Jornada Completa C2 Manoli Campos JC Jornada Completa C3 Carlos Suarez JPM Jornada Partida Ma\u00f1anas C4 Sonia S\u00e1nchez JPT Jornada Partida Tardes C5 Marina Vidal JC Jornada Completa C6 Michael Johnson JC Jornada Completa </li> <li> <p><code>CIUDAD</code></p> ciudad provincia ciudadPob provinciaPob Elche Alicante 230.000 1.800.000 Denia Alicante 42.000 1.800.000 Aspe Alicante 22.000 1.800.000 Cartagena Murcia 218.000 1.520.000 Gand\u00eda Valencia 73.000 2.550.000 Valencia Valencia 807.000 1.800.000 Valencia California 63.000 38.940.000 </li> <li> <p><code>REGISTRO</code></p> comercialID<code>*</code> ciudad<code>*</code> provincia<code>*</code> ventas C1 Elche Alicante 33 C1 Denia Alicante 22 C2 Elche Alicante 55 C2 Aspe Alicante 44 C3 Cartagena Murcia 17 C4 Gand\u00eda Valencia 27 C5 Valencia Valencia 37 C6 Valencia California 47 </li> </ul> </li> <li> <p>3FN: 2FN + todo atributo que no es clave primaria no tiene una dependencia funcional transitiva de otro atributo no clave, es decir, depende \u00fanicamente de la clave primaria de modo no transitivo.</p> 3FN - Supuesto Comerciales <p>Ahora revisamos que no haya atributos que dependan de forma transitiva de la clave primaria. Tanto <code>COMERCIAL.estadoDesc</code> como <code>CIUDAD.provinciaPob</code> dependen de forma transitiva de un atributo no que es clave en sus tablas (<code>COMERCIAL.estadoID</code> y <code>CIUDAD.provincia</code>, respectivamente). Es decir, tenemos las DFT <code>comercialID \u2192 estadoID \u2192 estadoDesc</code> y <code>ciudad \u2192 provincia \u2192 provinciaPob</code>.</p> <p>As\u00ed pues, para deshacer las dependencias funcionales transitivas dividimos las tablas <code>COMERCIAL</code> y <code>CIUDAD</code> en dos nuevas tablas (<code>ESTADO</code>y <code>PROVINCIA</code>):</p> <p><code>**ESTADO** (estadoID, estadoDesc)</code> <code>\u00b7 PK: (codigo)</code></p> <p><code>**COMERCIAL** (comercialID, comercialNom, estadoID*)</code> <code>\u00b7 PK: (codigo)   \u00b7 FK: (estadoID) \u2192 ESTADO</code> <code>**PROVINCIA** (provincia, provinciaPob)</code> <code>\u00b7 PK: (provincia)</code></p> <p><code>**CIUDAD** (ciudad, provincia*, ciudadPob)</code> <code>\u00b7 PK: (ciudad)   \u00b7 FK: (provincia) \u2192 PROVINCIA</code></p> <p><code>**REGISTRO** (comercialID*, ciudad*, provincia*, ventas)</code> <code>\u00b7 PK: (comercialID, ciudad, provincia)</code> <code>\u00b7 FK: (comercialID) \u2192 COMERCIAL</code> <code>\u00b7 FK: (ciudad, provincia) \u2192 CIUDAD</code></p> <p>Dando como resultado las siguientes tablas con datos:</p> <ul> <li> <p><code>ESTADO</code></p> estadoID estadoDesc JC Jornada Completa JPM Jornada Partida Ma\u00f1anas JPT Jornada Partida Tardes </li> <li> <p><code>COMERCIAL</code></p> comercialID comercialNom estadoID<code>*</code> C1 Carlos Suarez JC C2 Manoli Campos JC C3 Carlos Suarez JPM C4 Sonia S\u00e1nchez JPT C5 Marina Vidal JC C6 Michael Johnson JC </li> <li> <p><code>PROVINCIA</code></p> provincia provinciaPob Alicante 1.800.000 Murcia 1.520.000 Valencia 2.550.000 California 38.940.000 </li> <li> <p><code>CIUDAD</code></p> ciudad provincia<code>*</code> ciudadPob Elche Alicante 230.000 Denia Alicante 42.000 Aspe Alicante 22.000 Cartagena Murcia 218.000 Gand\u00eda Valencia 73.000 Valencia Valencia 807.000 Valencia California 63.000 </li> <li> <p><code>REGISTRO</code></p> comercialID<code>*</code> ciudad<code>*</code> provincia<code>*</code> ventas C1 Elche Alicante 33 C1 Denia Alicante 22 C2 Elche Alicante 55 C2 Aspe Alicante 44 C3 Cartagena Murcia 17 C4 Gand\u00eda Valencia 27 C5 Valencia Valencia 37 C6 Valencia California 47 </li> </ul> <p>El problema de la 3FN es que no maneja relaciones que:</p> <ul> <li>Tienen varias claves candidatas,</li> <li>Esas claves candidatas son compuestas, y</li> <li>Las claves candidatas tienen por lo menos un atributo en com\u00fan. </li> </ul> </li> <li> <p>FNBC: Es una mejora de la 3FN donde, si tenemos m\u00e1s de una clave candidata y estas son compuestas y comparten alg\u00fan atributo entonces, ning\u00fan atributo, sea clave o no, puede depender de algo que no sea la clave primaria.</p> <p>Si la clave no es compuesta y no existe m\u00e1s de una clave candidata (s\u00f3lo tenemos la clave primaria), la FNBC es equivalente a la 3FN.</p> <p>El objetivo de la FNBC es asegurar que cada dato de una tabla depende \u00fanicamente de una clave real y completa, y no de otra cosa.</p> FNBC - Supuesto Comerciales <p>En nuestro caso, no tenemos m\u00e1s de una clave candidata, por lo que la FNBC es equivalente a la 3FN.</p> </li> </ul> <p>En resumen</p> <p>En la pr\u00e1ctica, cuando todas las tablas est\u00e1n en FNBC, se puede considerar que la base de datos est\u00e1 totalmente normalizada. Una tabla en FNBC ya est\u00e1 desde 1FN hasta 3FN y tiene las siguientes caracter\u00edsticas:</p> <ul> <li>Tiene una clave primaria.</li> <li>No tiene columnas multivaluadas.</li> <li>Todas las columnas dependen de una clave pero nada m\u00e1s.</li> <li>No contiene ninguna dependencia transitiva.</li> </ul> <p></p> Proceso de normalizaci\u00f3n <p></p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#ejemplo-paso-a-paso","title":"Ejemplo Paso a Paso","text":"Ejemplo 1: Paso a paso. Consultora de software <p>Una peque\u00f1a consultora de software, \"C\u00f3digo Veloz\", registra los datos de los proyectos en una \u00fanica tabla. Vuestro objetivo es sanear y normalizar esta tabla para evitar problemas de redundancia e inconsistencia.</p> <p>Normalizaci\u00f3n de una Tabla de Proyectos</p> <p>Una peque\u00f1a consultora de software, \"C\u00f3digo Veloz\", registra los datos de los proyectos en una \u00fanica tabla. Vuestro objetivo es sanear y normalizar esta tabla para evitar problemas de redundancia e inconsistencia.</p> <p>La Tabla Inicial: <code>PROYECTOS_DESORDENADOS</code></p> ID_Proyecto Nombre_Proyecto ID_Empleado Nombre_Empleado Horas_Trabajadas ID_Departamento Jefe_Departamento Salario_Base_Empleado P100 App M\u00f3vil E01 Juan P\u00e9rez 100 D01 Ana Torres 40.000 P100 App M\u00f3vil E02 Mar\u00eda Sol 80 D01 Ana Torres 55.000 P200 Web Cliente E01 Juan P\u00e9rez 120 D01 Ana Torres 40.000 P300 Sistema IA E03 Luis Rey 90 D02 Pedro Soto 60.000 <p>Paso 0: Identificaci\u00f3n de Dependencias y Clave</p> <p>Antes de empezar, asumimos que esta tabla ya est\u00e1 en Primera Forma Normal (1FN), pues no hay grupos repetitivos ni atributos multivaluados (cada celda contiene un solo valor at\u00f3mico).</p> <ol> <li> <p>Clave Primaria (CP): Para identificar de forma \u00fanica cada fila (es decir, las horas que un empleado dedic\u00f3 a un proyecto), necesitamos la combinaci\u00f3n: <code>{ID_Proyecto, ID_Empleado}</code>.</p> </li> <li> <p>Dependencias Funcionales (DFs) Observadas:</p> <ul> <li><code>ID_Proyecto -&gt; Nombre_Proyecto</code> (El ID del proyecto determina su nombre).</li> <li><code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code> (El ID del empleado determina sus datos personales y salariales).</li> <li><code>ID_Departamento -&gt; Jefe_Departamento</code> (El departamento determina qui\u00e9n es su jefe).</li> </ul> </li> </ol> <p>Paso 1: De 1FN a 2FN (Eliminar Dependencias Parciales)</p> <p>REGLA DE LA 2FN: Todos los atributos no clave deben ser completamente dependientes de toda la Clave Primaria.</p> <p>Identificando las dependencias parciales:</p> <ol> <li><code>ID_Proyecto -&gt; Nombre_Proyecto</code>: El nombre del proyecto depende solo de <code>ID_Proyecto</code> (una parte de la clave). Dependencia Parcial.</li> <li><code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code>: Los datos del empleado dependen solo de <code>ID_Empleado</code> (otra parte de la clave). Dependencia Parcial.</li> </ol> <p>Acci\u00f3n: Descomponer la tabla para eliminar las dependencias parciales.</p> <p>Tabla 1.1: <code>ASIGNACION_PROYECTO</code> (Retiene la clave primaria original y los atributos que dependen de ella de forma COMPLETA). *   DF Remanente: <code>{ID_Proyecto, ID_Empleado} -&gt; Horas_Trabajadas</code> *   CP: <code>{ID_Proyecto, ID_Empleado}</code></p> ID_Proyecto ID_Empleado Horas_Trabajadas P100 E01 100 P100 E02 80 P200 E01 120 P300 E03 90 <p>Tabla 1.2: <code>PROYECTOS</code> (Extrae la informaci\u00f3n que solo depende de <code>ID_Proyecto</code>). *   DF Remanente: <code>ID_Proyecto -&gt; Nombre_Proyecto</code> *   CP: <code>{ID_Proyecto}</code></p> ID_Proyecto Nombre_Proyecto P100 App M\u00f3vil P200 Web Cliente P300 Sistema IA <p>Tabla 1.3: <code>EMPLEADOS</code> (Extrae la informaci\u00f3n que solo depende de <code>ID_Empleado</code>). *   DF Remanente: <code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code> *   CP: <code>{ID_Empleado}</code></p> ID_Empleado Nombre_Empleado ID_Departamento Jefe_Departamento Salario_Base_Empleado E01 Juan P\u00e9rez D01 Ana Torres 40.000 E02 Mar\u00eda Sol D01 Ana Torres 55.000 E03 Luis Rey D02 Pedro Soto 60.000 <p>Resultado: Las tres tablas est\u00e1n ahora en 2FN.</p> <p>Paso 2: De 2FN a 3FN (Eliminar Dependencias Transitivas)</p> <p>REGLA DE LA 3FN: No debe existir ninguna dependencia funcional transitiva. Un atributo no clave no puede depender de otro atributo no clave.</p> <p>Identificando las dependencias transitivas:</p> <p>Revisamos las tablas 1.1 y 1.2 (que ya est\u00e1n perfectas) y nos centramos en la Tabla 1.3: <code>EMPLEADOS</code>.</p> <ul> <li>DF Observada: <code>ID_Departamento -&gt; Jefe_Departamento</code></li> <li>An\u00e1lisis:<ul> <li><code>ID_Empleado</code> es la clave primaria.</li> <li><code>ID_Departamento</code> es un atributo no clave.</li> <li><code>Jefe_Departamento</code> es un atributo no clave.</li> <li>El <code>Jefe_Departamento</code> depende de <code>ID_Departamento</code>, que a su vez depende de la clave primaria (<code>ID_Empleado</code>). \u00a1Dependencia Transitiva!</li> <li><code>ID_Empleado -&gt; ID_Departamento -&gt; Jefe_Departamento</code></li> </ul> </li> </ul> <p>Acci\u00f3n: Crear una nueva tabla para romper la cadena transitiva.</p> <p>Tabla 2.1: <code>DEPARTAMENTOS</code> (Extrae la informaci\u00f3n de la dependencia transitiva).</p> <ul> <li>DF Remanente: <code>ID_Departamento -&gt; Jefe_Departamento</code></li> <li>CP: <code>{ID_Departamento}</code></li> </ul> ID_Departamento Jefe_Departamento D01 Ana Torres D02 Pedro Soto <p>Tabla 2.2: <code>EMPLEADOS_NORMALIZADOS</code> (Actualiza la tabla de empleados).</p> <ul> <li>DF Remanente: <code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code></li> <li>CP: <code>{ID_Empleado}</code></li> </ul> ID_Empleado Nombre_Empleado ID_Departamento Jefe_Departamento Salario_Base_Empleado E01 Juan P\u00e9rez D01 Ana Torres 40.000 E02 Mar\u00eda Sol D01 Ana Torres 55.000 E03 Luis Rey D02 Pedro Soto 60.000 <p>Resultado: Ahora tenemos cuatro tablas (ASIGNACION_PROYECTO, PROYECTOS, DEPARTAMENTOS, EMPLEADOS_NORMALIZADOS) que est\u00e1n en 3FN.</p> <p>Paso 3: De 3FN a FNBC (Boyce-Codd)</p> <p>REGLA DE LA FNBC: Para cada dependencia funcional no trivial $X \\rightarrow A$, $X$ debe ser una superclave (o sea, una clave candidata o un conjunto de atributos que la contienen).</p> <p>En la mayor\u00eda de los casos de la vida real, si una tabla est\u00e1 en 3FN, tambi\u00e9n lo estar\u00e1 en FNBC. La FNBC solo es m\u00e1s estricta cuando existen m\u00faltiples claves candidatas que se solapan.</p> <p>Identificando la posibilidad de FNBC:</p> <p>Revisamos las cuatro tablas para buscar dependencias donde el determinante ($X$) no sea una superclave:</p> <ol> <li><code>ASIGNACION_PROYECTO</code>: DF: <code>{ID_Proyecto, ID_Empleado} -&gt; Horas_Trabajadas</code>. El determinante es la CP. OK.</li> <li><code>PROYECTOS</code>: DF: <code>ID_Proyecto -&gt; Nombre_Proyecto</code>. El determinante es la CP. OK.</li> <li><code>DEPARTAMENTOS</code>: DF: <code>ID_Departamento -&gt; Jefe_Departamento</code>. El determinante es la CP. OK.</li> <li><code>EMPLEADOS_NORMALIZADOS</code>: DF: <code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code>. El determinante es la CP. OK.</li> </ol> <p>\u00a1PERO ESPERA! \u00bfQu\u00e9 pasar\u00eda si la regla de negocio fuera: Cada Salario Base determina un Nivel de Empleado, y solo los Jefes de Departamento pueden tener un Nivel 5?</p> <ul> <li>Si a\u00f1adi\u00e9ramos un atributo <code>Nivel_Empleado</code> a la tabla <code>EMPLEADOS_NORMALIZADOS</code> y existiera la DF: <code>Salario_Base_Empleado -&gt; Nivel_Empleado</code> (donde $X$ no es la clave), esto podr\u00eda forzarnos a aplicar FNBC.</li> </ul> <p>Ejemplo Hipot\u00e9tico para romper FNBC (No aplica al caso anterior, pero es did\u00e1ctico):</p> <p>Imaginemos que en la tabla de empleados existe una regla donde el Nombre del Empleado debe ser \u00fanico. Tendr\u00edamos dos claves candidatas: <code>ID_Empleado</code> y <code>Nombre_Empleado</code>.</p> <ul> <li>Claves Candidatas (CC): <code>{ID_Empleado}</code> y <code>{Nombre_Empleado}</code></li> <li>DFs: <code>ID_Empleado -&gt; Nombre_Empleado</code> y <code>Nombre_Empleado -&gt; ID_Empleado</code></li> </ul> <p>Si existiera la DF: <code>Nombre_Empleado -&gt; Salario_Base_Empleado</code>. El determinante (<code>Nombre_Empleado</code>) es una clave candidata (Superclave). Por lo tanto, sigue estando en FNBC.</p> <p>Conclusi\u00f3n del ejercicio: En este caso pr\u00e1ctico, al llegar a la 3FN hemos satisfecho todos los requisitos de la FNBC.</p> <p>RESUMEN FINAL DE LAS TABLAS NORMALIZADAS (FNBC)</p> Tabla Clave Primaria (CP) Atributos Dependencias Funcionales ASIGNACION_PROYECTO <code>{ID_Proyecto, ID_Empleado}</code> <code>Horas_Trabajadas</code> Completa: <code>{ID_Proyecto, ID_Empleado} -&gt; Horas_Trabajadas</code> PROYECTOS <code>ID_Proyecto</code> <code>Nombre_Proyecto</code> <code>ID_Proyecto -&gt; Nombre_Proyecto</code> DEPARTAMENTOS <code>ID_Departamento</code> <code>Jefe_Departamento</code> <code>ID_Departamento -&gt; Jefe_Departamento</code> EMPLEADOS <code>ID_Empleado</code> <code>Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code> <code>ID_Empleado -&gt; Nombre_Empleado, ID_Departamento, Salario_Base_Empleado</code> <p>\u00a1Con esto, hemos pasado de una tabla redundante y propensa a errores a un modelo relacional s\u00f3lido, limpio y eficiente! Recordad, la normalizaci\u00f3n es la clave para la integridad de vuestros datos.</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#desnormalizacion","title":"Desnormalizaci\u00f3n","text":"<p>El concepto de desnormalizar un modelo relacional consiste en transformar una base de datos a una forma normal menor, siempre con el objetivo de mejorar el rendimiento de las operaciones de consulta de datos, a costa de aceptar cierta redundancia de datos</p> <p>Por ejemplo, podemos unir varias relaciones en una si se usan juntas frecuentemente mediante operaciones join.</p> <p>Adem\u00e1s del rendimiento en las consultas, podemos desnormalizar nuestros modelos para simplificar el esquema o reducir la complejidad de ciertas consultas.</p> <p>Un caso muy com\u00fan es unir los datos de dos tablas que tienen una relaci\u00f3n 1:1 en una \u00fanica tabla (siempre que la sem\u00e1ntica de las relaciones lo permita).</p>"},{"location":"temas/02B/2.4-ModeloRelacional.html#referencias","title":"Referencias","text":"<ul> <li> <p>Herramienta gr\u00e1fica ERDPlus para la realizaci\u00f3n de diagramas de modelos relacionales.</p> </li> <li> <p>Materiales sobre el m\u00f3dulo de BD:</p> <ul> <li>Model Relacional - Institut Obert de Catalunya</li> <li>Modelo Relacional de Jorge S\u00e1nchez</li> <li>Bases de datos relacionales de Javier Guti\u00e9rrez</li> <li>Dise\u00f1o de modelo l\u00f3gicos normalizados de gestionbasesdatos.readthedocs.io</li> <li>Dise\u00f1o l\u00f3gico y Normalizaci\u00f3n de la Universidad de Sevilla</li> </ul> </li> </ul>"},{"location":"temas/02B/2.B-Actividades.html","title":"Actividades","text":""},{"location":"temas/02B/2.B-Actividades.html#ut2-b-actividades","title":"UT2-B. Actividades","text":""},{"location":"temas/02B/2.B-Actividades.html#actividades","title":"Actividades","text":""},{"location":"temas/02B/2.B-Actividades.html#ac201b","title":"AC201.B","text":"Ejercicio AC201.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6b, CE6c // 3p <p>Analiza la siguiente tabla EMPLEADO y enumera todos los errores que encuentres. A continuaci\u00f3n, aporta una soluci\u00f3n para cada uno de ellos. Finalmente, analiza las claves existentes:</p> dni nombre genero direccion fAlta casado nombre codEmpleado 12345678A Guillem Vidal M C Mayor, 5 11/1/24 N 1 12345679B Guillem Vidal M C Illueca, 26 21/1/24 N 2 12345670C, 12345671D Juan y Mar\u00eda S\u00e1nchez M,F C Illueca, 26 31/1/24 S,N Ana 3,4 98765431X Ana Fern\u00e1ndez F 30/2/24 S \u00d3scar X2 98765432Z Domingo Gallardo M Avda Alicante, 12 Lunes S Mar\u00eda siete 98765430Y M\u00f3nica Reig F 03206 3/2/24 S 99"},{"location":"temas/02B/2.B-Actividades.html#ac202b","title":"AC202.B","text":"Ejercicio AC202.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6d, CE6c // 3p <p>Indica si las siguientes afirmaciones son verdaderas o falsas y justifica la respuesta:</p> <ul> <li>La uni\u00f3n de todos los campos de una relaci\u00f3n siempre funciona como clave de la relaci\u00f3n.</li> <li>Toda relaci\u00f3n tiene clave primaria.</li> <li>Toda relaci\u00f3n posee, al menos, una clave ajena.</li> <li>Un campo que pertenece a la clave primaria de una relaci\u00f3n puede tomar el valor <code>NULL</code>.</li> <li>Un campo que pertenece a una clave ajena de una relaci\u00f3n puede tomar el valor <code>NULL</code>.</li> <li>Un mismo campo puede funcionar a la vez como clave primaria y como clave ajena de una relaci\u00f3n.</li> <li>Una clave ajena puede enlazar una relaci\u00f3n consigo misma.    |</li> </ul>"},{"location":"temas/02B/2.B-Actividades.html#ac203b","title":"AC203.B","text":"Ejercicio AC203.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6f // 3p <p>A partir de los datos de las siguientes tablas, identifica todos los problemas con las restricciones sem\u00e1nticas asociadas al modelo relacional y aporta soluciones de c\u00f3mo resolverlas, sabiendo que las PK son <code>PRODUCTO.codigo</code>y <code>CATEGORIA.codigo</code>, y tenemos una clave ajena de <code>PRODUCTO.categoria</code> que apunta a <code>CATEGORIA</code>.</p> <ul> <li> <p><code>PRODUCTO</code></p> codigo nombre cantidad pvp categoria<code>*</code> 101 Televisor LED 42\" -5 299.99 1 102 Lavadora XYZ 010 abc 2 102 LEGO Batman tres 299.99 3 105 Pelota de f\u00fatbol 299.99 <code>NULL</code> 099 Escritorio 8 299.99 5 </li> <li> <p><code>CATEGORIA</code></p> codigo nombre descr 1 Electr\u00f3nica Productos electr\u00f3nicos de consumo 2 Hogar y cocina <code>NULL</code> Juguetes y Juegos Accesorios y juguetes para ni\u00f1os 4 Deportes Art\u00edculos deportivos y outdoor 4 Deportes Productos de oficina y papeler\u00eda </li> </ul> <p>Indica las restricciones sem\u00e1ticas que aplicar\u00edas para resolver los problemas.</p>"},{"location":"temas/02B/2.B-Actividades.html#ac204b","title":"AC204.B","text":"Ejercicio AC204.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6f // 3p <p>A partir de los datos de la siguiente tabla de <code>COMERCIAL</code>, identifica todas las claves y restricciones posibles:</p> dni codigo nombre genero direccion fAlta codPareja 12345679B 10 Ana Vidal F C Illueca, 26 21/1/24 12345670C 20 Lara S\u00e1nchez M C Almassera, 15 31/1/24 3 98765431X 30 Ana Fern\u00e1ndez F 13/2/24 7 98765432Z 40 Domingo Gallardo M Avda Alicante, 12 23/2/24 98765430Y 50 Ana Vidal F C Eugeni D'Ors 5 3/3/24 6 12345678A 60 Guillem Vidal M C Mayor, 5 11/1/24 2 <p>Genera el modelo relacional con https://dbdiagram.io/ identificando las claves y restricciones.</p>"},{"location":"temas/02B/2.B-Actividades.html#ac205b","title":"AC205.B","text":"Ejercicio AC205.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6b, CE6c // 3p <p>Crea las tablas necesarias con datos ficticios (con al menos 5 registros cada tabla) que respete las restricciones sem\u00e1nticas del modelo relacional a partir del siguiente esquema relacional:</p> <p><code>**EMPLEADO** (nif, nombre, direccion, cargo)</code> <code>\u00b7 PK: (nif)</code> <code>\u00b7 VNN: (nombre)</code> <code>**VEHICULO** (matricula, codigo, marca, modelo, empleado*)</code> <code>\u00b7 PK: (matricula)</code> <code>\u00b7 FK: (empleado) \u2192 EMPLEADO</code> <code>\u00b7 VNN (empleado)</code> <code>\u00b7 UK (codigo)</code></p> <p>Donde <code>*</code> indica clave ajena y <code>VNN</code> indica que el campo no puede tomar valores nulos.</p> <p>Para mostrar las diferentes restricciones del modelo debes tener en cuenta las cardinalidades de la relaci\u00f3n, los posibles valores repetidos o nulos de los campos, etc...</p> <p>Utiliza https://dbdiagram.io/ para crearlo.</p>"},{"location":"temas/02B/2.B-Actividades.html#ap206b","title":"AP206.B","text":"Ejercicio AP206.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6d, CE6f // 3p <p>A partir del siguiente esquema relacional, crea tres tablas con datos ficticios, y explica el tipo de relaci\u00f3n existente entre los campos y las tablas relacionadas (cardinalidad):</p> Esquema relacional Restricciones Conductor (nif, nombre, fAlta) PK: (nif) Conducir (nif, matricula, cantidad) PK: (nif, matricula) Autobus (matricula, tipo, numPlazas) PK: (matricula) <p>Genera el diagrama de tablas con https://dbdiagram.io/. Copia el diagrama al ejercicio e indica los tipos de relaci\u00f3n existentes.</p>"},{"location":"temas/02B/2.B-Actividades.html#ar207b","title":"AR207.B","text":"Ejercicio AR207.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6d, CE6e, CE6f // 3p <p>A partir de las tablas de la actividad AC303, crea el esquema relacional.</p> <p>A continuaci\u00f3n, crea una nueva tabla <code>PROVEEDOR</code> con datos asociados a esta nueva relaci\u00f3n, y actualiza el esquema relacional para que est\u00e9n las tres tablas relacionadas.</p>"},{"location":"temas/02B/2.B-Actividades.html#ar208b","title":"AR208.B","text":"Ejercicio AR208.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6b, CE6f // 3p <p>A partir del siguiente diagrama, crea el esquema relacional. Indica las restriciones en el diagrama.</p> <p></p> Actividad 208.B <p></p>"},{"location":"temas/02B/2.B-Actividades.html#ac209b","title":"AC209.B","text":"Ejercicio AC209.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6d // 3p Actividad 209.B <p>Contesta a las siguientes preguntas argumentado tus respuestas:</p> <ol> <li>\u00bfPuede un <code>PEDIDO</code> contener m\u00e1s de un <code>PRODUCTO</code>?</li> <li>\u00bfPodemos obtener cuales son las categor\u00edas de los productos con m\u00e1s pedidos?</li> <li>Si quisi\u00e9ramos obtener cuales son las provincias de los clientes donde se realizan m\u00e1s pedidos \u00bfqu\u00e9 deber\u00edamos a\u00f1adir?</li> <li>\u00bfPodemos tener dos proveedores con el mismo nombre?</li> <li>\u00bfTodo <code>PRODUCTO</code> obligatoriamente pertenecer\u00e1 a una <code>CATEGORIA</code>?</li> <li>Cuando en un pedido compramos dos producto diferentes \u00bfCuantas <code>LINEA_PEDIDO</code> necesitamos? \u00bfY si son del mismo producto?</li> </ol> <p>(Utiliza una fila de la tabla del ejercicio, una para la pregunta, y otra para la respusta)</p> <p>Genera el diagrama de tablas con https://dbdiagram.io/ e incluye las restricciones que aparezcan en el diagrama. Copia el diagrama en el ejercicio.</p>"},{"location":"temas/02B/2.B-Actividades.html#ar210b","title":"AR210.B","text":"Ejercicio AC210.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6d // 3p Actividad 210.B <p>Contesta a las siguientes preguntas justificando tus respuestas:</p> <ol> <li>\u00bfPuede un hotel estar en m\u00e1s de un punto?</li> <li>Dada una ciudad, \u00bfCu\u00e1ntos hoteles podemos tener?</li> <li>\u00bfPodemos tener dos rutas con el mismo nombre?</li> <li>\u00bfDe cuantos tipos puede ser una ruta? \u00bfY toda ruta debe tener un tipo?</li> <li>\u00bfPodemos tener hoteles que no pertenezcan a ning\u00fan viaje? \u00bfY al rev\u00e9s?, es decir, \u00bfPodemos tener viajes sin hotel incluido?</li> <li>Si en un determinado viaje no est\u00e1 incluido el hotel, \u00bfPuede haber m\u00e1s de una ruta?</li> </ol> <p>A continuaci\u00f3n, a\u00f1ade al modelo las tablas y relaciones necesarias para almacenar la informaci\u00f3n de los clientes que realizan el viaje, as\u00ed como en qu\u00e9 hotel duermen.</p> <p>\u25b6\ufe0f Genera el diagrama de tablas con https://dbdiagram.io/ completo.</p>"},{"location":"temas/02B/2.B-Actividades.html#ac211b","title":"AC211.B","text":"Ejercicio AC311.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6c, CE6d // 3p <p>A partir del esquema y de las tablas obtenidas en la actividad AC205.B, completa el diccionario de datos, indicando tanto la informaci\u00f3n de las tablas, como sus relaciones y restricciones.</p>"},{"location":"temas/02B/2.B-Actividades.html#ac212b","title":"AC212.B","text":"Ejercicio AC212.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6c, CE6d // 3p <p>A partir del diagrama y del esquema obtenidos en la actividad AR210.B, completa el diccionario de datos.</p>"},{"location":"temas/02B/2.B-Actividades.html#ac213b","title":"AC213.B","text":"Ejercicio AC213.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6b // 3p <p>A partir de la siguiente tabla, indica las dependencias funcionales:</p> codEnvio fEnvio codCamion tipoCamion codProducto tipoProducto cantidad 111 1/1/24 C1 Tr\u00e1iler A Zapatos 180 111 1/1/24 C1 Tr\u00e1iler B Gorras 120 222 2/1/24 C2 Tr\u00e1iler C Camisetas 2000 333 3/1/24 C3 Furgoneta D Calcetines 1200 333 3/1/24 C3 Furgoneta A Zapatos 360 444 3/1/24 C2 Tr\u00e1iler C Camisetas 3000 555 3/1/24 C1 Tr\u00e1iler B Gorras 140"},{"location":"temas/02B/2.B-Actividades.html#ac214b","title":"AC214.B","text":"Ejercicio AC214.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6g // 3p <p>Considera la siguiente relaci\u00f3n que almacena informaci\u00f3n acerca de proyectos en una gran empresa aeroespacial. Se pide normalizar los datos hasta la tercera forma normal.:</p> <p><code>**TRABAJO** (nomProy, jefeProy, idEmp, horas, nomEmp, fondos, fInicio, salario, nomDpto, jefeDpto, puntos)</code></p> <p>Teniendo en cuenta que:</p> <ol> <li>Cada proyecto tiene un nombre \u00fanico.</li> <li>Los nombres de los empleados, jefes de proyectos y jefes de departamentos no son \u00fanicos.</li> <li>Cada proyecto tiene un jefe de proyecto.</li> <li>Muchos empleados se pueden asignar para trabajar en cada proyecto, y un empleado se puede asignar a m\u00e1s de un proyecto.</li> <li>El atributo <code>horas</code> indica la cantidad de horas por semana que un empleado particular se asigna a trabajar en un proyecto particular.</li> <li>El atributo <code>fondos</code> almacena la cantidad de dinero asignada para un proyecto.</li> <li>El atributo <code>fInicio</code> da la fecha de comienzo para un proyecto.</li> <li>El atributo <code>nomDpto</code> proporciona el nombre del departamento al que pertenece un empleado. Los nombres de departamentos son \u00fanicos.</li> <li>El atributo <code>jefeDpto</code> proporciona el nombre del supervisor de departamento, que puede no ser el mismo que el supervisor o jefe del proyecto.</li> <li>El atributo <code>puntos</code> proporciona una medida del buen hacer de un empleado en un proyecto particular. El jefe de proyecto asigna la calificaci\u00f3n al final del trabajo del empleado en dicho proyecto.</li> </ol> nomProy jefeProy idEmp horas nomEmp fondos fInicio salario nomDpto jefeDpto puntos Zeus Duque E101 25 Pedro 20.000 \u00bc/24 30.000 Aeron\u00e1utica \u00c1ngel 9 Zeus Duque E105 30 Laura 20.000 \u00bc/24 26.000 Rob\u00f3tica Paco Zeus Duque E110 10 Miguel 20.000 \u00bc/24 21.000 Aeron\u00e1utica \u00c1ngel 8 Atreus Meca E101 5 Pedro 50.000 15/10/24 30.000 Aeron\u00e1utica \u00c1ngel Atreus Meca E110 20 Miguel 50.000 15/10/24 21.000 Aeron\u00e1utica \u00c1ngel Atreus Meca E120 15 Noa 50.000 15/10/24 25.000 Lanzamientos Paco"},{"location":"temas/02B/2.B-Actividades.html#ac215b","title":"AC215.B","text":"Ejercicio AC215.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6g // 3p <p>A partir del siguiente esquema relacional de una librer\u00eda, desnormal\u00edzalo para simplificar su estructura:</p> <ul> <li> <p>LIBRO (isbn, titulo, autor, editorial, numPaginas)</p> <ul> <li>\u00b7 PK: (nif)</li> <li>\u00b7 FK: (autor) \u2192 ESCRITOR</li> <li>\u00b7 FK: (editorial) \u2192 EDITORIAL</li> </ul> </li> <li> <p>ESCRITOR (nif*, nombre, pais)</p> <ul> <li>\u00b7 PK: (nif)</li> </ul> </li> <li> <p>EDITORIAL (codigo*, nombre, pais)</p> <ul> <li>\u00b7 PK: (codigo)</li> </ul> </li> </ul>"},{"location":"temas/02B/2.B-Actividades.html#ar216b","title":"AR216.B","text":"Ejercicio AC216.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6g // 3p <p>Realiza la normalizaci\u00f3n, paso a paso, indicando en cada uno de ellos las tablas resultantes y sus datos, de los siguientes supuestos:</p> <p>a. Un tabla que contiene la informaci\u00f3n de estudiantes y los cursos en los que se matricula, la cual tiene la siguiente informaci\u00f3n:</p> <pre><code>| idEstudiante | nomEstudiante | cursos |\n| --- | --- | --- |\n| 134 | Javier Hern\u00e1ndez | Matem\u00e1ticas, Biolog\u00eda, F\u00edsica |\n| 178 | Sonia Tovar | Biolog\u00eda, Inform\u00e1tica |\n| 249 | Juani Moya | Inform\u00e1tica, Matem\u00e1ticas |\n</code></pre> <p>b. Una tabla que contiene informaci\u00f3n de productos y sus proveedores</p> <pre><code>| idProducto | nomProducto | nomProveedor | telefProveedor | categor\u00eda |\n| --- | --- | --- | --- | --- |\n| 1234 | Tela de ara\u00f1a | Spiderman | 666000000 | Consumible |\n| 3378 | M\u00e1quina del Tiempo | Dr Who | 777000000 | Veh\u00edculo |\n| 2549 | Varita M\u00e1gica | Harry Potter | 888000000 | Herramienta |\n</code></pre>"},{"location":"temas/02B/2.B-Actividades.html#ar217b","title":"AR217.B","text":"Ejercicio AC217.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6g // 3p <p>A partir del siguiente esquema relacional, se nos pide optimizar el modelo aplicando desnormalizaci\u00f3n, ya que, para cada artista, se quieren recuperar las 5 canciones primeras canciones, y con el dise\u00f1o actual, la consulta es muy lenta:</p> <ul> <li> <p>ARTISTA (id, nombre, foto)</p> <ul> <li>\u00b7 PK: (id)</li> </ul> </li> <li> <p>ALBUM (id, nombre, foto, artista_id)</p> <ul> <li>\u00b7 PK: (id)</li> <li>\u00b7 FK: (artista_id) \u2192 ARTISTA</li> <li>\u00b7 VNN: (artista_id)</li> </ul> </li> <li> <p>CANCION (id, nombre, letra, album_id*)</p> <ul> <li>\u00b7 PK: (id)</li> <li>\u00b7 FK: (album_id) \u2192 ARTISTA</li> <li>\u00b7 VNN: (album_id)</li> </ul> </li> </ul> <p>\u00bfQu\u00e9 has hecho para mejorar el rendimiento? \u00bfEn qu\u00e9 forma normal se encuentra ahora el modelo relacional?</p> <p>Justifica tu respuesta.</p>"},{"location":"temas/02B/2.B-Actividades.html#ar218b","title":"AR218.B.","text":"Ejercicio AC218.B Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6b, CE6c, CE6d, CE6e, CE6f, CE6g // 3p <p>Una vez finalizada la unidad, responde todas las preguntas del cuestionario, con al menos un par de l\u00edneas para cada una de las cuestiones.</p> <p>Cuestionario</p> <ol> <li>\u00bfQu\u00e9 diferencia el modelo conceptual del l\u00f3gico?</li> <li>\u00bfCu\u00e1l es el elemento principal del modelo relacional?</li> <li>\u00bfPodemos tener dos atributos con el mismo nombre?</li> <li>Si una tabla tiene 3 columnas y 5 filas, \u00bfCu\u00e1l es su cardinalidad y grado?</li> <li>\u00bfPodemos tener una tabla sin columnas?</li> <li>\u00bfY una tabla sin filas?</li> <li>\u00bfQu\u00e9 funci\u00f3n tiene la clave primaria?</li> <li>\u00bfQu\u00e9 es una clave alternativa?</li> <li>\u00bfTodas las tablas tienen m\u00e1s de una clave candidata?</li> <li>\u00bfEn qu\u00e9 consiste la integridad referencial?</li> <li>\u00bfEl valor de una clave ajena siempre debe tener valor?</li> <li>\u00bfQu\u00e9 es una dependencia funcional?</li> <li>\u00bfY una dependencia funcional completa?</li> <li>\u00bfEn qu\u00e9 consiste la 1FN? \u00bfY la 2FN? \u00bfY la 3FN?</li> <li>\u00bfQu\u00e9 es la denormalizaci\u00f3n y cu\u00e1l es su objetivo?</li> </ol>"},{"location":"temas/02C/index.html","title":"Inicio","text":""},{"location":"temas/02C/index.html#ut2-c-diseno-logico-transformacion-del-modelo-er-a-mr","title":"UT2-C Dise\u00f1o L\u00f3gico: Transformaci\u00f3n del modelo ER a MR","text":"<p>Informaci\u00f3n de la unidad</p> ContenidosPropuesta did\u00e1ctica <p>Interpretaci\u00f3n de Diagramas Entidad/Relaci\u00f3n:</p> <p>\u2212 Paso del diagrama E/R al modelo relacional.</p> <p>En esta unidad vamos a comenzar a trabajar el RA6: Dise\u00f1a modelos relacionales normalizados interpretando diagramas entidad/relaci\u00f3n.</p> <p>Criterios de evaluaci\u00f3n</p> <ul> <li>CE6a: Se han utilizado herramientas gr\u00e1ficas para representar el dise\u00f1o l\u00f3gico.</li> <li>CE6b: Se han identificado las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6c: Se han identificado los campos que forman parte de las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6d: Se han analizado las relaciones entre las tablas del dise\u00f1o l\u00f3gico.</li> <li>CE6e: Se han identificado los campos clave.</li> <li>CE6f: Se han aplicado reglas de integridad.</li> <li>CE6g: Se han aplicado reglas de normalizaci\u00f3n.</li> <li>CE6h: Se han analizado y documentado las restricciones que no pueden plasmarse en el dise\u00f1o l\u00f3gico.</li> </ul>"},{"location":"temas/02C/index.html#contenido-de-la-unidad","title":"Contenido de la unidad","text":"<p>El contenido de la unidad est\u00e1 repartido en los siguientes bloques.</p> <p>\u00cdndice:</p> <ul> <li>2.5 Transformaci\u00f3n del modelo ER a MR</li> <li>2.C Actividades</li> </ul>"},{"location":"temas/02C/index.html#programacion-de-aula-13h","title":"Programaci\u00f3n de Aula (13h)","text":"<p>Esta unidad es la cuarta, con lo que se imparte en la primera evaluaci\u00f3n, durante el mes de noviembre, con una duraci\u00f3n estimada de 13 sesiones lectivas:</p> Sesi\u00f3n Contenidos Actividades Criterios trabajados 1 Paso de E/R al MR 2 Relaciones 1:N y 1:1 AC401, AC402 CE6b-CE6f, CE6h 3 Relaciones N:M AC403 CE6b-CE6f, CE6h 4 Restricciones AC406 CE6b-CE6f, CE6h 5 Generalizaci\u00f3n AC408 CE6b-CE6f, CE6h 6 Pr\u00e1ctica \"Cocina\" PR409 CE6a-CE6g, CE6h 7 De MR a EER I 8 De MR a EER II AC410, AC411 CE6d 9 Interpretando MR AC415 CE6a-CE6f 10 Reto - dise\u00f1o l\u00f3gico PY416 RA6 11 Pr\u00e1ctica \"Ticket de compra\" PR417 RA6 12 Prueba objetiva PO418 RA6 13 Prueba objetiva"},{"location":"temas/02C/2.5-Transformacion.html","title":"2.4 Transformaci\u00f3n ER a MR","text":""},{"location":"temas/02C/2.5-Transformacion.html#25-transformacion-del-modelo-er-a-mr","title":"2.5. Transformaci\u00f3n del modelo ER a MR","text":"<p>\ud83d\udc49 Pasos</p> <p>Una vez conocido el modelo conceptual entidad-relaci\u00f3n y el modelo l\u00f3gico relacional, vamos a estudiar como transformar y pasar de uno a otro. Para ello, seguiremos los siguientes pasos:</p> <ul> <li>Entidades  \u2192  Tablas</li> <li>Atributos  \u2192  Columnas</li> <li>Atributos identificadores  \u2192  Claves primarias</li> <li>Atributos de relaciones  \u2192  Columnas detr\u00e1s de claves ajenas</li> <li>Relaciones  \u2192  Claves ajenas y/o tablas</li> </ul> <p>Resumen de transformaci\u00f3n</p> <p>Transformaci\u00f3n General</p> Elemento Modelo ER Transformaci\u00f3n a Modelo Relacional (Tablas) Tratamiento de Claves y Cardinalidad (Reglas) Entidad Fuerte Cada entidad se convierte en una tabla. La clave primaria (PK) de la tabla es el identificador de la entidad. Los dem\u00e1s atributos son columnas. Entidad D\u00e9bil Cada entidad d\u00e9bil se convierte en una tabla. La PK de la tabla es compuesta: la PK de la entidad fuerte propietaria (como FK) + el discriminante de la entidad d\u00e9bil. Relaci\u00f3n 1 a 1 (1:1) Se a\u00f1ade una clave for\u00e1nea (FK) en una de las dos tablas. \u2022 La columna FK debe tener siempre una restricci\u00f3n UNIQUE.\u2022 Regla de Ubicaci\u00f3n (para evitar NULLs): Si la cardinalidad es <code>(1,1)</code> en un lado y <code>(0,1)</code> en el otro, la FK siempre se coloca en la tabla del lado <code>(0,1)</code>. De este modo, la FK puede ser declarada como NOT NULL.\u2022 Si la cardinalidad es <code>(0,1)</code> en ambos lados, la FK puede ir en cualquiera de las dos tablas y debe admitir NULL. Relaci\u00f3n 1 a Muchos (1:N) No se crea una tabla nueva para la relaci\u00f3n. La PK de la entidad del lado \"1\" migra a la tabla de la entidad del lado \"N\" como una FK. Si la participaci\u00f3n m\u00ednima del lado \"1\" es 0, la FK admite NULL. Si es 1, es NOT NULL. Relaci\u00f3n Muchos a Muchos (M:N) Siempre se crea una nueva tabla intermedia para la relaci\u00f3n. \u2022 La tabla intermedia contiene como FK las PK de las dos entidades que relaciona.\u2022 Si la relaci\u00f3n tiene atributos propios, estos se convierten en columnas adicionales en esta misma tabla intermedia.\u2022 La PK de la nueva tabla es, por lo general, la combinaci\u00f3n de ambas FK (y a veces, tambi\u00e9n de alg\u00fan atributo de la relaci\u00f3n si es necesario para garantizar la unicidad). Relaci\u00f3n Reflexiva 1:1 Se a\u00f1ade una columna en la propia tabla. La columna es una FK que referencia a la PK de la misma tabla. Debe tener la restricci\u00f3n UNIQUE y ser NULLABLE. Relaci\u00f3n Reflexiva 1:N Se a\u00f1ade una columna en la propia tabla. La columna es una FK que referencia a la PK de la misma tabla (Ej: <code>id_jefe</code> en la tabla <code>EMPLEADO</code>). Es NULLABLE. Relaci\u00f3n Reflexiva M:N Se crea una nueva tabla intermedia. La tabla intermedia tiene dos columnas FK, ambas referenciando a la PK de la tabla original. Sus atributos (si los tiene) tambi\u00e9n van en esta tabla. <p>Transformaci\u00f3n de Jerarqu\u00edas (Generalizaci\u00f3n / Especializaci\u00f3n - ISA)</p> Estrategia de Transformaci\u00f3n Descripci\u00f3n de las Tablas Resultantes Cu\u00e1ndo Usarla (Ventajas / Desventajas) 1. Una Sola Tabla (Todo en la Superclase) Se crea una \u00fanica tabla para la superclase que contiene todos los atributos (comunes y espec\u00edficos de todas las subclases). Se a\u00f1ade una columna \"tipo\" para discriminar. Ventaja: Consultas r\u00e1pidas (no se necesitan JOINs).Desventaja: Mucho espacio desperdiciado por valores NULL en atributos no aplicables. 2. Tabla por cada Subclase (Herencia Concreta) Se crea una tabla por cada subclase concreta (hija). No hay tabla para la superclase (padre). Cada tabla hija repite los atributos comunes adem\u00e1s de los suyos espec\u00edficos. Ventaja: No hay valores NULL. Consultas a una subclase son directas.Desventaja: Los atributos comunes est\u00e1n duplicados. Consultar sobre todos los tipos requiere uniones (<code>UNION</code>). 3. Tabla por cada Clase (Herencia de Tablas) Se crea una tabla para la superclase con los atributos comunes y una tabla por cada subclase con solo sus atributos espec\u00edficos. La PK de la superclase migra como PK y FK a las tablas hijas. Ventaja: Modelo m\u00e1s normalizado y fiel al ER. Sin redundancia ni NULLs excesivos.Desventaja: Las consultas a menudo requieren JOINs entre la tabla padre y la hija, lo que puede ser m\u00e1s lento. <p>Transformaci\u00f3n de Agregaciones</p> Elemento ER Concepto Clave Transformaci\u00f3n a Modelo Relacional Agregaci\u00f3n Una agregaci\u00f3n trata una relaci\u00f3n existente como si fuera una entidad abstracta para poder participar en otra relaci\u00f3n de nivel superior. Paso 1: Se transforma la relaci\u00f3n interna (la que es agregada) siguiendo las reglas normales (ej. si es M:N, se crea una tabla intermedia <code>T_Interna</code>).Paso 2: Se transforma la relaci\u00f3n externa (la que conecta con la agregaci\u00f3n). Para ello, la clave primaria de la tabla <code>T_Interna</code> migra como FK a la tabla de la entidad externa (si es 1:N) o a una nueva tabla intermedia (si es M:N)."},{"location":"temas/02C/2.5-Transformacion.html#atributos","title":"\ud83d\udcc1 Atributos","text":"<p>Conviene recordar que dentro de una tabla, no se puede repetir el nombre de ning\u00fan atributo, pero s\u00ed en tablas diferentes.</p> <p>Algunos profesionales prefieren que no se repitan los identificadores entre diferentes tablas de una misma BD, aunque es cierto que las herramientas ORM de generaci\u00f3n de modelos f\u00edsicos a partir de definici\u00f3n de clases u objetos suelen nombrar todas las claves primarias como <code>id</code> o <code>_id</code>.</p> <p>En cuanto a los atributos compuestos, se separan como atributos individuales dentro de la tabla, pudi\u00e9ndoles poner el prefijo del atributo compuesto o el propio nombre del atributo si no da pie a confusi\u00f3n.</p> <p>Para los atributos derivados, dependiendo del caso, bien no se a\u00f1aden como atributo (ya que se obtendr\u00e1n a partir de los datos de las relaciones), o bien se renombra el atributo para almacenar el dato en crudo sobre el cual se realiza el c\u00e1lculo necesario.</p> <p></p> <p>Transformaci\u00f3n de atributos</p> <p>Por ejemplo, si partimos de un sencillo modelo ER de un cliente, su transformaci\u00f3n al modelo relacional ser\u00eda la siguiente:</p> <p><code>**CLIENTE** (dni, nombre, calle, numPiso, ciudad, fnac)</code> <code>\u00b7 PK: (dni)</code></p> <p>Destacar que no hemos puesto el nombre del atributo compuesto, sino cada uno de sus atributos, y adem\u00e1s, hemos renombrado <code>numero</code> a <code>numPiso</code> para evitar confusiones con otras entidades; respecto al atributo derivado edad, lo hemos cambiado por la fecha de nacimiento.</p> <p>Respecto a los atributos multivaluados, derivan en una relaci\u00f3n uno a muchos (1:N), tal como veremos a continuaci\u00f3n.</p>"},{"location":"temas/02C/2.5-Transformacion.html#claves-compuestas","title":"Claves compuestas","text":"<p>Normalmente, cada entidad tendr\u00e1 un atributo identificador que traduciremos en una clave primaria. Pero puede darse el caso que una entidad tenga una clave compuesta, o tenga marcados dos atributos identificadores (en este caso, uno ser\u00e1 la clave primaria y el otro ser\u00e1 una clave alternativa que marcaremos como \u00fanica).</p> <p>Por ejemplo, el siguiente diagrama representa un aula que se identifica mediante una clave compuesta:</p> <p></p> <p><code>**AULA** (edificio, numSala, numAsientos)</code> <code>\u00b7 PK: (edificio, numSala)</code></p> <p>Sin embargo, tambi\u00e9n podemos tener un empleado con dos atributos identificadores:</p> <p><code>**EMPLEADO** (codigo, nif, nombre, salario)</code> <code>\u00b7 PK: (codigo)</code> <code>\u00b7 UK: (nif)</code></p>"},{"location":"temas/02C/2.5-Transformacion.html#transformacion-de-relaciones-fuertes","title":"\u26a1 Transformaci\u00f3n de Relaciones (fuertes)","text":"<p>Al transformar las relaciones, dependiendo de la cardinalidad deberemos colocar la clave ajena en un lugar u otro.</p> <p>Cada entidad se transforma en una tabla, donde los atributos de la entidad se convierten en columnas de la tabla, y el atributo identificador se convierte en la clave primaria de la tabla.</p> <ul> <li>Entidades. Las entidades pasan a ser tablas</li> <li>Atributos. Los atributos pasan a ser columnas o atributos de la tabla.<ul> <li>Atributos identificadores. Pasan a ser claves primarias o alternativas.<ul> <li>Claves primarias. Son aquellos atributos que identifican de forma \u00fanica cada tupla de la tabla.</li> <li>Claves alternativas. Son aquellos atributos que tambi\u00e9n identifican de forma \u00fanica cada tupla de la tabla, pero no son la clave primaria. Estos atributos tendr\u00e1n las restricciones UNIQUE y NOT NULL.</li> </ul> </li> <li>Atributos compuestos. Se transforman en los atributos que los componen. Por ejemplo, si vi\u00e9ramos un atributo compuesto que fuera Direcci\u00f3n, que estuviera formado por calle, n\u00famero, piso y puerta, se transformar\u00e1 en los atributos de la relaci\u00f3n calle, n\u00famero, piso y puerta.</li> <li>Atributos obligatorios. Se convierten en atributos de la relaci\u00f3n con la restricci\u00f3n de NOT NULL, es decir no puede ser nulo.</li> <li>Atributos opcionales. Pueden tomar valores nulos.</li> <li>Atributos multivaluados. Se transforman en una nueva tabla, cuya clave primaria est\u00e1 formada por la clave primaria de la entidad en la que se sit\u00faa el atributo multivaluado m\u00e1s el nombre del atributo multivaluado. En ocasiones, si el atributo multivaluado no admite repeticiones, es suficiente \u00e9ste como clave primaria.</li> </ul> </li> </ul>"},{"location":"temas/02C/2.5-Transformacion.html#transforma-relacion-1n","title":"\u2198\ufe0f Transforma relacion 1:N","text":"<p>La clave primaria de la entidad con cardinalidad m\u00e1xima a 1 se incluye en la entidad con cardinalidad m\u00e1xima N como clave ajena.</p> <p></p> <p><code>**A** (a0, a1, b0*)</code> <code>\u00b7 PK: (a0)   \u00b7 FK: (b0) \u2192 B</code></p> <p><code>**B** (b0, b1)</code> <code>\u00b7 PK: (b0)</code></p> <p>De esta manera, tenemos que dado un registro en A, tendremos uno en B. Y dado un B, podemos tener muchos en A, cumpliendo la cardinalidad de uno a muchos.</p> <p>Ejemplo 2: Relaci\u00f3n 1:N. Personas y tel\u00e9fonos</p> <p>Por ejemplo, si tenemos un modelo donde, en vez de un atributo multivaluado, hemos creado una entidad para modelar que una persona puede tener muchos tel\u00e9fonos:</p> <p></p> <p>Si aplicamos la transformaci\u00f3n reci\u00e9n vista, obtenemos el siguiente esquema l\u00f3gico:</p> <p><code>**PERSONA** (dni, nombre, direccion)</code> <code>\u00b7 PK: (dni)</code> <code>**TELEFONO** (numero, propio, dni*)</code> <code>\u00b7 PK: (numero)</code> <code>\u00b7 FK: (dni) \u2192 PERSONA</code></p> <p>Conviene recordar que la clave ajena ser\u00e1 la clave primaria que nos hemos traido desde la entidad con cardinalidad m\u00e1xima a 1 (en este caso, llevamos la clave primaria de <code>PERSONA</code> a <code>TELEFONO</code>), de manera que el atributo <code>TELEFONO.dni</code> representa la relaci\u00f3n <code>TENER</code>.</p> <p>Las claves ajenas se colocan tras los atributos de cada tabla (en este caso, detr\u00e1s de <code>numero</code> y <code>propio</code>), y normalmente, se nombran con el mismo nombre de la clave primaria. Si diera pie a confusi\u00f3n, es recomendable renombrarla pudiendo como sufijo el nombre de la tabla.</p> <p>Finalmente, si quisi\u00e9ramos generar el diagrama relacional, obtendr\u00edamos una gr\u00e1fico similar al siguiente, donde se puede ver como desde <code>TELEFONO.dni</code> se conecta con <code>PERSONA.dni</code>:</p> <p></p> Esquema relacional en ERDPlus <p></p> <p>\ud83d\udca1 Recordad la regla de integridad referencial del modelo relacional, donde cada valor de la clave ajena debe coincidir con un valor existente de la clave primaria a la que referencia (o ser nulo). De esta manera, no podemos tener un dni en la tabla TELEFONO que no exista previamente en la tabla PERSONA.</p> <ul> <li> <p><code>PERSONA</code></p> dni nombre direccion 11111111A Pedro Casas Calle Mayor, 1 22222222B Laura Garc\u00eda Avda Libertad, 33 33333333C Mireia Vidal Paseo de la Estaci\u00f3n, 5 </li> <li> <p><code>TELEFONO</code></p> numero propio dni<code>*</code> 636111111 true 22222222B 686222222 true 11111111A 666333333 false 11111111A 666444444 true --error: un telefono debe pertenecer a una persona-- </li> </ul> <p>Renombrando claves ajenas</p> <p>Aunque es muy com\u00fan que el nombre del atributo que hace de clave ajena coincida con la clave primaria a la que apunta, podemos renombrarla y ponerle un nombre que facilite su comprensi\u00f3n.</p> <p>En el caso de la tabla <code>TELEFONO</code>, el campo <code>dni</code> hace referencia al titular del tel\u00e9fono, no es que un tel\u00e9fono tenga un dni. Podr\u00edamos haber modelado la tabla renombrando el <code>TELEFONO.dni</code> como <code>TELEFONO.propietario</code> dando un valor sem\u00e1ntico al atributo:</p> <p><code>**TELEFONO** (numero, propio, propietario*)</code> <code>\u00b7 PK: (numero)</code> <code>\u00b7 FK: (propietario) \u2192 PERSONA</code></p> <p>Lo que s\u00ed es obligatorio es que los dominios de las claves ajenas y las claves primarias coincidan.</p> <p>Atributos multivaluados</p> <p>Cuando tenemos un atributo multivaluado, \u00e9ste se mapea en una relaci\u00f3n separada.</p> <p>Podemos crear una nueva tabla con un c\u00f3digo o atributo identificador para cada registro y a\u00f1adir una clave ajena a modo de relaci\u00f3n 1:N.</p> <p></p> <p>As\u00ed pues, si tenemos un empleado que tiene muchos tel\u00e9fonos mediante un atributo, generaremos dos tablas:</p> <p><code>**EMPLEADO** (nif, nombre)</code> <code>\u00b7 PK: (nif)</code> </p> <p><code>**TELEFONO** (numero, dni*)</code> <code>\u00b7 PK: (numero)</code> <code>\u00b7 FK: (dni) \u2192 EMPLEADO</code></p> <p>Si fuera un valor que pudiese compartirse entre varios empleados, como pudiera ser que un empleado tiene muchos cargos, y ese mismo cargo lo pueden tener varios empleados (pero no nos interesa a priori modelarlo conceptualmente como una entidad), podr\u00edamos crear una clave primaria compuesta:</p> <p><code>**CARGO** (cargo, dni*)</code> <code>\u00b7 PK: (cargo, dni)</code> <code>\u00b7 FK: (dni) \u2192 EMPLEADO</code></p>"},{"location":"temas/02C/2.5-Transformacion.html#transformar-relacion-11","title":"\u2198\ufe0f Transformar relaci\u00f3n 1:1","text":"<p>En este caso, la clave ajena se pone en cualquier entidad y se a\u00f1ade como clave alternativa/\u00fanica (<code>UK</code>).</p> <p>Como norma general, las relaciones con cardinalidad 1:1 no generan una tabla, lo que haremos ser\u00e1 que la clave primaria de una entidad pasar\u00e1 a formar parte de la tabla de la otra entidad, y pasar\u00e1 como un atributo.</p> <p>La participaci\u00f3n de cada una de las entidades ser\u00e1 lo que nos ayude a decidir cu\u00e1l ser\u00e1 la entidad que pasar\u00e1 su clave primaria a la otra entidad.</p> <p>\ud83d\udd25 Excepci\u00f3n: S\u00f3lo existe un caso donde una relaci\u00f3n con cardinalidad 1:1 genera una nueva tabla, y ser\u00e1 cuando la participaci\u00f3n de las dos entidades sea de tipo (0,1) \u2013 (0,1).</p> <p>Veamos ejemplos de los distintos casos:</p> <p>Participaci\u00f3n (1,1)-(0,1)</p> <p>En estos casos, la clave primaria de la entidad del lado (1,1) se propagar\u00eda la entidad del lado (0,1), es decir, la clave primaria de la entidad USUARIO pasa a la entidad CANAL_YOUTUBE, quedando las tablas del modelo as\u00ed:</p> <p> </p> <p>Participaci\u00f3n (1,1)-(1,1)</p> <p>Estos casos podemos resolverlos de dos maneras distintas:</p> <ol> <li>Propagando la clave primaria de cualquiera de las entidades a la otra. Da igual que entidad sea la que propague la clave. Este es la manera m\u00e1s habitual de proceder.</li> <li>La clave primaria de cada entidad se propaga en la otra entidad, quedando algo as\u00ed:</li> </ol> <p> </p> <p>Muy importante: En este caso, la clave ajena deben ser clave \u00fanica (<code>UK</code>), ya que la relaci\u00f3n es 1:1. Es decir, debe tener las restricciones de <code>NOT NULL</code> y <code>UNIQUE</code>.</p> <p>Participaci\u00f3n (0,1)-(0,1)</p> <p></p> <p>En este caso tenemos dos opciones:</p> <ol> <li> <p>Propagamos la clave primaria de una entidad a la otra entidad. Esta es la soluci\u00f3n m\u00e1s usada.</p> </li> <li> <p>Crear una nueva tabla en la que almacenaremos la relaci\u00f3n entre las dos entidades. La clave primaria de esta entidad podr\u00eda ser cualquiera de las claves primarias de la otras entidades.</p> </li> </ol> <ul> <li> <p> </p><p>Optci\u00f3n 1</p><p></p> </li> <li> <p> </p><p>Optci\u00f3n 2</p><p></p> </li> </ul> <p></p>"},{"location":"temas/02C/2.5-Transformacion.html#transformacion-relaciones-reflexivas","title":"\u2198\ufe0f Transformaci\u00f3n Relaciones Reflexivas","text":"<p>Interrelaciones Reflexivas 1:M</p> <p>La clave primaria se almacena en la misma tabla como atributo.</p> <ul> <li> <p> </p><p>Relaci\u00f3n reflexiva</p><p></p> </li> <li> <p> </p><p>Transformaci\u00f3n: Relaci\u00f3n reflexiva</p><p></p> </li> </ul> <p>Interrelaciones Reflexivas N:M</p> <ul> <li> <p> </p><p>Relaci\u00f3n reflexiva N:M</p><p></p> </li> <li> <p> </p><p>Transformaci\u00f3n: Relaci\u00f3n reflexiva N:M</p><p></p> </li> </ul> <p>Claves ajenas compuestas</p> <p>\u00bfY si nuestra entidad tiene una clave primaria compuesta? En este caso, la clave ajena tambi\u00e9n deber\u00e1 compuesta. Esto se aplica a cualquier transformaci\u00f3n, 1:1, 1:N, N:M  o reflexivas.</p>"},{"location":"temas/02C/2.5-Transformacion.html#transformacion-de-relacion-nm","title":"\u2198\ufe0f Transformaci\u00f3n de relaci\u00f3n N:M","text":"<p>En el caso de las relaciones muchos a muchos, la relaci\u00f3n se traduce en una nueva tabla, cuya clave primaria se compone de las claves primarias referenciadas, y cada clave primaria es una clave ajena.</p> <p>En caso del que la interrelaci\u00f3n tuviera un atributo, se convertir\u00eda en un atributo de la nueva relaci\u00f3n. En algunos casos, sobre todo cuando las interrelaciones tienen atributos que denotan una dimensi\u00f3n temporal (generalmente atributos que recogen fechas, horas o intervalos de tiempo), estos deben formar parte de la clave primaria de la nueva relaci\u00f3n.</p> <p>Para este ejemplo, tenemos una empresa de transportes, donde un conductor conduce varios autobuses, y luego un autobus lo conducen varios conductores en diferentes trayectos, dando lugar a una relaci\u00f3n muchos a muchos, donde en la relaci\u00f3n a\u00f1adimos el atributo <code>trayecto</code>:</p> <ul> <li> <p> </p><p>Relaci\u00f3n N:M</p><p></p> </li> <li> <p> </p><p>Transformaci\u00f3n: Relaci\u00f3n N:M</p><p></p> </li> </ul> <p>El orden importa</p> <p>Cuando pasamos una relaci\u00f3n uno a muchos o muchos a muchos de un modelo ER a un modelo relacional, primero crearemos las tablas que no tienen claves ajenas.</p> <p>En este caso, empezaremos por <code>CONDUCTOR</code> y <code>AUTOBUS</code>, definiendo sus claves primarias y atributos.</p> <p>A continuaci\u00f3n, crearemos la/s tabla/s que contiene claves ajenas a las tablas ya creadas, esto es, la tabla <code>CONDUCIR</code> que apunta a <code>CONDUCTOR</code> y <code>AUTOBUS</code>.</p> <p>En este caso, el diagrama del modelo relacional se traduce en tres tablas conectadas, colocando el atributo de la relaci\u00f3n en la nueva tabla <code>CONDUCIR</code>. Destacar como la tabla tiene una clave primaria compuesta, donde de cada parte de la clave sale una clave ajena a cada una de las tablas que relaciona:</p> <p>\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 La cardinalidad 0..N en ambos lados de la relaci\u00f3n se cumple, ya que un conductor puede no conducir ning\u00fan autob\u00fas (0) o varios (N), y un autob\u00fas puede no ser conducido por ning\u00fan conductor (0) o varios (N). \u00bfC\u00f3mo se refleja esto en las tablas? Mediante la ausencia de registros en la tabla intermedia <code>CONDUCIR</code>.</p> <p>Y comprobamos con datos c\u00f3mo s\u00ed se cumplen las cardinalidades:</p> <ul> <li> <p><code>AUTOBUS</code></p> matricula<code>*</code> categoria 1111ABC normal 2222BCD larga distancia 3333DEF larga distancia </li> <li> <p><code>CONDUCTOR</code></p> nif<code>*</code> nombre experiencia 11111111A Andr\u00e9s Checa 1 22222222B Jos\u00e9 Escrig 2 33333333B Marina Fern\u00e1ndez 3 </li> <li> <p><code>CONDUCIR</code></p> conductorId<code>*</code> autobusId<code>*</code> trayecto 11111111A 1111ABC A 22222222B 1111ABC B 11111111A 3333DEF C </li> </ul>"},{"location":"temas/02C/2.5-Transformacion.html#nm-con-dimension-temporal","title":"N:M con dimensi\u00f3n temporal","text":"<p>Si la relaci\u00f3n tiene atributos de tipo fecha, ser\u00e1 necesario incluir al menos uno en la clave primaria.</p> <p>Supongamos una empresa de alquiler de veh\u00edculos, donde tenemos que un cliente puede alquilar el mismo veh\u00edculo en fechas diferentes, o alquilar diferentes veh\u00edculos. Claramente, un veh\u00edculo lo pueden alquilar diferentes clientes en fechas diferentes. Para ello, creamos una relaci\u00f3n muchos a muchos, colocando la fecha de inicio y de finalizaci\u00f3n del alquiler en la propia relaci\u00f3n.</p> <ul> <li> <p> </p><p>Relaci\u00f3n N:M dimension temporal</p><p></p> </li> <li> <p> </p><p>Transformaci\u00f3n: Relaci\u00f3n N:M dimension temporal</p><p></p> </li> </ul> <p>Y la tabla que las relaciona con el atributo de fecha de inicio como parte de la clave primaria (de este modo, el cliente A puede alquilar el veh\u00edculo X en d\u00edas diferentes)</p>"},{"location":"temas/02C/2.5-Transformacion.html#restricciones","title":"\u274c Restricciones","text":"<p>Una vez visto como se transforman los atributos y las relaciones, vamos a ver algunas particularidades a la hora de aplicar restricciones sobre las cardinalidades.</p>"},{"location":"temas/02C/2.5-Transformacion.html#cardinalidad-minima-1","title":"Cardinalidad m\u00ednima 1","text":"<p>Cuando la cardinalidad m\u00ednima es 1, independientemente de la cardinalidad m\u00e1xima, estamos indicando que s\u00ed o s\u00ed dicha clave ajena debe tener un valor. Para cumplirla, \u00fanicamente debemos marcar la clave ajena como valor no nulo (VNN).</p> <p>Usuario y Post</p> <p>Un usuario puede escribir muchos Post y un Post debe ser escrito por un \u00fanico usuario. Relaci\u00f3n 1-N, con cardinalidad (1,1)-(1,N).</p> <p>En este caso, para indicar la cardinalidad m\u00ednima a 1 (un post debe tener un usuario), se indica el campo <code>usuarioId</code> (FK) en la tabla Post, como NN (Not Null)</p> <ul> <li> <p> </p><p>Cardinalidad m\u00ednima a 1</p><p></p> </li> <li> <p> </p><p>Cardinalidad m\u00ednima a 1</p><p></p> </li> </ul> <p>\ud83d\udd25 En los casos de cardinalidad m\u00ednima en relaciones 1:1, que son las que cambian m\u00e1s la transformaci\u00f3n ya lo vimos en los ejemplos de esos casos.</p>"},{"location":"temas/02C/2.5-Transformacion.html#identificacion","title":"Identificaci\u00f3n","text":"<p>En las restricciones de identificaci\u00f3n, la entidad d\u00e9bil se identifica, completamente o en parte, con la entidad fuerte. Es decir, parte de la clave primaria de la entidad d\u00e9bil son los atributos clave de la entidad fuerte. Es por ello, que la clave ajena debe formar parte de la clave primaria, la cual se define como una clave compuesta por la combinaci\u00f3n de la clave primaria de la entidad fuerte y la d\u00e9bil:</p> <p></p> <p>Los atributos clave de la entidad d\u00e9bil que no apuntan a la entidad fuerte se conocen como clave parcial. En el ejemplo anterior, <code>a0</code> ser\u00eda la clave parcial de la entidad d\u00e9bil <code>A</code>.</p> <p>En el siguiente ejemplo, tenemos que cada sala se identifica por el cine al que pertenece por un n\u00famero de sala, el cual se reinicia por cada cine. Es decir, la sala 1 del cine IMF no es la misma tupla que la sala 1 del cine ABC:</p> <ul> <li> <p> </p><p>Ejemplo de restricci\u00f3n de IDdentificacion</p><p></p> </li> <li> <p> </p><p>Ejemplo de restricci\u00f3n de IDdentificacion</p><p></p> </li> </ul> <p>Las tablas de datos de ejemplo demuestran que aunque la entidad d\u00e9bil repita n\u00famero, la clave de la entidad fuerte deshace la ambig\u00fcedad:</p> <ul> <li> <p><code>CINE</code></p> codigo nombre direccion 1 ABC Elche 2 IMF Ondara 3 Ode\u00f3n Elche </li> <li> <p><code>SALA</code></p> numero cineId<code>*</code> aforo 1 1 50 1 2 60 1 3 70 2 1 55 </li> </ul> <p>Ejemplo resuelto</p> <p>Supongamos el diagrama ER que vimos en la unidad 2 al tratar las [restricciones de ID]. Vamos a obtener el modelo MR del mismo, teniendo en cuenta que la entidad <code>LINEA_PEDIDO</code> es una entidad d\u00e9bil respecto a la relaci\u00f3n <code>CONTENER</code>, pero hace de entidad fuerte respecto a la relaci\u00f3n <code>TENER</code>:</p> <ul> <li> <p> </p><p>Restricci\u00f3n de ID</p><p></p> </li> <li> <p> </p><p>Restricci\u00f3n de IDdentificacion</p><p></p> </li> </ul> <p>\u00bfQu\u00e9 ha pasado con el atributo <code>PEDIDO.total</code>?</p>"},{"location":"temas/02C/2.5-Transformacion.html#generalizacion-y-especializacion-jerarquias","title":"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66 Generalizaci\u00f3n y Especializaci\u00f3n (Jerarqu\u00edas)","text":"<p>Existen varias soluciones para realizar el paso a tablas de una especializaci\u00f3n. La soluci\u00f3n que se elija en cada caso depender\u00e1 del tipo de especializaci\u00f3n que estemos resolviendo: total, parcial, inclusiva o exclusiva.</p> <p>Las 3 soluciones posibles que podemos aplicar son las siguientes:</p> <ol> <li>Crear una \u00fanica tabla para la superclase. En este caso todos los atributos de las subclases se guardar\u00edan en la superclase. </li> </ol> <p>Adoptaremos esta soluci\u00f3n cuando los subtipos se diferencian en muy pocos atributos y las relaciones que los asocian con el resto de entidades del esquema sean las mismas para todos los subtipos. SOLO APLICA A ESPECIALIZACIONES PARCIALES.</p> <ol> <li> <p>Crear tablas s\u00f3lo para las subclases. En este caso los atributos de la superclase habr\u00eda que guardarlos en cada una de las subclases. Elegiremos esta opci\u00f3n cuando existan muchos atributos distintos entre los subtipos. SOLO APLICA A ESPECIALIZACIONES TOTALES.</p> </li> <li> <p>Crear una tabla para cada una de las entidades, tanto para la superclase como las subclases. En este caso las subclases tendr\u00edan que guardar la clave de la primaria de la superclase. OPCI\u00d3N V\u00c1LIDA PARA ESPECIALIZACIONES TOTALES Y PARCIALES.</p> </li> </ol> <p>En resumen</p> <ul> <li> <p>Si es <code>Parcial</code> siempre hay que crear una tabla para la <code>superclase</code>, y las clases de los <code>subtipos</code> depender\u00e1 del n\u00famero de atributos comunes. Si la mayor\u00eda son comunes habr\u00e1 pocos <code>propios</code> de cada subtipo, y por tanto, poco valores nulos o por defecto en la <code>superclase</code>. </p> <ul> <li>Poco comunes -&gt; Crear subtipos.</li> <li>Muchos comunes -&gt; No crear subtipos.</li> </ul> </li> <li> <p>Si es <code>Total</code>, siempre la <code>superclase</code> estar\u00e1 contenida el alg\u00fan <code>subtipo</code>. La opci\u00f3n de crear o no la tabla para la <code>superclase</code> radica en el n\u00famero de campos comunes entre la superclase y los subtipos. </p> <ul> <li>Poco comunes -&gt; Crear subtipos y crear tabla para la superclase.</li> <li>Muchos comunes -&gt; Crear tabla para la superclase y no crear subtipos.</li> </ul> </li> </ul> <p>Exclusiva/Total</p> <p></p> Exclusiva/Total <p></p> <p>En este caso ser\u00eda adecuado utilizar la soluci\u00f3n 2 o 3. Tambi\u00e9n ser\u00eda posible utilizar la soluci\u00f3n 1, pero al tratarse de una especializaci\u00f3n exclusiva y total (las ocurrencias de la superclase est\u00e1n en una subclase y s\u00f3lo en una) , tendr\u00edamos muchas columnas con valores nulos.</p> <p>Soluci\u00f3n 2: Crear una tabla para las subclases</p> <p>En este caso no existenn relaciones entre ambas tablas, y la tabla en s\u00ed misma indica el tipo.</p> <p></p> Soluci\u00f3n 2: Crear una tabla para las subclases <p></p> <p>Soluci\u00f3n 3: Crear una tabla para todas las entidades</p> <p>Todas las claves primarias de las subclases son claves ajenas que apuntan a la tabla de la superclase.</p> <p></p> Soluci\u00f3n 3: Crear una tabla para todas las entidades <p></p> <p>Solapada/(Total o Parcial)</p> <p>Si es solapada, la mejor opci\u00f3n suele ser crear una \u00fanica tabla para la superclase, ya que las ocurrencias pueden estar en varias subclases a la vez, y por tanto, no ser\u00eda lo mejor crear tablas separadas para cada una de las subclases.</p> <p>Soluci\u00f3n 1: Una \u00fanica tabla</p> <p></p> Soluci\u00f3n 1: Crear una tabla para todas las entidades <p></p> <p>Aunque tambi\u00e9n ser\u00eda posible crear tablas para las subclases, pero en este caso, habr\u00eda que repetir las claves primarias en cada una de las tablas de las subclases, y adem\u00e1s, habr\u00eda que permitir valores nulos en las tablas de las subclases, ya que una ocurrencia podr\u00eda no estar en alguna de ellas.</p> <p>Soluci\u00f3n 2: Crear una tabla para las superclase y subclases</p> <p></p> Soluci\u00f3n 2: Crear una tabla para las superclase y subclases <p></p> <p>Soluci\u00f3n 3: Crear una tabla para todas las subclases</p> <p>En este caso no existenn relaciones entre ambas tablas, y la tabla en s\u00ed misma indica el tipo.</p> <p></p> Soluci\u00f3n 3: Crear una tabla para todas las subclases <p></p>"},{"location":"temas/02C/2.C-Actividades.html","title":"Actividades","text":""},{"location":"temas/02C/2.C-Actividades.html#ut2-c-actividades","title":"UT2-C. Actividades","text":""},{"location":"temas/02C/2.C-Actividades.html#actividades","title":"Actividades","text":""},{"location":"temas/02C/2.C-Actividades.html#ac201c","title":"AC201.C","text":"Ejercicio AC201.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6b, CE6c // 3p <p>Supongamos el siguiente modelo ER donde representamos un sistema de informaci\u00f3n donde modelamos los datos de un entrenador y los jugadores de un equipo de baloncesto. De momento, s\u00f3lo modelamos la relaci\u00f3n entre el entrenador y los jugadores:</p> <p></p> Actividad 201.C <p></p> <p>Obt\u00e9n el esquema relacional mediante dbdiagram.</p> Soluci\u00f3n <p>Este ejercicio aunque parece f\u00e1cil, tiene varias opciones de soluci\u00f3n dependiendo de c\u00f3mo interpretemos la relaci\u00f3n entre entrenador y jugador.</p> <ul> <li>Opci\u00f3n 1: Un entrenador puede entrenar a varios jugadores, y un jugador s\u00f3lo puede tener un entrenador. En este caso, la relaci\u00f3n es 1:N, y se resuelve a\u00f1adiendo la clave primaria del entrenador como clave ajena en la tabla jugador. La fecha de inicio de la relaci\u00f3n se a\u00f1ade a la tabla jugador. Se supone que un jugador solo puede tener un entrenador y la fecha de inicio se refiere a cuando el jugador empez\u00f3 a ser entrenado por ese entrenador.</li> </ul> <p></p> <pre><code>Table ENTRENADOR {\ndni texto [pk]\nnombre texto [not null]\nfnac date [not null]\n}\n\nTable JUGADOR {\ndni texto [pk, note: 'Clave Primaria, DNI del jugador']\nnombre texto [not null]\naltura numero\nposicion texto\nentrenadorId texto [not null]\nfinicio date [not null, note: 'Fecha de inicio del periodo de entrenamiento']\n}\n\n// Definici\u00f3n expl\u00edcita de las relaciones (Foreign Keys).\n// Esto mejora la legibilidad del diagrama.\n\n// Relaci\u00f3n 1:N - Un Entrenador puede tener muchos Jugadores.\nRef: ENTRENADOR.dni &lt; JUGADOR.entrenadorId\n</code></pre> <ul> <li>Opci\u00f3n 2: Un jugador puede ser entrenado por el mismo entrenador en diferentes periodos de tiempo. En este caso, la relaci\u00f3n es 1:N, pero la fecha de inicio no puede estar en la tabla jugador, ya que un jugador puede tener varios periodos con el mismo entrenador. Por lo tanto, se crea una tabla intermedia llamada \"Entrenamiento\" que contiene PK de entrenador y jugador, y la fecha de inicio como atributo adicional. La PK es la combinaci\u00f3n del FK de jugador y fecha de inicio.</li> </ul> <p></p> <pre><code>Table ENTRENADOR {\ndni texto [pk]\nnombre texto [not null]\nfnac date [not null]\n}\n\nTable JUGADOR {\ndni texto [pk, note: 'Clave Primaria, DNI del jugador']\nnombre texto [not null]\naltura numero\nposicion texto\n}\n\nTable ENTRENAMIENTO {\nentrenadorId texto [not null]\njugadorId texto [pk, note: 'Parte de la PK compuesta y FK a JUGADOR']\nfinicio date [pk, not null, note: 'Fecha de inicio del periodo de entrenamiento']\n}\n\n// Definici\u00f3n expl\u00edcita de las relaciones (Foreign Keys).\n// Esto mejora la legibilidad del diagrama.\n\n// Relaci\u00f3n 1:N - Un Entrenador puede tener muchos Jugadores.\nRef: ENTRENADOR.dni &lt; ENTRENAMIENTO.entrenadorId\n\n// Relaci\u00f3n de Dependencia - Un Jugador tiene un hist\u00f3rico de periodos.\nRef: JUGADOR.dni &lt; ENTRENAMIENTO.jugadorId\n</code></pre>"},{"location":"temas/02C/2.C-Actividades.html#ac202c","title":"AC202.C","text":"Ejercicio AC202.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h 2p <p>Sobre el ejercicio anterior, vamos a a\u00f1adir la entidad <code>EQUIPO</code> con el nombre del mismo, su logotipo, direcci\u00f3n y a\u00f1o de creaci\u00f3n. Claramente, cada equipo s\u00f3lo tiene un \u00fanico entrenador, y un entrenador s\u00f3lo puede serlo de un equipo.</p> <p>Se pide:</p> <ul> <li>Modifica el modelo ER para a\u00f1adir la nueva entidad y la relaci\u00f3n necesaria</li> <li>Modifica el modelo relacional a partir del nuevo modelo ER.</li> </ul> <p>Adjunta (image) el diagrama ER realizado en ERDPlus crea el diagrama del modelo relacional con dbdiagram</p>"},{"location":"temas/02C/2.C-Actividades.html#ac203c","title":"AC203.C","text":"Ejercicio AC203.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Realiza el esquema relacional mediante un modelo relacional del siguiente modelo ER:</p> <p></p> Actividad 203.C <p></p> <p>Crea mediante dbdiagram</p>"},{"location":"temas/02C/2.C-Actividades.html#ac204c","title":"AC204.C","text":"Ejercicio AC204.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Tenemos el siguiente modelo ER que representa las diferentes ediciones que de un libro publica una editorial, y los autores que escriben los libros:</p> <p></p> Actividad 204.C <p></p> <p>Crea mediante dbdiagram</p>"},{"location":"temas/02C/2.C-Actividades.html#ac205c","title":"AC205.C","text":"Ejercicio AC205.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Tenemos el siguiente modelo ER sobre la organizaci\u00f3n de una empresa en departamentos y las caracter\u00edsticas de sus empleados:</p> <p></p> Actividad 205.C <p></p> <p>Crea mediante dbdiagram</p>"},{"location":"temas/02C/2.C-Actividades.html#ac206c","title":"AC206.C","text":"Ejercicio AC206.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>A partir del siguiente modelo ER que contiene restricciones de cardinalidad m\u00ednima y restricciones de identificaci\u00f3n, se pide:</p> <ul> <li>Genera el modelo relacional.</li> <li>Rellena tres tablas con datos ficticios (al menos 3 registros por tabla), ya sean datos relacionados o no, conforme consideres</li> </ul> <p></p> Actividad 206.C <p></p>"},{"location":"temas/02C/2.C-Actividades.html#ac207c","title":"AC207.C","text":"Ejercicio AC207.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Crea el modelo relacional a partir del modelo conceptual sobre un centro educativo.</p> <p></p> Actividad 207.C <p></p>"},{"location":"temas/02C/2.C-Actividades.html#ac208c","title":"AC208.C","text":"Ejercicio AC208.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Crea el modelo relacional a partir del modelo conceptual:</p> <p></p> Actividad 208.C <p></p>"},{"location":"temas/02C/2.C-Actividades.html#ac209c","title":"AC209.C","text":"Ejercicio AC209.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Crea el modelo relacional a partir del modelo conceptual:</p> <p></p> Actividad 209.C <p></p>"},{"location":"temas/02C/2.C-Actividades.html#ac210c","title":"AC210.C","text":"Ejercicio AC210.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Crea el modelo relacional a partir del modelo conceptual:</p> <p></p> Actividad 210.C <p></p>"},{"location":"temas/02C/2.C-Actividades.html#ac211c","title":"AC211.C","text":"Ejercicio AC211.C Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.6 // CE6a, CE6b, CE6c, CE6d, CE6e, CE6f, CE6h // 3p <p>Crea el modelo relacional a partir del modelo conceptual:</p> <p></p> Actividad 210.C <p></p>"},{"location":"temas/03/index.html","title":"Inicio","text":""},{"location":"temas/03/index.html#modelo-fisico-lenguaje-sql-dml-y-dcl","title":"Modelo F\u00edsico: Lenguaje SQL (DML y DCL)","text":"<p>Informaci\u00f3n de la unidad</p> ContenidosPropuesta did\u00e1ctica <p>Bases de datos relacionales:</p> <ul> <li>Lenguaje de descripci\u00f3n de datos (DDL).</li> <li>Lenguaje de control de datos (DCL).</li> </ul> <p>Tratamiento de datos:</p> <ul> <li>Inserci\u00f3n, borrado y modificaci\u00f3n de registros.</li> <li>Integridad referencial.</li> </ul> <p>Una vez conocido el modelo relacional, en esta unidad vamos a comenzar a trabajar el RA2 \"Crea bases de datos definiendo su estructura y las caracter\u00edsticas de sus elementos seg\u00fan el modelo relacional\",</p> <p>Criterios de evaluaci\u00f3n</p> <ul> <li>CE2a: Se ha analizado el formato de almacenamiento de la informaci\u00f3n.</li> <li>CE2b: Se han creado las tablas y las relaciones entre ellas.</li> <li>CE2c: Se han seleccionado los tipos de datos adecuados.</li> <li>CE2d: Se han definido los campos clave en las tablas.</li> <li>CE2e: Se han implantado las restricciones reflejadas en el dise\u00f1o l\u00f3gico.</li> <li>CE2h: Se han utilizado asistentes, herramientas gr\u00e1ficas y los lenguajes de definici\u00f3n y control de datos.</li> </ul>"},{"location":"temas/03/index.html#contenido-de-la-unidad","title":"Contenido de la unidad","text":"<p>El contenido de la unidad est\u00e1 repartido en los siguientes bloques.</p> <p>\u00cdndice:</p> <ul> <li>3.1 Lenguaje DML</li> <li>3.2 Lenguaje DCL</li> <li>Actividades-DDL</li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html","title":"3.1 Dise\u00f1o f\u00edsico: DDL","text":""},{"location":"temas/03/3.1-DisenoFisico-DDL.html#31-diseno-fisico-lenguaje-ddl","title":"3.1 Dise\u00f1o F\u00edsico: Lenguaje DDL","text":""},{"location":"temas/03/3.1-DisenoFisico-DDL.html#introduccion","title":"Introducci\u00f3n","text":"<p>En este tema, despu\u00e9s de haber aprendido sobre el dise\u00f1o conceptual y l\u00f3gico de bases de datos, nos adentraremos en el dise\u00f1o f\u00edsico. Este es el paso final antes de implementar nuestra base de datos en un sistema gestor de bases de datos (SGBD) real.</p> <p>Repaso r\u00e1pido de los modelos de datos:</p> <ul> <li> <p>Modelo Conceptual: Es el primer boceto, la visi\u00f3n de m\u00e1s alto nivel. Aqu\u00ed nos centramos en entender el negocio y sus reglas, identificando las principales entidades (como \"Clientes\", \"Productos\", \"Pedidos\") y c\u00f3mo se relacionan entre ellas. Una herramienta muy com\u00fan en esta fase es el Diagrama Entidad-Relaci\u00f3n (ERD). El objetivo es que cualquier persona, t\u00e9cnica o no, pueda entenderlo.</p> </li> <li> <p>Modelo L\u00f3gico: Este es el plano detallado. Transformamos las entidades y relaciones del modelo conceptual en una estructura m\u00e1s formal, como tablas, columnas y claves. Sin embargo, en esta fase todav\u00eda no pensamos en un sistema gestor de bases de datos (SGBD) espec\u00edfico. Definimos los tipos de datos de forma gen\u00e9rica (por ejemplo, \"texto\", \"n\u00famero entero\") y establecemos las relaciones a trav\u00e9s de claves primarias y for\u00e1neas.</p> </li> <li> <p>Modelo F\u00edsico: \u00a1Aqu\u00ed es donde ponemos los cimientos de nuestra \"casa digital\"! El modelo f\u00edsico es la implementaci\u00f3n real del modelo l\u00f3gico en un SGBD concreto, como MySQL, PostgreSQL, Oracle, etc. En esta fase, tomamos decisiones t\u00e9cnicas importantes:</p> <ul> <li>Traducimos los tipos de datos gen\u00e9ricos a los tipos espec\u00edficos que ofrece nuestro SGBD (por ejemplo, <code>VARCHAR(100)</code> en lugar de \"texto\").</li> <li>Definimos \u00edndices para acelerar las consultas.</li> <li>Consideramos aspectos de rendimiento, almacenamiento y seguridad.</li> <li>Finalmente, escribimos el c\u00f3digo para crear toda esta estructura.</li> </ul> </li> </ul> <p>El lenguaje que usamos para crear y gestionar la estructura de la base de datos en el modelo f\u00edsico es el SQL.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#que-es-sql","title":"\u00bfQu\u00e9 es SQL?","text":"<p>SQL (Structured Query Language o Lenguaje de Consulta Estructurado) es el lenguaje est\u00e1ndar utilizado para comunicarnos con las bases de datos relacionales. A pesar de ser un est\u00e1ndar, cada SGBD tiene sus propias peque\u00f1as variaciones o extensiones, lo que se conoce como \"dialectos\".</p> <p>Versiones m\u00e1s importantes del est\u00e1ndar SQL:</p> <ul> <li>SQL-86: La primera versi\u00f3n estandarizada por ANSI.</li> <li>SQL-92 (SQL2): Una revisi\u00f3n muy importante que introdujo muchas de las caracter\u00edsticas que consideramos est\u00e1ndar hoy en d\u00eda.</li> <li>SQL:1999 (SQL3): A\u00f1adi\u00f3 expresiones regulares, triggers y tipos de datos m\u00e1s avanzados.</li> <li>Versiones posteriores (2003, 2008, 2011, 2016, 2023...): Han ido a\u00f1adiendo funcionalidades como funciones de ventana (window functions), mejor soporte para XML y JSON, y otras caracter\u00edsticas avanzadas.</li> </ul> <p>Dentro de SQL, podemos agrupar las sentencias en cuatro sublenguajes principales:</p> <ul> <li>DDL (Data Definition Language - Lenguaje de Definici\u00f3n de Datos): Se utiliza para definir y gestionar la estructura de la base de datos. Comandos como <code>CREATE</code>, <code>ALTER</code> y <code>DROP</code> pertenecen a este grupo. Es el protagonista de nuestro tema de hoy.</li> <li>DML (Data Manipulation Language - Lenguaje de Manipulaci\u00f3n de Datos): Permite insertar, actualizar, borrar y modificar los datos almacenados en las tablas. Los comandos principales son <code>INSERT</code>, <code>UPDATE</code> y <code>DELETE</code>.</li> <li>DQL (Data Query Language - Lenguaje de Consulta de Datos): Su principal y casi \u00fanico comando es <code>SELECT</code>. Se utiliza para recuperar datos de la base de datos.</li> <li>DCL (Data Control Language - Lenguaje de Control de Datos): Se encarga de la seguridad y la gesti\u00f3n de permisos de los usuarios sobre la base de datos. Incluye comandos como <code>GRANT</code> (conceder permisos) y <code>REVOKE</code> (revocar permisos).</li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#sintaxis-basica-de-sql","title":"Sintaxis b\u00e1sica de SQL","text":"<p>La sintaxis de SQL est\u00e1 compuesta por una serie de instrucciones que tienen diferentes par\u00e1metros, unos obligatorios y otros opcionales. Para la expliacion de la sintaxis, se utilizar\u00e1 la siguiente convenci\u00f3n:</p> S\u00edmbolo Descripci\u00f3n May\u00fasculas Indican palabras reservadas del lenguaje. Min\u00fasculas Indican elementos definidos por el usuario. <code>[]</code> Indica que el elemento es opcional. <code>{}</code> Indica que se debe elegir una opci\u00f3n. <code>|</code> Indica una alternativa entre opciones. <code>...</code> Indica que el elemento puede repetirse. <p>Ejemplo de sintaxis SQL</p> <pre><code>  CREATE TABLE nombre_tabla (\n    nombre_columna tipo_dato [CONSTRAINT restricci\u00f3n] ...,\n    ...\n    [CONSTRAINT restricci\u00f3n_tabla]\n  );\n</code></pre> <p>Tenemos que destacar que cada instrucci\u00f3n SQL debe terminar con un punto y coma (<code>;</code>), que indica el final de la instrucci\u00f3n.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#case-sensitive","title":"Case sensitive","text":"<p>SQL no es sensible a may\u00fasculas y min\u00fasculas en las palabras reservadas, pero s\u00ed lo es en los nombres de tablas y columnas, dependiendo del sistema de gesti\u00f3n de bases de datos (SGBD) utilizado. Por ejemplo, en MySQL, los nombres de tablas son sensibles a may\u00fasculas y min\u00fasculas en sistemas operativos que distinguen entre ellas (como Linux), mientras que en Windows no lo son. Es importante tener en cuenta estas diferencias al dise\u00f1ar y consultar bases de datos para evitar errores inesperados.</p> Elemento Windows (por defecto) Linux (por defecto) Nombre de BD No distingue may\u00fasculas/min\u00fasculas Distingue may\u00fasculas/min\u00fasculas Nombre de tabla No distingue may\u00fasculas/min\u00fasculas Distingue may\u00fasculas/min\u00fasculas Nombre de columna / alias No distingue may\u00fasculas/min\u00fasculas No distingue may\u00fasculas/min\u00fasculas Cadenas en consultas (<code>WHERE</code>) Depende de la <code>collation</code> Depende de la <code>collation</code> <p>Recomendaci\u00f3n</p> <p>Para evitar problemas de compatibilidad y confusi\u00f3n, es recomendable utilizar un estilo consistente para los nombres de tablas y columnas, como todo en min\u00fasculas o todo en may\u00fasculas, y evitar el uso de espacios o caracteres especiales. Normalmente, aquellas palabras reservadas de SQL se escriben en may\u00fasculas para diferenciarlas de los nombres definidos por el usuario que est\u00e1n en min\u00fasculas.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#tipos-de-datos-la-base-de-todo","title":"Tipos de Datos: La base de todo","text":"<p>Antes de pasar a la definici\u00f3n de tablas, es importante entender los tipos de datos que se pueden utilizar en una base de datos relacional. Los tipos de datos definen la naturaleza de los datos que se almacenan en una columna espec\u00edfica.</p> <p>Elegir el tipo de dato correcto es una de las decisiones m\u00e1s importantes en el dise\u00f1o f\u00edsico. Afecta al almacenamiento, al rendimiento y a la integridad de los datos.</p> <p>Aqu\u00ed ten\u00e9is una tabla comparativa con algunos de los tipos de datos m\u00e1s comunes en MySQL y PostgreSQL:</p> Categor\u00eda Tipo en MySQL Tipo en PostgreSQL Descripci\u00f3n Cu\u00e1ndo usarlo Enteros <code>TINYINT</code>, <code>SMALLINT</code>, <code>MEDIUMINT</code>, <code>INT</code>, <code>BIGINT</code> <code>SMALLINT</code>, <code>INTEGER</code>, <code>BIGINT</code> N\u00fameros enteros sin decimales. Contadores, identificadores, cantidades (unidades de stock). Decimales <code>DECIMAL</code>, <code>NUMERIC</code> <code>NUMERIC</code>, <code>DECIMAL</code> N\u00fameros con una precisi\u00f3n y escala fijas. Valores monetarios, c\u00e1lculos financieros, donde la exactitud es cr\u00edtica. Flotantes <code>FLOAT</code>, <code>DOUBLE</code> <code>REAL</code>, <code>DOUBLE PRECISION</code> N\u00fameros con decimales de precisi\u00f3n aproximada. C\u00e1lculos cient\u00edficos, mediciones donde una peque\u00f1a imprecisi\u00f3n es aceptable. Cadenas de Texto <code>CHAR</code>, <code>VARCHAR</code>, <code>TEXT</code> <code>CHAR</code>, <code>VARCHAR</code>, <code>TEXT</code> Secuencias de caracteres. <code>CHAR</code> es de longitud fija, <code>VARCHAR</code> de longitud variable. Nombres, direcciones, descripciones, cualquier tipo de texto. Binarios <code>BINARY</code>, <code>VARBINARY</code>, <code>BLOB</code> <code>BYTEA</code> Datos binarios en crudo. Almacenar ficheros, im\u00e1genes, datos encriptados directamente en la BD. Fecha y Hora <code>DATE</code>, <code>TIME</code>, <code>DATETIME</code>, <code>TIMESTAMP</code>, <code>YEAR</code> <code>DATE</code>, <code>TIME</code>, <code>TIMESTAMP</code> Para almacenar fechas, horas o combinaciones de ambas. Fechas de nacimiento, fechas de registro, marcas de tiempo de eventos. Booleanos <code>BOOL</code>, <code>BOOLEAN</code> (alias de <code>TINYINT(1)</code>) <code>BOOLEAN</code> Representa valores verdadero (<code>TRUE</code>) o falso (<code>FALSE</code>). Flags o indicadores de estado (ej: <code>es_activo</code>, <code>tiene_descuento</code>). Enumerados <code>ENUM</code> <code>ENUM</code> (se crea como un tipo aparte) Permite definir una lista de valores predefinidos para una columna. D\u00edas de la semana, estados de un pedido ('pendiente', 'enviado', 'entregado'). Geom\u00e9tricos <code>GEOMETRY</code>, <code>POINT</code>, etc. <code>POINT</code>, <code>LINE</code>, <code>POLYGON</code>, etc. Tipos de datos para almacenar informaci\u00f3n espacial. Mapas, geolocalizaci\u00f3n, GIS. <p>Se puede consultar la documentaci\u00f3n oficial de cada SGBD para obtener informaci\u00f3n m\u00e1s detallada sobre los tipos de datos y sus caracter\u00edsticas espec\u00edficas: MySQL, Oracle, PostgreSQL o MariaDB.</p> <p>Nota</p> <pre><code>DECIMAL(5,2) -- 5 d\u00edgitos en total, 2 decimales (ejemplo: 120.99)`\n</code></pre> <p>\u00bfQue tipo de datos usar?</p> <p>Una de las decisiones m\u00e1s importantes al dise\u00f1ar una base de datos es elegir el tipo de datos adecuado para cada columna. Esta elecci\u00f3n afecta el rendimiento, la integridad y la eficiencia del almacenamiento de datos. Ademas del tipo de datos, es importante considerar el tama\u00f1o y la precisi\u00f3n necesarios para cada columna. Por ejemplo, si se espera almacenar n\u00fameros enteros peque\u00f1os, se puede utilizar <code>TINYINT</code> en lugar de <code>INT</code> para ahorrar espacio de almacenamiento.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#profundizando-en-las-categorias-de-datos","title":"Profundizando en las Categor\u00edas de Datos","text":""},{"location":"temas/03/3.1-DisenoFisico-DDL.html#cadenas-de-texto","title":"Cadenas de Texto","text":"<ul> <li><code>CHAR(longitud)</code>: Longitud fija. Si defines <code>CHAR(10)</code> y guardas \"Hola\", ocupar\u00e1 10 caracteres (rellenando con espacios). Es m\u00e1s r\u00e1pido para datos de longitud siempre igual, como un c\u00f3digo postal o un DNI.</li> <li><code>VARCHAR(longitud)</code>: Longitud variable. Si defines <code>VARCHAR(10)</code> y guardas \"Hola\", ocupar\u00e1 solo los 4 caracteres m\u00e1s un peque\u00f1o extra para guardar la longitud. Es ideal para la mayor\u00eda de textos como nombres o direcciones.</li> <li><code>TEXT</code>: Para textos largos como descripciones de productos o cuerpos de art\u00edculos de un blog. No se especifica una longitud m\u00e1xima en la definici\u00f3n. Sin embargo, puede tener limitaciones en cuanto a la manipulaci\u00f3n y el rendimiento en comparaci\u00f3n con VARCHAR.</li> </ul> <p>Advertencia</p> <p>Si queremos ordenar o buscar en una columna, es mejor usar <code>CHAR</code> o <code>VARCHAR</code>, ya que <code>TEXT</code> puede tener limitaciones en cuanto a la manipulaci\u00f3n y el rendimiento.</p> <p>Nota</p> <p>En MySQL, el tama\u00f1o m\u00e1ximo de <code>VARCHAR</code> es 65,535 bytes, pero este l\u00edmite depende del conjunto de caracteres utilizado y del tama\u00f1o total de la fila. Por ejemplo, si se utiliza UTF-8, cada car\u00e1cter puede ocupar hasta 3 bytes, lo que reduce el n\u00famero m\u00e1ximo de caracteres que se pueden almacenar en una columna <code>VARCHAR</code>. <code>TEXT</code> puede almacenar hasta 65,535 bytes, pero no se puede indexar completamente, lo que puede afectar el rendimiento de las consultas. Y por \u00faltimo, <code>CHAR</code> puede almacenar hasta 255 caracteres.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#numeros","title":"N\u00fameros","text":"<p>Los tipos de datos num\u00e9ricos incluyen <code>TINYINT</code>, <code>SMALLINT</code>, <code>INT</code>, <code>BIGINT</code>, <code>FLOAT</code>, <code>DOUBLE</code> y <code>DECIMAL</code>. La elecci\u00f3n entre estos tipos depende de la naturaleza de los datos que se van a almacenar y de los requisitos de precisi\u00f3n. Algunas consideraciones importantes son:</p> <ul> <li>TINYINT, SMALLINT, INT, BIGINT: Se utilizan para almacenar n\u00fameros enteros de diferentes rangos. La elecci\u00f3n entre estos tipos depende del rango de valores que se espera almacenar. Por ejemplo, <code>TINYINT</code> es adecuado para valores peque\u00f1os (de -128 a 127), mientras que <code>BIGINT</code> es adecuado para valores muy grandes (de -9,223,372,036,854,775,808 a 9,223,372,036,854,775,807). \"Nueve trillones doscientos veintitr\u00e9s mil trescientos setenta y dos billones treinta y seis mil ochocientos cincuenta y cuatro millones setecientos setenta y cinco mil ochocientos siete.\" \ud83d\ude25\u200b</li> <li>FLOAT, DOUBLE: Se utilizan para almacenar n\u00fameros de punto flotante. <code>FLOAT</code> es adecuado para valores con menor precisi\u00f3n, mientras que <code>DOUBLE</code> es adecuado para valores con mayor precisi\u00f3n. Sin embargo, ambos tipos pueden introducir errores de redondeo debido a la naturaleza de los n\u00fameros de punto flotante.</li> <li>DECIMAL: Se utiliza para almacenar n\u00fameros con una precisi\u00f3n exacta, como valores monetarios. <code>DECIMAL</code> permite especificar la precisi\u00f3n total y la cantidad de decimales, lo que lo hace adecuado para aplicaciones financieras donde la exactitud es crucial.</li> </ul> <p>Con signo o sin signo</p> <p>Signed vs Unsigned: <code>SIGNED</code> (por defecto) permite n\u00fameros negativos y positivos. <code>UNSIGNED</code> solo permite n\u00fameros positivos (y el cero), duplicando el rango m\u00e1ximo positivo. Es perfecto para claves primarias autoincrementales (<code>id</code>) que nunca ser\u00e1n negativas.</p> Tipo MySQL Rango (Signed - con signo) Rango (Unsigned - sin signo) <code>TINYINT</code> -128 a 127 0 a 255 <code>SMALLINT</code> -32,768 a 32,767 0 a 65,535 <code>MEDIUMINT</code> -8,388,608 a 8,388,607 0 a 16,777,215 <code>INT</code> -2,147,483,648 a 2,147,483,647 0 a 4,294,967,295 <code>BIGINT</code> -9,223,372,036,854,775,808 a 9,223,372,036,854,775,807 0 a 18,446,744,073,709,551,615"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#fechas-y-horas","title":"Fechas y Horas","text":"<p>Los tipos de datos para fechas y horas incluyen <code>DATE</code>, <code>TIME</code>, <code>DATETIME</code> y <code>TIMESTAMP</code>. La elecci\u00f3n entre estos tipos depende de la naturaleza de los datos que se van a almacenar y de los requisitos de precisi\u00f3n.</p> <ul> <li><code>DATE</code>: Almacena una fecha (a\u00f1o, mes, d\u00eda). Formato: <code>YYYY-MM-DD</code>. Por ejemplo, <code>DATE</code> almacena valores en el formato 'YYYY-MM-DD', como '2023-10-15'.</li> <li><code>TIME</code>: Almacena una hora (horas, minutos, segundos). Formato: <code>HH:MM:SS</code>.Por ejemplo, <code>TIME</code> almacena valores en el formato 'HH:MM:SS', como '14:30:00'.</li> <li><code>DATETIME</code>: Combina fecha y hora. Formato: <code>YYYY-MM-DD HH:MM:SS</code>.Por ejemplo, <code>DATETIME</code> almacena valores en el formato 'YYYY-MM-DD HH:MM:SS', como '2023-10-15 14:30:00'.</li> <li><code>TIMESTAMP</code>: Similar a <code>DATETIME</code>, pero con un rango m\u00e1s limitado (desde 1970 hasta 2038). Tiene la particularidad de que se puede configurar para que se actualice autom\u00e1ticamente a la fecha y hora actual cada vez que la fila es modificada (<code>ON UPDATE CURRENT_TIMESTAMP</code>). Muy \u00fatil para campos como <code>fecha_modificacion</code>. Por ejemplo, <code>TIMESTAMP</code> almacena valores en el formato 'YYYY-MM-DD HH:MM:SS', pero se convierte autom\u00e1ticamente a la zona horaria del servidor.</li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#enumerados-enum","title":"Enumerados (<code>ENUM</code>)","text":"<p>Permite que una columna solo pueda tomar uno de los valores de una lista que t\u00fa defines. Por ejemplo: <code>estado ENUM('activo', 'inactivo', 'pendiente')</code>. Internamente, MySQL lo almacena como un n\u00famero (1, 2, 3), lo que lo hace muy eficiente, pero muestra el texto que le corresponde, lo cual es muy legible.</p> <pre><code>estado ENUM('activo', 'inactivo', 'pendiente')\n</code></pre> <p>Advertencia</p> <p>Este tipo de datos no est\u00e1 definido en el est\u00e1ndar SQL, por lo que no es soportado por todos los SGBD. Esto produce problemas de portabilidad si se quiere migrar la base de datos a otro SGBD. Se recomienda usar restricciones <code>CHECK</code> en su lugar para asegurar la integridad de los datos.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#el-valor-null","title":"El valor <code>NULL</code>","text":"<p>El valor <code>NULL</code> en SQL representa la ausencia de un valor o un valor desconocido. Es importante entender que <code>NULL</code> no es lo mismo que cero (0) o una cadena vac\u00eda (''). En SQL, <code>NULL</code> se utiliza para indicar que un campo no tiene ning\u00fan valor asignado.</p> <p>Cuando se define una columna en una tabla, se puede especificar si esa columna permite valores <code>NULL</code> o no. Por defecto, las columnas permiten valores <code>NULL</code>, pero se puede cambiar este comportamiento utilizando la restricci\u00f3n <code>NOT NULL</code>.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#ddl-data-definition-language","title":"DDL: Data Definition Language","text":"<p>El lenguaje de definici\u00f3n de datos (DDL) se utiliza para definir y modificar la estructura de una base de datos. Los comandos DDL m\u00e1s comunes son:</p> <ul> <li><code>CREATE</code>: Se utiliza para crear nuevas tablas, bases de datos, \u00edndices y otros objetos en la base de datos.</li> <li><code>ALTER</code>: Se utiliza para modificar la estructura de una tabla existente, como agregar, eliminar o modificar columnas.</li> <li><code>DROP</code>: Se utiliza para eliminar tablas, bases de datos, \u00edndices y otros objetos de la base de datos.</li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#instalacion-de-mysql","title":"Instalaci\u00f3n de MySQL","text":"<p>Para el desarrollo de las pr\u00e1cticas, se utilizar\u00e1 MySQL como sistema de gesti\u00f3n de bases de datos (SGBD). Puedes descargar e instalar MySQL Community Server desde su p\u00e1gina oficial. Durante la instalaci\u00f3n, aseg\u00farate de configurar una contrase\u00f1a segura para el usuario <code>root</code>, ya que este usuario tiene privilegios administrativos completos en la base de datos.</p> <p>Para interactuar con MySQL, puedes utilizar la l\u00ednea de comandos de MySQL o una herramienta gr\u00e1fica como MySQL Workbench, que tambi\u00e9n est\u00e1 disponible en la p\u00e1gina de descargas de MySQL. Puedes encontrar tutoriales y documentaci\u00f3n en l\u00ednea para ayudarte a instalar y configurar MySQL seg\u00fan tus necesidades.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#base-de-datos","title":"Base de datos","text":"<p>Antes de crear tablas, es necesario crear una base de datos donde se almacenar\u00e1n dichas tablas. Para crear una base de datos en MySQL, se utiliza el comando <code>CREATE DATABASE</code> seguido del nombre que se desea asignar a la base de datos. Por ejemplo, para crear una base de datos llamada <code>mi_base_de_datos</code>, se utilizar\u00eda la siguiente instrucci\u00f3n SQL:</p> <pre><code>CREATE [OR REPLACE] DATABASE [IF NOT EXISTS] mi_base_de_datos;\n</code></pre> <p>Podemos mostrar las bases de datos existentes con el comando:</p> <pre><code>SHOW DATABASES;\n</code></pre> <p>Y por otro lado, para eliminar una base de datos, se utiliza el comando <code>DROP DATABASE</code> seguido del nombre de la base de datos que se desea eliminar:</p> <pre><code>DROP DATABASE IF EXISTS mi_base_de_datos;\n</code></pre> <p>Una vez creada la base de datos, es necesario seleccionarla para poder trabajar con ella. Esto se hace con el comando <code>USE</code> seguido del nombre de la base de datos:</p> <pre><code>USE mi_base_de_datos;\n</code></pre>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#jerarquia-de-almacenamiento","title":"Jerarqu\u00eda de almacenamiento","text":"<p>La jerarqu\u00eda de almacenamiento de datos se organiza en varios niveles, desde el m\u00e1s general hasta el m\u00e1s espec\u00edfico. A continuaci\u00f3n, se describe esta jerarqu\u00eda con independencia del SGBD utilizado:</p> <ul> <li>Tablespace: Es una estructura f\u00edsica de almacenamiento que agrupa varios archivos de datos. Un tablespace puede contener m\u00faltiples bases de datos y es gestionado por el SGBD.</li> <li>Base de datos: Es un contenedor l\u00f3gico que agrupa varias tablas y otros objetos relacionados. Cada base de datos tiene su propio conjunto de tablas, vistas, \u00edndices y otros objetos.</li> <li>Esquema (schema): Es una colecci\u00f3n de objetos de base de datos, como tablas, vistas, procedimientos almacenados, etc., que pertenecen a un usuario espec\u00edfico. Un esquema ayuda a organizar y gestionar los objetos dentro de una base de datos. En MySQL, el esquema es sin\u00f3nimo de base de datos.</li> <li>Tabla: Es una estructura que almacena datos en filas y columnas. Cada tabla representa una entidad o concepto del mundo real y contiene datos relacionados.</li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#motores-de-almacenamiento","title":"Motores de almacenamiento","text":"<p>En los sistemas de gesti\u00f3n de bases de datos (SGBD) como MySQL, un motor de almacenamiento es el componente responsable de gestionar c\u00f3mo se almacenan, recuperan y manipulan los datos en las tablas. MySQL soporta varios motores de almacenamiento, cada uno con sus propias caracter\u00edsticas y ventajas. Algunos de los motores de almacenamiento m\u00e1s comunes en MySQL son:</p> <ul> <li>InnoDB: Es el motor de almacenamiento predeterminado en MySQL. Soporta transacciones, claves for\u00e1neas y bloqueo a nivel de fila, lo que lo hace adecuado para aplicaciones que requieren integridad referencial y concurrencia.</li> <li>MyISAM: Es un motor de almacenamiento m\u00e1s antiguo que no soporta transacciones ni claves for\u00e1neas. Es m\u00e1s r\u00e1pido para operaciones de lectura, pero menos eficiente para operaciones de escritura y no garantiza la integridad referencial.</li> </ul> <p>Bloqueo a nivel de fila vs. tabla</p> <ul> <li>Bloqueo a nivel de fila: Permite que m\u00faltiples transacciones accedan y modifiquen diferentes filas de una tabla simult\u00e1neamente, mejorando la concurrencia y el rendimiento en entornos con muchas operaciones de escritura.</li> <li>Bloqueo a nivel de tabla: Bloquea toda la tabla durante una operaci\u00f3n de escritura, lo que puede reducir la concurrencia y el rendimiento en entornos con muchas operaciones de escritura.</li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#juego-de-caracteres-y-collation","title":"Juego de caracteres y collation","text":"<p>Un juego de caracteres (character set) es un conjunto de caracteres que se utilizan para representar texto en una base de datos. Cada juego de caracteres tiene un conjunto espec\u00edfico de caracteres y un esquema de codificaci\u00f3n asociado. Algunos juegos de caracteres comunes en MySQL son:</p> <ul> <li>utf8mb4: Es un juego de caracteres que soporta todos los caracteres Unicode, incluyendo emojis y otros caracteres especiales. Es el juego de caracteres recomendado para la mayor\u00eda de las aplicaciones.</li> <li>latin1: Es un juego de caracteres que soporta caracteres occidentales y es m\u00e1s eficiente en t\u00e9rminos de almacenamiento para textos en idiomas como el ingl\u00e9s, espa\u00f1ol, franc\u00e9s, etc.</li> <li>ascii: Es un juego de caracteres que soporta solo caracteres ASCII (caracteres b\u00e1sicos en ingl\u00e9s). Es el m\u00e1s eficiente en t\u00e9rminos de almacenamiento, pero no es adecuado para textos en otros idiomas.</li> </ul> <p>Una collation es un conjunto de reglas que determinan c\u00f3mo se comparan y ordenan los caracteres en una base de datos. Cada juego de caracteres puede tener varias collations asociadas, que definen diferentes formas de comparar y ordenar los caracteres. Algunas collations comunes en MySQL son:</p> <ul> <li>utf8mb4_general_ci: Es una collation que realiza comparaciones y ordenaciones de manera insensible a may\u00fasculas y min\u00fasculas (case-insensitive) y no distingue entre acentos (accent-insensitive).</li> <li>utf8mb4_bin: Es una collation que realiza comparaciones y ordenaciones basadas en el valor binario de los caracteres, lo que significa que es sensible a may\u00fasculas y min\u00fasculas (case-sensitive) y distingue entre acentos (accent-sensitive).</li> </ul> <p>Nota</p> <p>Por defecto, MySQL utiliza el juego de caracteres <code>latin1</code> y la collation <code>latin1_swedish_ci</code>. Sin embargo, es recomendable utilizar <code>utf8mb4</code> y una collation adecuada para garantizar la compatibilidad con una amplia gama de caracteres y evitar problemas de codificaci\u00f3n.</p> <p>La siguiente sentencia SQL crea una base de datos llamada <code>mi_base_de_datos</code> con el juego de caracteres <code>utf8mb4</code> y la collation <code>utf8mb4_general_ci</code>, y selecciona dicha base de datos para su uso:</p> <p><code>CREATE DATABASE mi_base_de_datos     CHARACTER SET utf8mb4     COLLATE utf8mb4_general_ci;  USE mi_base_de_datos;</code></p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#el-lenguaje-ddl-definiendo-la-estructura","title":"El Lenguaje DDL: Definiendo la estructura","text":"<p>Ahora que conocemos los materiales (los tipos de datos), vamos a aprender a construir la estructura (las tablas) con DDL.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#create-table-creando-la-estructura","title":"<code>CREATE TABLE</code>: Creando la estructura","text":"<p>Para crear una tabla en una base de datos, se utiliza el comando <code>CREATE TABLE</code>. La sintaxis b\u00e1sica para crear una tabla es la siguiente:</p> <pre><code>CREATE [OR REPLACE] TABLE [base_de_datos.]nombre_tabla (\n    columna1 tipo_dato1 [opciones],\n    columna2 tipo_dato2 [opciones],\n    ...\n    [restricciones_tabla]\n);\n</code></pre> <p>Debemos tener algunas consideraciones al crear tablas:</p> <ul> <li>Nombres de tablas: Los nombres de tablas deben ser \u00fanicos dentro de una base de datos. No se deben utilizar espacios ni caracteres especiales en los nombres de tablas. Ademas, no se deben utilizar palabras reservadas de SQL como nombres de tablas. Es recomendable utilizar nombres descriptivos y consistentes para facilitar la comprensi\u00f3n y el mantenimiento de la base de datos</li> </ul> <p>Algunos ejemplos de creacion de tablas con diferentes tipos de datos y restricciones:</p> <pre><code>CREATE TABLE productos (\n    id_producto INT PRIMARY KEY AUTO_INCREMENT,\n    nombre VARCHAR(100) NOT NULL,\n    precio DECIMAL(10,2) NOT NULL,\n    stock INT DEFAULT 0,\n    fecha_creacion DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE empleados (\n    id_empleado INT PRIMARY KEY AUTO_INCREMENT,\n    nombre VARCHAR(100) NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    fecha_contratacion DATE NOT NULL,\n    salario DECIMAL(10,2) CHECK (salario &gt;= 0)\n);\n</code></pre>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#claves-primaria","title":"Claves primaria","text":"<p>Una clave primaria (Primary Key, PK) es una columna o conjunto de columnas que identifica de manera \u00fanica cada fila en una tabla. Las claves primarias tienen las siguientes caracter\u00edsticas:</p> <ul> <li>Unicidad: Cada valor de clave primaria debe ser \u00fanico en la tabla. No puede haber dos filas con el mismo valor de clave primaria.</li> <li>No nulo: Los valores de clave primaria no pueden ser <code>NULL</code>. Cada fila debe tener un valor v\u00e1lido para la clave primaria.</li> <li>\u00cdndice: Las claves primarias crean autom\u00e1ticamente un \u00edndice \u00fanico en la columna o columnas que las componen, lo que mejora el rendimiento de las consultas que utilizan la clave primaria.</li> <li>Inmutabilidad: Los valores de clave primaria no deben cambiar una vez asignados. Cambiar el valor de una clave primaria puede causar problemas de integridad referencial en la base de datos.</li> <li>Simplicidad: Es recomendable que las claves primarias sean simples y f\u00e1ciles de manejar. Evitar el uso de claves compuestas (claves primarias que consisten en m\u00faltiples columnas) a menos que sea absolutamente necesario.</li> <li>Auto-incremento: En muchos casos, las claves primarias se definen como columnas de tipo entero con la opci\u00f3n <code>AUTO_INCREMENT</code>, lo que permite que el SGBD genere autom\u00e1ticamente un valor \u00fanico para cada nueva fila insertada en la tabla.</li> <li>Elecci\u00f3n del tipo de dato: Es importante elegir un tipo de dato adecuado para la clave primaria, considerando el rango de valores que se espera almacenar y el tama\u00f1o del almacenamiento. Por ejemplo, si se espera almacenar un gran n\u00famero de filas, es recomendable utilizar <code>BIGINT</code> en lugar de <code>INT</code>.</li> </ul> <p>Existen muchas formas de definir una clave primaria en una tabla. Dependiendo de d\u00f3nde se coloque la restricci\u00f3n <code>PRIMARY KEY</code>, la sintaxis puede variar ligeramente. A continuaci\u00f3n, se muestran algunos ejemplos de c\u00f3mo definir una clave primaria en una tabla:</p> <pre><code>CREATE TABLE clientes (\n    id_cliente INT PRIMARY KEY AUTO_INCREMENT,\n    nombre VARCHAR(100) NOT NULL\n);\n\nCREATE TABLE productos (\n    id_producto INT NOT NULL AUTO_INCREMENT,\n    nombre VARCHAR(100) NOT NULL,\n    precio DECIMAL(10,2) NOT NULL,\n    PRIMARY KEY (id_producto)\n);\n\nCREATE TABLE empleados (\n    id_empleado INT,\n    nombre VARCHAR(100) NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    fecha_contratacion DATE NOT NULL,\n    salario DECIMAL(10,2) CHECK (salario &gt;= 0),\n    CONSTRAINT pk_empleados PRIMARY KEY (id_empleado)\n);\n\nCREATE TABLE ordenes (\n    id_orden INT,\n    id_cliente INT,\n    fecha DATETIME NOT NULL,\n    total DECIMAL(10,2) NOT NULL,\n    PRIMARY KEY (id_orden, id_cliente) -- Clave primaria compuesta\n);\n</code></pre> <p>Resumen de creaci\u00f3n de tablas</p> <p>Tabla resumen con diferente formas de crear tablas con claves primarias y otras opciones:</p> Sintaxis / Variante Ejemplo Descripci\u00f3n Creaci\u00f3n b\u00e1sica <code>CREATE TABLE Empleados (id INT, nombre VARCHAR(100), fecha_contrato DATE);</code> Crea una tabla simple con tres columnas y sus tipos de datos. Con Clave Primaria (PK) <code>CREATE TABLE Empleados (id INT PRIMARY KEY, nombre VARCHAR(100));</code> Define la columna <code>id</code> como clave primaria en la misma l\u00ednea. PK Separada <code>CREATE TABLE Empleados (id INT, nombre VARCHAR(100), PRIMARY KEY(id));</code> Define la clave primaria al final de la definici\u00f3n de columnas. Obligatorio para PK compuestas. PK Compuesta <code>CREATE TABLE Pedido_Detalle (id_pedido INT, id_producto INT, cantidad INT, PRIMARY KEY(id_pedido, id_producto));</code> Crea una clave primaria formada por dos o m\u00e1s columnas. Con valor por defecto <code>CREATE TABLE Productos (id INT, nombre VARCHAR(50), stock INT DEFAULT 0);</code> Si no se especifica un valor para <code>stock</code> al insertar una fila, se usar\u00e1 <code>0</code> por defecto. Con autoincremento <code>CREATE TABLE Categorias (id INT PRIMARY KEY AUTO_INCREMENT, nombre VARCHAR(50));</code> El SGBD asignar\u00e1 autom\u00e1ticamente un valor num\u00e9rico secuencial a la columna <code>id</code> en cada nueva inserci\u00f3n."},{"location":"temas/03/3.1-DisenoFisico-DDL.html#modificacion-de-tablas","title":"Modificaci\u00f3n de tablas","text":"<p>Para modificar la estructura de una tabla existente, se utiliza el comando <code>ALTER TABLE</code>. La sintaxis b\u00e1sica para modificar una tabla es la siguiente:</p> <pre><code>ALTER TABLE [base_de_datos.]nombre_tabla\n    {ADD columna tipo_dato [opciones] [FIRST | AFTER nombreColumna] |\n     DROP columna |\n     MODIFY columna tipo_dato [opciones] |\n\n     ADD CONSTRAINT restricci\u00f3n_tabla};\n</code></pre> <p>Si queremos a\u00f1adir una columna a una tabla usaremos <code>ADD</code>, por ejemplo:</p> <pre><code>ALTER TABLE clientes\n    ADD email VARCHAR(100) NOT NULL AFTER nombre;\n</code></pre> <p><code>FIRST</code> y <code>AFTER</code> se utilizan para especificar la posici\u00f3n de la nueva columna en la tabla. Si no se especifica ninguna de estas opciones, la nueva columna se a\u00f1adir\u00e1 al final de la tabla.</p> <p>Si lo que queremos es modificar una columna existente, usaremos <code>MODIFY</code>, por ejemplo:</p> <pre><code>ALTER TABLE clientes\n    MODIFY nombre VARCHAR(150);\n</code></pre> <p>Nota</p> <p>Modificar una columna implica volver a definir el tipo de dato y las opciones de la columna.</p> <p>En el caso de que queramos eliminar una columna, usaremos <code>DROP</code>, por ejemplo:</p> <pre><code>ALTER TABLE clientes\n    DROP COLUMN email;\n</code></pre> <p>Podemos cambiar el nombre de una tabla utilizando <code>RENAME TO</code>, por ejemplo:</p> <pre><code>ALTER TABLE [base_de_datos.]nombre_tabla\n    RENAME TO nuevo_nombre_tabla;\n</code></pre> <p>Para cambiar el nombre de una columna, usaremos <code>CHANGE</code>, por ejemplo:</p> <p></p><pre><code>ALTER TABLE clientes\n    CHANGE email email_nuevo VARCHAR(100);\n</code></pre> En el comando CHANGE, es necesario especificar el nombre actual de la columna seguido del nuevo nombre y el tipo de dato.<p></p> <p>Resumen de modificaciones con ALTER TABLE</p> <p>Resumen de las operaciones m\u00e1s comunes con <code>ALTER TABLE</code>:</p> Operaci\u00f3n Ejemplo Descripci\u00f3n A\u00f1adir columna <code>ALTER TABLE Empleados ADD COLUMN salario DECIMAL(10, 2);</code> A\u00f1ade una nueva columna llamada <code>salario</code> a la tabla <code>Empleados</code>. Eliminar columna <code>ALTER TABLE Empleados DROP COLUMN fecha_contrato;</code> Elimina la columna <code>fecha_contrato</code> y todos sus datos. \u00a1Cuidado, esta acci\u00f3n es irreversible! Renombrar columna <code>ALTER TABLE Empleados RENAME COLUMN nombre TO nombre_completo;</code> Cambia el nombre de la columna <code>nombre</code> a <code>nombre_completo</code>. Modificar tipo de dato <code>ALTER TABLE Empleados MODIFY COLUMN nombre_completo VARCHAR(150);</code> Cambia el tipo de dato o la longitud de una columna existente. A\u00f1adir restricci\u00f3n <code>ALTER TABLE Empleados ADD CONSTRAINT uq_email UNIQUE (email);</code> A\u00f1ade una restricci\u00f3n de unicidad a la columna <code>email</code>. Eliminar restricci\u00f3n <code>ALTER TABLE Empleados DROP CONSTRAINT uq_email;</code> Elimina una restricci\u00f3n previamente creada. <p></p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#borrado-de-tablas","title":"Borrado de tablas","text":"<p>Para eliminar una tabla de una base de datos, se utiliza el comando <code>DROP TABLE</code>. La sintaxis b\u00e1sica para eliminar una tabla es la siguiente:</p> <pre><code>DROP TABLE [IF EXISTS] [base_de_datos.]nombre_tabla;\n</code></pre> <p>Como el borrado de una tabla implica la eliminaci\u00f3n de los registros, debemos tener en cuenta que en una base de datos relacional, las tablas pueden estar relacionadas entre s\u00ed mediante claves for\u00e1neas. Si intentamos eliminar una tabla que est\u00e1 siendo referenciada por otra tabla a trav\u00e9s de una clave for\u00e1nea, el SGBD puede impedir la eliminaci\u00f3n para mantener la integridad referencial. En estos casos, es necesario eliminar primero las relaciones de clave for\u00e1nea antes de poder eliminar la tabla.</p> <p>Resumen de borrado de tablas</p> <p>Resumen de las operaciones m\u00e1s comunes para borrar tablas:</p> Operaci\u00f3n Ejemplo Descripci\u00f3n Borrar tabla <code>DROP TABLE Empleados;</code> Elimina permanentemente la tabla <code>Empleados</code>, su estructura y todos los datos que contiene. Borrar si existe <code>DROP TABLE IF EXISTS Empleados;</code> Igual que la anterior, pero no dar\u00e1 un error si la tabla no existe. Muy \u00fatil en scripts."},{"location":"temas/03/3.1-DisenoFisico-DDL.html#restricciones-constraints-las-reglas-del-juego","title":"Restricciones (Constraints): Las reglas del juego","text":"<p>Las restricciones son reglas que aplicamos a las columnas de una tabla para garantizar la integridad y la calidad de los datos. Este tipo de restricciones se definen al momento de crear o modificar una tabla. A continuaci\u00f3n, se describen algunas de las restricciones m\u00e1s comunes mediante la sintaxis SQL:</p> <pre><code>CREATE TABLE [db.]tabla (\n    campo1 tipo_dato1 [NOT NULL | NULL] [DEFAULT valor],\n    ...,\n\n    [CONSTRAINT nombre_restriccion]\n    [ENGINE = Innodb] -- motor de ejecuci\u00f3n\n);\n</code></pre> <p>Recomendaci\u00f3n</p> <p>Para mantener una estructura clara y legible, usaremos la definici\u00f3n de restricciones:</p> <ul> <li>a nivel de columna, para restricciones simples como <code>DEFAULT</code>, <code>AUTO_INCREMENT</code> y <code>NOT NULL</code>.</li> <li>mediante <code>CONSTRAINT</code>, para restricciones m\u00e1s complejas como <code>PRIMARY KEY</code>, <code>FOREIGN KEY</code>, <code>CHECK</code> y <code>UNIQUE</code>.</li> </ul> <p>Las restricciones pueden aplicarse a nivel de columna o a nivel de tabla. A nivel de columna, las restricciones se definen directamente en la definici\u00f3n de la columna. A nivel de tabla, las restricciones se definen al final de la definici\u00f3n de la tabla utilizando la palabra clave <code>CONSTRAINT</code>.</p> <ul> <li> <p>Clave \u00danica (<code>UNIQUE</code>): Asegura que todos los valores en una columna (o conjunto de columnas) sean \u00fanicos. Por ejemplo, el DNI o el email de un usuario. Una tabla puede tener varias restricciones <code>UNIQUE</code>. A diferencia de la Clave Primaria, s\u00ed puede contener un valor <code>NULL</code> (y varios, de hecho, en MySQL).</p> <pre><code>CREATE TABLE Usuarios (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    email VARCHAR(100) UNIQUE,\n    username VARCHAR(50) NOT NULL,\n    CONSTRAINT uq_username UNIQUE (username) -- Otra forma de declararla\n);\n</code></pre> </li> <li> <p>Clave For\u00e1nea (<code>FOREIGN KEY</code>): Es el mecanismo que nos permite relacionar tablas. Una clave for\u00e1nea en una tabla (la tabla \"hija\") apunta a la clave primaria de otra tabla (la tabla \"padre\"). Esto garantiza la integridad referencial: no puedes tener un pedido para un cliente que no existe.</p> <p>Creaci\u00f3n al definir la tabla: </p><pre><code>CREATE TABLE Pedidos (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    fecha DATE,\n    id_cliente INT,\n    -- Opci\u00f3n 1: Sin nombre de constraint expl\u00edcito\n    FOREIGN KEY (id_cliente) REFERENCES Clientes(id)\n);\n\nCREATE TABLE LineasPedido (\n    id INT PRIMARY KEY,\n    id_pedido INT,\n    id_producto INT,\n    -- Opci\u00f3n 2: Dando un nombre a la constraint (recomendado)\n    CONSTRAINT fk_linea_pedido FOREIGN KEY (id_pedido) REFERENCES Pedidos(id)\n);\n</code></pre><p></p> <p>Creaci\u00f3n en una tabla ya existente: </p><pre><code>ALTER TABLE Pedidos\nADD CONSTRAINT fk_pedidos_clientes\nFOREIGN KEY (id_cliente) REFERENCES Clientes(id);\n</code></pre><p></p> </li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#propagacion-de-acciones","title":"Propagaci\u00f3n de acciones","text":"<p>Las acciones <code>ON DELETE</code> y <code>ON UPDATE</code> definen el comportamiento que se debe seguir cuando se elimina o actualiza un registro en la tabla referenciada. Las opciones disponibles son:</p> <ul> <li>CASCADE: Si se elimina o actualiza un registro en la tabla referenciada, se eliminar\u00e1n o actualizar\u00e1n autom\u00e1ticamente los registros correspondientes en la tabla que contiene la clave for\u00e1nea.</li> <li>SET NULL: Si se elimina o actualiza un registro en la tabla referenciada, los valores de la clave for\u00e1nea en la tabla que contiene la clave for\u00e1nea se establecer\u00e1n en <code>NULL</code>.</li> <li>NO ACTION: No se permite la eliminaci\u00f3n o actualizaci\u00f3n del registro en la tabla referenciada si existen registros relacionados en la tabla que contiene la clave for\u00e1nea. Esta es la opci\u00f3n predeterminada si no se especifica ninguna acci\u00f3n.</li> <li>SET DEFAULT: Si se elimina o actualiza un registro en la tabla referenciada, los valores de la clave for\u00e1nea en la tabla que contiene la clave for\u00e1nea se establecer\u00e1n en su valor por defecto.</li> <li>RESTRICT: Similar a <code>NO ACTION</code>, pero la verificaci\u00f3n se realiza inmediatamente cuando se intenta eliminar o actualizar el registro en la tabla referenciada.</li> </ul> <p>Nota</p> <p>La diferencia principal entre NO ACTION y RESTRICT es el momento en que se realiza la verificaci\u00f3n de integridad referencial. Con NO ACTION, la verificaci\u00f3n se realiza al final de una transacci\u00f3n, mientras que con RESTRICT, la verificaci\u00f3n se realiza inmediatamente.</p> <ul> <li> <p>Ejemplo con SET NULL</p> <pre><code>CREATE TABLE Pedidos (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    fecha DATE,\n    id_cliente INT,\n    FOREIGN KEY (id_cliente) REFERENCES Clientes(id)\n    ON DELETE SET NULL\n    ON UPDATE CASCADE\n);\n</code></pre> </li> <li> <p>Ejemplo con CASCADE</p> <pre><code>CREATE TABLE LineasPedido (\n    id INT PRIMARY KEY,\n    id_pedido INT,\n    id_producto INT,\n    CONSTRAINT fk_linea_pedido FOREIGN KEY (id_pedido) REFERENCES Pedidos(id)\n    ON DELETE CASCADE\n    ON UPDATE CASCADE\n);\n</code></pre> </li> <li> <p>Ejemplo con RESTRICT</p> <pre><code>CREATE TABLE Comentarios (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    id_producto INT,\n    comentario TEXT,\n    FOREIGN KEY (id_producto) REFERENCES Productos(id)\n    ON DELETE RESTRICT\n    ON UPDATE RESTRICT\n);\n</code></pre> </li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#validaciones-de-datos","title":"Validaciones de datos","text":"<p>Las restricciones <code>CHECK</code> se utilizan para validar los datos que se insertan o actualizan en una tabla. Estas restricciones permiten definir condiciones que los valores de una columna o conjunto de columnas deben cumplir para ser aceptados en la tabla. Si un valor no cumple con la condici\u00f3n definida en la restricci\u00f3n <code>CHECK</code>, el SGBD rechazar\u00e1 la operaci\u00f3n de inserci\u00f3n o actualizaci\u00f3n y devolver\u00e1 un error.</p> <pre><code>CREATE TABLE empleados (\n    id_empleado INT AUTO_INCREMENT,\n    nombre VARCHAR(100),\n    email VARCHAR(100),\n    fecha_contratacion DATE,\n    salario DECIMAL(10,2),\n\n    CONSTRAINT pk_empleados PRIMARY KEY (id_empleado),\n    CONSTRAINT ck_salario CHECK (salario &gt;= 0) -- El salario debe ser mayor o igual a 0\n);\n</code></pre> <p>De igual forma, podemos usar la restricci\u00f3n de verificaci\u00f3n para comparar valores entre varias columnas:</p> <pre><code>CREATE TABLE productos (\n    id_producto INT AUTO_INCREMENT,\n    nombre VARCHAR(100),\n    precio DECIMAL(10,2),\n    stock INT,\n\n    CONSTRAINT pk_empleados PRIMARY KEY (id_producto),\n    -- El precio y el stock deben ser mayores o iguales a 0\n    CONSTRAINT chk_precio_stock CHECK (precio &gt;= 0 AND stock &gt;= 0) \n);\n</code></pre>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#entre-un-rango-between","title":"Entre un rango (BETWEEN)","text":"<p>La cl\u00e1usula <code>BETWEEN</code> se utiliza en las restricciones <code>CHECK</code> para verificar si un valor se encuentra dentro de un rango espec\u00edfico. La sintaxis b\u00e1sica para utilizar <code>BETWEEN</code> en una restricci\u00f3n <code>CHECK</code> es la siguiente:</p> <pre><code>CONSTRAINT nombre_restriccion CHECK (columna BETWEEN valor_inferior AND valor_superior)\n</code></pre> <p>Ambos valores, el inferior y el superior, son inclusivos. Por ejemplo, si queremos asegurarnos de que la columna <code>edad</code> en una tabla <code>personas</code> est\u00e9 entre 0 y 120, podemos definir la restricci\u00f3n <code>CHECK</code> de la siguiente manera:</p> <pre><code>CREATE TABLE personas (\n    id_persona INT AUTO_INCREMENT,\n    nombre VARCHAR(100),\n    edad INT,\n\n    CONSTRAINT pk_personas PRIMARY KEY (id_persona),\n    CONSTRAINT chk_edad CHECK (edad BETWEEN 0 AND 120) -- La edad debe estar entre 0 y 120\n);\n</code></pre>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#conjunto-de-valores-in","title":"Conjunto de valores (IN)","text":"<p>La cl\u00e1usula <code>IN</code> se utiliza en las restricciones <code>CHECK</code> para verificar si un valor pertenece a un conjunto espec\u00edfico de valores. La sintaxis b\u00e1sica para utilizar <code>IN</code> en una restricci\u00f3n <code>CHECK</code> es la siguiente:</p> <pre><code>CONSTRAINT nombre_restriccion CHECK (columna IN (valor1, valor2, valor3, ...))\n</code></pre> <p>Por ejemplo, si queremos asegurarnos de que la columna <code>genero</code> en una tabla <code>usuarios</code> solo contenga los valores 'M' (masculino), 'F' (femenino) o 'O' (otro), podemos definir la restricci\u00f3n <code>CHECK</code> de la siguiente manera:</p> <pre><code>CREATE TABLE usuarios (\n    id_usuario INT AUTO_INCREMENT,\n    nombre VARCHAR(100),\n    genero CHAR(1),\n\n    CONSTRAINT pk_usuarios PRIMARY KEY (id_usuario),\n    CONSTRAINT chk_genero CHECK (genero IN ('M', 'F', 'O')) -- El g\u00e9nero debe ser 'M', 'F' o 'O'\n);\n</code></pre> <p>Ejemplos de validaciones de datos</p> <ul> <li> <p><code>CHECK</code>: Permite definir una condici\u00f3n que los datos deben cumplir.     </p><pre><code>CREATE TABLE Productos (\n    id INT,\n    nombre VARCHAR(50),\n    precio DECIMAL(10,2),\n    stock INT,\n    CONSTRAINT chk_precio CHECK (precio &gt; 0),\n    CONSTRAINT chk_stock CHECK (stock &gt;= 0)\n);\n</code></pre><p></p> </li> <li> <p><code>BETWEEN</code>: Se puede usar dentro de un <code>CHECK</code> para validar un rango.     </p><pre><code>ALTER TABLE Empleados ADD CONSTRAINT chk_edad CHECK (edad BETWEEN 18 AND 65);\n</code></pre><p></p> </li> <li> <p>Conjunto de valores (<code>IN</code>): Tambi\u00e9n se usa con <code>CHECK</code> para limitar los valores a una lista.     </p><pre><code>ALTER TABLE Pedidos ADD CONSTRAINT chk_estado CHECK (estado IN ('pendiente', 'enviado', 'entregado'));\n-- Aunque para esto, en MySQL es m\u00e1s eficiente y com\u00fan usar ENUM.\n</code></pre><p></p> </li> <li> <p><code>NULL</code> / <code>NOT NULL</code>: La restricci\u00f3n m\u00e1s b\u00e1sica. <code>NOT NULL</code> obliga a que la columna siempre tenga un valor.     </p><pre><code>CREATE TABLE Usuarios (\n    id INT,\n    email VARCHAR(100) NOT NULL\n);\n</code></pre><p></p> </li> </ul>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#gestion-de-restricciones","title":"Gesti\u00f3n de restricciones","text":"<p>Para a\u00f1adir o borrar una restricci\u00f3n en una tabla , se utiliza el comando <code>ALTER TABLE</code> junto con la cl\u00e1usula <code>ADD CONSTRAINT</code> y <code>DROP CONSTRAINT</code>.</p> <p>La sintaxis b\u00e1sica para a\u00f1adir una restricci\u00f3n es la siguiente:</p> <pre><code>ALTER TABLE nombre_tabla\n    ADD CONSTRAINT nombre_restriccion tipo_restriccion (columnas);\n</code></pre> <p>La sintaxis b\u00e1sica para eliminar una restricci\u00f3n es la siguiente:</p> <pre><code>ALTER TABLE nombre_tabla\n    DROP CONSTRAINT nombre_restriccion;\n</code></pre> <p>Si queremos ver las restricciones de una tabla, podemos usar el comando <code>SHOW CREATE TABLE</code>:</p> <pre><code>SHOW CREATE TABLE nombre_tabla;\n</code></pre> <p>Advertencia</p> <p>Si a\u00f1adimos una restricci\u00f3n tipo <code>CHECK</code> con datos existentes en la tabla, MySQL NO validar\u00e1 los datos existentes. Solo se validar\u00e1n los nuevos datos que se inserten o actualicen despu\u00e9s de a\u00f1adir la restricci\u00f3n.</p> <p>Por otro lado, si a\u00f1adimos una restricci\u00f3n tipo <code>UNIQUE</code>, <code>NULL</code>, <code>NOT NULL</code>, <code>PRIMARY KEY</code> o <code>FOREIGN KEY</code> con datos existentes en la tabla, MySQL validar\u00e1 TODOS los datos existentes. Si alg\u00fan dato no cumple con la restricci\u00f3n, MySQL devolver\u00e1 un error y no se a\u00f1adir\u00e1 la restricci\u00f3n.</p>"},{"location":"temas/03/3.1-DisenoFisico-DDL.html#vistas","title":"Vistas","text":"<p>Una vista es una tabla virtual que se crea a partir de una consulta SQL. Las vistas permiten simplificar consultas complejas, mejorar la seguridad al restringir el acceso a ciertos datos y proporcionar una capa de abstracci\u00f3n sobre las tablas subyacentes.</p> <p>Las vistas se crean utilizando el comando <code>CREATE VIEW</code>. La sintaxis b\u00e1sica para crear una vista es la siguiente:</p> <pre><code>CREATE VIEW nombre_vista AS\n    consulta_sql;\n</code></pre> <p>Por ejemplo, si tenemos una tabla <code>empleados</code> y queremos crear una vista que muestre solo los nombres y correos electr\u00f3nicos de los empleados, podemos hacerlo de la siguiente manera:</p> <pre><code>CREATE VIEW vista_empleados AS\n    SELECT nombre, email\n    FROM empleados;\n</code></pre> <p>Dado que no se han estudiando las consultas SQL, regresaremos a las vistas en unidades posteriores.</p>"},{"location":"temas/03/3.2-DCL.html","title":"3.1 Dise\u00f1o F\u00edsico: Lenguaje DCL","text":""},{"location":"temas/03/3.2-DCL.html#31-diseno-fisico-lenguaje-dcl","title":"3.1 Dise\u00f1o F\u00edsico: Lenguaje DCL","text":"<p>(En desarrollo)</p>"},{"location":"temas/03/Actividades-DDL.html","title":"Actividades DDL","text":""},{"location":"temas/03/Actividades-DDL.html#actividades","title":"Actividades","text":""},{"location":"temas/03/Actividades-DDL.html#ac301","title":"AC301","text":"Ejercicio AC301 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2a, CE2c // 5p <p>Para cada uno de los siguientes requisitos de almacenamiento, elige el tipo de dato de MySQL m\u00e1s adecuado y justifica tu decisi\u00f3n, considerando el uso de memoria y la precisi\u00f3n necesaria:</p> <p>a) El n\u00famero de identificaci\u00f3n fiscal de una persona (NIF/DNI en Espa\u00f1a). b) El sueldo mensual de un empleado (puede tener decimales, hasta 6 cifras antes del punto y 2 despu\u00e9s). c) Un identificador \u00fanico para transacciones bancarias (cadena alfanum\u00e9rica de 32 caracteres, como un UUID). d) Si un producto est\u00e1 en oferta o no. e) La cantidad de stock de un producto, que puede ir de 0 a 65535. f) La direcci\u00f3n IP de un usuario. g) El contenido de un comentario de blog (varios p\u00e1rrafos, pero limitado a 5000 caracteres). h) Coordenadas GPS (latitud y longitud con alta precisi\u00f3n).</p>"},{"location":"temas/03/Actividades-DDL.html#ac302","title":"AC302","text":"Ejercicio AC302 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2a, CE2c, CE2e, CE2h // 5p <p>Se desea crear una tabla <code>Usuario</code> donde el campo <code>nombreUsuario</code> debe ser \u00fanico y las b\u00fasquedas deben distinguir entre may\u00fasculas y min\u00fasculas, as\u00ed como acentos. La base de datos debe soportar el idioma espa\u00f1ol y caracteres especiales.</p> <p>a) \u00bfQu\u00e9 <code>CHARACTER SET</code> recomendar\u00edas para la base de datos y/o la columna <code>nombreUsuario</code>? b) \u00bfQu\u00e9 <code>COLLATION</code> espec\u00edfica dentro de ese juego de caracteres deber\u00edas usar para que las comparaciones sean sensibles a may\u00fasculas/min\u00fasculas y acentos? c) Escribe la sentencia SQL para crear una tabla <code>Usuario</code> con un campo <code>nombreUsuario</code> de 50 caracteres que cumpla con estos requisitos de sensibilidad.</p>"},{"location":"temas/03/Actividades-DDL.html#ac303","title":"AC303","text":"Ejercicio AC303 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2a, CE2c, CE2e, CE2h // 5p <p>Imagina que est\u00e1s dise\u00f1ando una tabla <code>Evento</code>. Para cada campo, elige el tipo de dato m\u00e1s apropiado y sus atributos (ej. <code>NOT NULL</code>, <code>DEFAULT</code>, <code>UNSIGNED</code>, <code>ZEROFILL</code>, etc.) justificando tu elecci\u00f3n:</p> <p>a) <code>id</code>: Un identificador num\u00e9rico \u00fanico para cada evento, que se genera autom\u00e1ticamente. b) <code>nombreEvento</code>: El nombre del evento (obligatorio). c) <code>fechaHoraInicio</code>: La fecha y hora exactas en que comienza el evento (obligatorio, por defecto la fecha y hora actual si no se especifica). d) <code>duracionMinutos</code>: La duraci\u00f3n del evento en minutos (siempre un n\u00famero positivo, hasta 32767 minutos). e) <code>esPrivado</code>: Un indicador de si el evento es privado o p\u00fablico. f) <code>descripcion</code>: Una descripci\u00f3n opcional del evento, que puede ser muy larga (hasta 10.000 caracteres).</p>"},{"location":"temas/03/Actividades-DDL.html#ac304","title":"AC304","text":"Ejercicio AC304 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 3p <p>Crea una tabla <code>Cliente</code> con los siguientes campos:</p> <ul> <li><code>id</code>: Entero, clave primaria, auto-incrementable.</li> <li><code>nombre</code>: Cadena de texto de hasta 100 caracteres, no nulo.</li> <li><code>apellido</code>: Cadena de texto de hasta 100 caracteres, no nulo.</li> <li><code>email</code>: Cadena de texto de hasta 255 caracteres, \u00fanica.</li> <li><code>fechaNacimiento</code>: Fecha.</li> </ul>"},{"location":"temas/03/Actividades-DDL.html#ac305","title":"AC305","text":"Ejercicio AC305 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 5p <p>En una universidad, se lleva un registro de las asignaturas que cursa cada alumno en un periodo acad\u00e9mico espec\u00edfico. Crea una tabla <code>Matricula</code> con los siguientes campos, utilizando una clave primaria compuesta:</p> <ul> <li><code>alumnoId</code>: Entero, no nulo.</li> <li><code>asignaturaId</code>: Entero, no nulo.</li> <li><code>periodoAcademico</code>: Cadena de texto de 10 caracteres (ej: \"2023-2024\").</li> <li><code>fechaMatricula</code>: Fecha, no nulo.</li> </ul> <p>La combinaci\u00f3n de <code>alumnoId</code>, <code>asignaturaId</code> y <code>periodoAcademico</code> debe ser \u00fanica.</p>"},{"location":"temas/03/Actividades-DDL.html#ac306","title":"AC306","text":"Ejercicio AC306 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 5p <p>Crea dos tablas: <code>Departamento</code> y <code>Empleado</code>.</p> <ul> <li><code>Departamento</code>:</li> <li><code>id</code>: Entero, clave primaria, auto-incrementable.</li> <li><code>nombreDepartamento</code>: Cadena de texto de hasta 50 caracteres, \u00fanico, no nulo.</li> <li><code>Empleado</code>:</li> <li><code>id</code>: Entero, clave primaria, auto-incrementable.</li> <li><code>nombreEmpleado</code>: Cadena de texto de hasta 100 caracteres, no nulo.</li> <li><code>apellidoEmpleado</code>: Cadena de texto de hasta 100 caracteres, no nulo.</li> <li><code>email</code>: Cadena de texto de hasta 255 caracteres, \u00fanica.</li> <li><code>departamentoId</code>: Entero, clave for\u00e1nea que referencia a <code>id</code> de la tabla <code>Departamento</code>.</li> </ul> <p>Define la clave for\u00e1nea para que, si un departamento es eliminado, los empleados asociados a ese departamento pasen a tener <code>NULL</code> en su <code>departamentoId</code>.</p>"},{"location":"temas/03/Actividades-DDL.html#ac307","title":"AC307","text":"Ejercicio AC307 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 7p <p>Considerando la tabla <code>Matricula</code> del Ejercicio AC305. Ahora queremos que <code>alumnoId</code> sea una clave for\u00e1nea que referencia a una tabla <code>Alumno</code> y <code>asignaturaId</code> sea una clave for\u00e1nea que referencia a una tabla <code>Asignatura</code>.</p> <ul> <li><code>Alumno</code>:</li> <li><code>id</code>: Entero, clave primaria, auto-incrementable.</li> <li><code>nombreAlumno</code>: Cadena de texto de hasta 100 caracteres, no nulo.</li> <li><code>Asignatura</code>:</li> <li><code>id</code>: Entero, clave primaria, auto-incrementable.</li> <li><code>nombreAsignatura</code>: Cadena de texto de hasta 100 caracteres, no nulo.</li> </ul> <p>Escribe las sentencias SQL para crear las tres tablas (<code>Alumno</code>, <code>Asignatura</code> y <code>Matricula</code>) con sus respectivas claves for\u00e1neas. Para <code>Matricula</code>, aseg\u00farate de que la clave for\u00e1nea <code>alumnoId</code> referencie a <code>Alumno</code> y <code>asignaturaId</code> a <code>Asignatura</code>, con las acciones por defecto en caso de borrado o actualizaci\u00f3n.</p>"},{"location":"temas/03/Actividades-DDL.html#ac308","title":"AC308","text":"Ejercicio AC308 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 5p <p>Crea una tabla <code>Producto</code> con los siguientes campos:</p> <ul> <li><code>id</code>: Entero, clave primaria, auto-incrementable.</li> <li><code>nombreProducto</code>: Cadena de texto de hasta 100 caracteres, no nulo.</li> <li><code>precioUnitario</code>: Decimal (10, 2), no nulo. Debe ser siempre mayor que 0.</li> <li><code>cantidadStock</code>: Entero, no nulo, con un valor por defecto de 0. Debe ser siempre mayor o igual a 0.</li> <li><code>fechaUltimaActualizacion</code>: Fecha y hora, con valor por defecto la fecha y hora actual.</li> </ul> <p>Incluye las restricciones <code>CHECK</code> necesarias para <code>precioUnitario</code> y <code>cantidadStock</code>.</p>"},{"location":"temas/03/Actividades-DDL.html#ac309","title":"AC309","text":"Ejercicio AC309 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2h // 3p <p>Despu\u00e9s de crear las tablas de los ejercicios AC304, AC306 y AC308, utiliza la l\u00ednea de comandos de MySQL para:</p> <p>a) Mostrar la sentencia <code>CREATE TABLE</code> completa de la tabla <code>Cliente</code>. b) Mostrar la estructura detallada de la tabla <code>Empleado</code>. c) Mostrar la sentencia <code>CREATE TABLE</code> completa de la tabla <code>Producto</code>, verificando que las restricciones <code>CHECK</code> se hayan aplicado.</p>"},{"location":"temas/03/Actividades-DDL.html#ac310","title":"AC310","text":"Ejercicio AC31 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2h // 3p <ul> <li>A la tabla <code>Cliente</code> (del Ejercicio AC304), a\u00f1ade una nueva columna llamada <code>telefono</code> de tipo cadena de texto de hasta 15 caracteres, que puede ser nula.</li> <li>Modifica la columna <code>descripcion</code> de la tabla <code>Evento</code> (del Ejercicio AC303.C) para que ahora tenga un l\u00edmite de 20.000 caracteres y sea de tipo <code>TEXT</code> en lugar del <code>VARCHAR</code> impl\u00edcito.</li> <li>De la tabla <code>Producto</code> (del Ejercicio AC308.C), elimina la columna <code>fechaUltimaActualizacion</code>.</li> <li>A la tabla <code>Empleado</code> (del Ejercicio AC306.C), a\u00f1ade una restricci\u00f3n <code>UNIQUE</code> a la combinaci\u00f3n de <code>nombreEmpleado</code> y <code>apellidoEmpleado</code>. Esto significa que no puede haber dos empleados con el mismo nombre y apellido.</li> </ul>"},{"location":"temas/03/Actividades-DDL.html#ac311","title":"AC311","text":"Ejercicio AC311 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2h // 3p <p>a) Renombra la columna <code>nombreProducto</code> de la tabla <code>Producto</code> (del Ejercicio AC308.C) a <code>nombre</code>. b) Renombra la tabla <code>Producto</code> a <code>Articulo</code>. c) Elimina la clave for\u00e1nea que relaciona la tabla <code>Empleado</code> con la tabla <code>Departamento</code>. d) Elimina la tabla <code>Evento</code> (del Ejercicio AC303.C).</p> <p>Exercicios tipo examen</p>"},{"location":"temas/03/Actividades-DDL.html#ac312","title":"AC312","text":"Ejercicio AC312.A Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 5p <p>A partir del siguiente modelo l\u00f3gico:</p> <ul> <li> <p>M\u00f3delo l\u00f3gico</p> <pre><code>Table Estudiante {\n    nia texto [pk, note:\"10 longitud fija\"]\n    nombre texto [not null, note:\"max 50 caracteres\"]\n    apellidos texto [not null, note:\"max 80 caracteres\"]\n    fnac fecha [not null]\n    grupoID numero [not null]\n}\n\nTable Grupo {\n    codigo numero [pk]\n    descripcion texto [not null, note:\"max 500 longitud\"]\n    delegadoID texto [null, note:\"FK de estudiante\"]\n}\n\nTable Asignatura {\n    codigo numero [pk]\n    nombre texto [not null, note:\"max 100 longitud\"]\n    docenteID texto [not null]\n}\n\nTable Docente {\n    dni texto [pk, note:\"9 longitud fija\"]\n    nombre texto [not null]\n    email texto [not null, unique]\n}\n\nTable Matricula {\n    estudianteID texto [pk]\n    asignaturaID numero [pk]\n}\n\nRef: \"Grupo\".\"codigo\" &lt; \"Estudiante\".\"grupoID\"\nRef: \"Estudiante\".\"nia\" - \"Grupo\".\"delegadoID\"\nRef: \"Estudiante\".\"nia\" &lt; \"Matricula\".\"estudianteID\"\nRef: \"Asignatura\".\"codigo\" &lt; \"Matricula\".\"asignaturaID\"\nRef: \"Docente\".\"dni\" &lt; \"Asignatura\".\"docenteID\"\n</code></pre> </li> <li> <p>Diagrama m\u00f3delo l\u00f3gico</p> <p> </p> </li> </ul> <p>Realiza el modelo f\u00edsico, creando un script \u00fanico incluyendo los siguientes elementos:</p> <ul> <li>La creaci\u00f3n de la BD, de nombre \"AC312A\"</li> <li>Cada tabla indicada en el modelo l\u00f3gico con su nombre y atributos.</li> <li>Crea las restricciones de Foreign Key dando nombre a la restricci\u00f3n. <pre><code>CONSTRAINT {nombre-restriccion} FOREIGN KEY ({columna}) REFERENCES {tabla}({columna})\n</code></pre></li> </ul>"},{"location":"temas/03/Actividades-DDL.html#ac313","title":"AC313","text":"Ejercicio AC313 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 5p <p>A partir del siguiente modelo l\u00f3gico:</p> <ul> <li> <p>M\u00f3delo l\u00f3gico</p> <pre><code>Table Estudiante {\nnia texto [pk, note:\"10 longitud fija\"]\nnombre texto [not null, note:\"max 50 caracteres\"]\napellidos texto [not null, note:\"max 80 caracteres\"]\nfnac fecha [not null]\ngrupoID numero [not null]\n}\n\nTable Grupo {\ncodigo numero [pk]\ndescripcion texto [not null, note:\"max 500 longitud\"]\ndelegadoID texto [null, note:\"FK de estudiante\"]\n}\n\nTable Asignatura {\ncodigo numero [pk]\nnombre texto [not null, note:\"max 100 longitud\"]\ncicloID texto [not null]\ndocenteID texto [not null]\n}\n\nTable Ciclo {\ncodigo texto [pk, note:\"codigo de 3 digitos\"]\nnombre texto [not null]\ntipo texto [note: \"Valores posibles A,B,C,D,E\"]\n}\n\nTable Docente {\ndni texto [pk, note:\"9 longitud fija\"]\nnombre texto [not null]\nemail texto [not null, unique]\n}\n\nTable Matricula {\nestudianteID texto [pk]\nasignaturaID numero [pk]\n}\n\nRef: \"Grupo\".\"codigo\" &lt; \"Estudiante\".\"grupoID\"\nRef: \"Estudiante\".\"nia\" - \"Grupo\".\"delegadoID\"\nRef: \"Estudiante\".\"nia\" &lt; \"Matricula\".\"estudianteID\"\nRef: \"Asignatura\".\"codigo\" &lt; \"Matricula\".\"asignaturaID\"\nRef: \"Docente\".\"dni\" &lt; \"Asignatura\".\"docenteID\"\nRef: \"Ciclo\".\"codigo\" &lt; \"Asignatura\".\"cicloID\"\n</code></pre> </li> <li> <p>Diagrama m\u00f3delo l\u00f3gico</p> <p> </p> </li> </ul> <p>Realiza el modelo f\u00edsico, creando un script \u00fanico incluyendo los siguientes elementos:</p> <ul> <li>La creaci\u00f3n de la BD, de nombre \"AC313\"</li> <li>Cada tabla indicada en el modelo l\u00f3gico con su nombre y atributos.</li> <li>Cada restricci\u00f3n se agrega utilizando la forma dando nombre a la restricci\u00f3n.</li> <li>Para las restricciones de Foreign Key, aplica la siguiente propagaci\u00f3n:</li> <li>Al borrar un docente, el campo <code>docenteID</code> debe ser null.</li> <li>Al borrar un grupo, el campo <code>grupoID</code> debe ser null.</li> <li>Al eliminar un <code>estudiante</code> el campo <code>delegadoID</code> sea null.</li> <li>No se permita borrar <ul> <li>un ciclo si tiene asignaturas vinculadas.</li> <li>un estudiante si tiene matriculas</li> <li>una asignatura si tiene matriculas</li> </ul> </li> </ul>"},{"location":"temas/03/Actividades-DDL.html#ac314","title":"AC314","text":"Ejercicio AC314: La Superliga de Datos Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 15p <p>Te han contratado como Administrador de Base de Datos (DBA) para la nueva liga de f\u00fatbol. El equipo de an\u00e1lisis te ha entregado el modelo l\u00f3gico inicial, pero como suele pasar en los proyectos reales, los requisitos van a cambiar sobre la marcha y tendr\u00e1s que adaptar la base de datos sin perder informaci\u00f3n.</p> <p>Parte 1: El Modelo L\u00f3gico Inicial</p> <p>Analiza el siguiente c\u00f3digo DBML. Presta atenci\u00f3n a las notas sobre longitudes y tipos de datos.</p> <ul> <li> <p>M\u00f3delo l\u00f3gico</p> <pre><code>// Nombre de la Base de Datos: LIGA_FUTBOL\n\nTable EQUIPO {\ncod_equipo char(3) [pk, note: \"C\u00f3digo de 3 letras, ej: RMA, BAR\"]\nnombre_oficial varchar(100) [not null, unique, note: \"Nombre \u00fanico del club\"]\nciudad varchar(30) [not null]\nanio_fundacion int [null]\nweb_oficial varchar(200) [null]\n}\n\nTable JUGADOR {\ndni char(9) [pk, note: \"DNI con letra\"]\nnombre varchar(50) [not null]\napellidos varchar(50) [not null]\ndorsal int [not null]\nposicion enum [note: \"Valores: 'PORTERO','DEFENSA','MEDIO','DELANTERO'\"]\ncod_equipo char(3) [not null, note: \"FK hacia EQUIPO\"]\n}\n\nTable ESTADIO {\nid_estadio int [pk, increment]\nnombre varchar(100) [not null]\ncapacidad int [not null, default: 5000]\ncod_equipo char(3) [not null, unique, note: \"FK hacia EQUIPO. Relaci\u00f3n 1:1\"]\n}\n\n// Relaciones\nRef: EQUIPO.cod_equipo &lt; JUGADOR.cod_equipo\nRef: EQUIPO.cod_equipo - ESTADIO.cod_equipo // Relaci\u00f3n 1:1\n</code></pre> </li> <li> <p>Diagrama m\u00f3delo l\u00f3gico</p> <p> </p> </li> </ul> <p>Parte 2: Tareas de Implementaci\u00f3n (DDL)</p> <p>Realiza un \u00fanico script SQL (.sql) que resuelva secuencialmente los siguientes apartados. Comenta cada paso en el c\u00f3digo.</p> <p>A. Creaci\u00f3n de la Estructura Base</p> <ol> <li>Crea la base de datos <code>SUPERLIGA</code> y selecci\u00f3nala.</li> <li>Crea la tabla <code>ESTADIO</code> con su clave primaria.</li> <li>Crea la tabla <code>EQUIPO</code>.<ul> <li>Define la <code>PK</code> y la restricci\u00f3n <code>UNIQUE</code> de nombre (<code>uk_equipo_nombre</code>).</li> <li>IMPORTANTE: Define la Clave Ajena <code>EstadioID</code> (<code>fk_equipo_estadio</code>) dentro de la sentencia <code>CREATE TABLE</code>.</li> </ul> </li> <li>Crea la tabla <code>JUGADOR</code>, pero NO definas la Clave Ajena <code>EquipoID</code> todav\u00eda (la a\u00f1adiremos despu\u00e9s).<ul> <li>Define la <code>PK</code>.</li> <li>Define una restricci\u00f3n <code>CHECK</code> llamada <code>chk_jugador_dorsal</code> para asegurar que el dorsal est\u00e1 entre 1 y 99.</li> </ul> </li> </ol> <p>B. Modificaci\u00f3n de la Estructura (ALTER)</p> <p>El cliente te llama con nuevos requisitos. Usa sentencias <code>ALTER TABLE</code> para aplicar los cambios:</p> <ol> <li>Agregar Restricci\u00f3n Olvidada: A\u00f1ade la Clave Ajena <code>EquipoID</code> a la tabla <code>JUGADOR</code> que referencia a la tabla <code>EQUIPO</code>. Dale el nombre <code>fk_jugador_equipo</code>.</li> <li>Agregar Columna: A\u00f1ade una columna <code>email</code> a la tabla <code>JUGADOR</code> (Varchar 100, \u00fanico). Aseg\u00farate de crear la restricci\u00f3n <code>UNIQUE</code> con nombre <code>uk_jugador_email</code>.</li> <li>Modificar Columna: Se han dado cuenta de que algunos nombres de estadios son muy largos. Modifica la columna <code>nombre</code> de la tabla <code>ESTADIO</code> para que admita hasta 150 caracteres.</li> <li>A\u00f1adir Validaci\u00f3n: A\u00f1ade una restricci\u00f3n <code>CHECK</code> a la tabla <code>EQUIPO</code> llamada <code>chk_presupuesto_positivo</code> para asegurar que el <code>presupuesto</code> sea mayor o igual a 0.</li> <li>Eliminar Columna: La columna <code>web</code> de la tabla <code>EQUIPO</code> ya no es necesaria. Elim\u00ednala.</li> <li>Eliminar Restricci\u00f3n: Elimina la restricci\u00f3n <code>CHECK</code> del dorsal de la tabla <code>JUGADOR</code> (<code>chk_jugador_dorsal</code>) porque han fichado a un jugador que quiere llevar el 0.</li> </ol> <p>C. Operaciones Destructivas</p> <ol> <li>Crea una tabla ficticia llamada <code>PATROCINADOR</code> con un campo <code>id</code> y <code>nombre</code>.</li> <li>Elimina la tabla <code>PATROCINADOR</code>.</li> </ol>"},{"location":"temas/03/Actividades-DDL.html#ac315","title":"AC315","text":"Ejercicio AC315: El marcador en tiempo real Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.2 // CE2b, CE2c, CE2d, CE2e, CE2h // 15p <p>La \"Liga de F\u00fatbol Digital\" te ha contratado como Ingeniero de Datos para construir el n\u00facleo de su nuevo sistema de estad\u00edsticas. Necesitan una base de datos robusta capaz de registrar no solo los resultados finales, sino tambi\u00e9n qui\u00e9n pit\u00f3 el partido, qu\u00e9 relaci\u00f3n jer\u00e1rquica tienen los \u00e1rbitros entre s\u00ed y las incidencias minuto a minuto (goles, tarjetas, lesiones) asociadas a cada jugador.</p> <p>Parte 1: El Modelo L\u00f3gico Inicial</p> <p>Analiza el siguiente c\u00f3digo DBML. Presta atenci\u00f3n a las notas sobre longitudes y tipos de datos.</p> <ul> <li> <p>M\u00f3delo l\u00f3gico</p> <pre><code>// Nombre de la Base de Datos: LIGA_FUTBOL\nTable EQUIPO {\n    id texto [pk, note: \"Tipo CHAR(3). Ej: RMA, BAR\"]\n    nombreLargo texto [not null, note: \"Tipo VARCHAR(100)\"]\n}\n\nTable JUGADOR {\n    id numero [pk, increment, note: \"Entero autoincremental\"]\n    nombre texto [not null, note: \"Tipo VARCHAR(100)\"]\n\n    // FK\n    equipoId texto [not null, note: \"FK hacia EQUIPO. Tipo CHAR(3)\"]\n}\n\nTable ARBITRO {\n    id numero [pk, increment, note: \"Entero autoincremental\"]\n    nombre texto [not null, note: \"Tipo VARCHAR(50)\"]\n    nivel texto [note: \"Tipo ENUM. Valores: 'FIFA', 'NACIONAL', 'REGIONAL'\"]\n\n    // Relaci\u00f3n Reflexiva\n    arbitroMentorId numero [null, note: \"FK reflexiva hacia ARBITRO. Entero.\"]\n}\n\nTable PARTIDO {\n    id numero [pk, increment, note: \"Entero autoincremental\"]\n    fecha fecha [not null, note: \"Tipo DATETIME\"]\n    jornada numero [not null, note: \"Entero\"]\n\n    // Roles\n    equipoLocalId texto [not null, note: \"FK hacia EQUIPO. Tipo CHAR(3)\"]\n    equipoVisitanteId texto [not null, note: \"FK hacia EQUIPO. Tipo CHAR(3)\"]\n    arbitroId numero [not null, note: \"FK hacia ARBITRO. Entero\"]\n}\n\nTable INCIDENCIA {\n    // Tabla intermedia\n    partidoId numero [pk, note: \"Parte de PK. Entero\"]\n    jugadorId numero [pk, note: \"Parte de PK. Entero\"]\n    minuto numero [pk, note: \"Parte de PK. Entero\"]\n    tipo texto [not null, note: \"Tipo VARCHAR(20). Ej: 'GOL'\"]\n}\n\n// Relaciones\nRef: EQUIPO.id &lt; JUGADOR.equipoId\nRef: ARBITRO.id - ARBITRO.arbitroMentorId\nRef: EQUIPO.id &lt; PARTIDO.equipoLocalId\nRef: EQUIPO.id &lt; PARTIDO.equipoVisitanteId\nRef: ARBITRO.id &lt; PARTIDO.arbitroId\n\nRef: PARTIDO.id &lt; INCIDENCIA.partidoId\nRef: JUGADOR.id &lt; INCIDENCIA.jugadorId\n</code></pre> </li> <li> <p>Diagrama m\u00f3delo l\u00f3gico</p> <p> </p> </li> </ul> <p>Parte 2: Tareas de Implementaci\u00f3n (DDL)</p> <p>Crea un \u00fanico script SQL para MySQL que realice secuencialmente los siguientes pasos.</p> <p>A. Creaci\u00f3n de Tablas (CREATE)</p> <ol> <li>Crea la BD <code>RESULTADOS_FUTBOL</code>.</li> <li>Crea las tablas <code>EQUIPO</code> y <code>JUGADOR</code> respetando los tipos indicados en las notas. En <code>JUGADOR</code>, define la FK <code>fk_jugador_equipo</code> dentro del <code>CREATE</code>.</li> <li>Crea la tabla <code>ARBITRO</code>.<ul> <li>Define la columna <code>arbitroMentorId</code> (nullable).</li> <li>Define la FK Reflexiva llamada <code>fk_arbitro_mentor</code>.</li> </ul> </li> <li>Crea la tabla <code>PARTIDO</code>.<ul> <li>Presta atenci\u00f3n a las columnas <code>equipoLocalId</code> y <code>equipoVisitanteId</code> (ambas son <code>CHAR(3)</code>).</li> <li>Define las restricciones <code>fk_partido_local</code>, <code>fk_partido_visitante</code> y <code>fk_partido_arbitro</code>.</li> </ul> </li> </ol> <p>B. Modificaciones (ALTER)</p> <ol> <li>Tabla Intermedia: Crea la tabla <code>INCIDENCIA</code> con su PK compuesta (<code>partidoId</code>, <code>jugadorId</code>, <code>minuto</code>). NO a\u00f1adas las FKs todav\u00eda.</li> <li>A\u00f1adir FKs: Usa <code>ALTER TABLE</code> para a\u00f1adir las FKs a <code>INCIDENCIA</code> con los nombres:<ul> <li><code>fk_incidencia_partido</code></li> <li><code>fk_incidencia_jugador</code></li> </ul> </li> <li>A\u00f1adir Columna: Se ha decidido registrar el tiempo a\u00f1adido. A\u00f1ade la columna <code>tiempoExtra</code> (<code>INT</code>, por defecto <code>0</code>) a la tabla <code>PARTIDO</code>.</li> <li>Modificar Columna: El campo <code>tipo</code> de la tabla <code>INCIDENCIA</code> se defini\u00f3 como <code>VARCHAR</code>. Modif\u00edcalo para que sea un <code>ENUM</code> con los valores: <code>'GOL'</code>, <code>'AMARILLA'</code>, <code>'ROJA'</code>, <code>'LESION'</code>.</li> <li>A\u00f1adir Validaci\u00f3n: A\u00f1ade una restricci\u00f3n CHECK llamada <code>chk_jornada_valida</code> en <code>PARTIDO</code> para asegurar que la jornada est\u00e1 entre 1 y 38.</li> <li>Eliminar Restricci\u00f3n: La federaci\u00f3n elimina el sistema de mentores. Borra la restricci\u00f3n FK <code>fk_arbitro_mentor</code> de la tabla <code>ARBITRO</code>.</li> </ol>"},{"location":"temas/03_1eval/Repaso_RA2.html","title":"Resumen","text":""},{"location":"temas/03_1eval/Repaso_RA2.html#resumen-de-estudio-1-evaluacion","title":"Resumen de Estudio: 1 Evaluaci\u00f3n","text":""},{"location":"temas/03_1eval/Repaso_RA2.html#diseno-fisico-lenguaje-ddl-sql","title":"\ud83d\udcda Dise\u00f1o F\u00edsico: Lenguaje DDL (SQL)","text":""},{"location":"temas/03_1eval/Repaso_RA2.html#1-contexto-del-diseno-logico-al-fisico","title":"1. Contexto: Del Dise\u00f1o L\u00f3gico al F\u00edsico","text":"<p>Hemos pasado por el Dise\u00f1o Conceptual (Entidades/Relaciones) y el Dise\u00f1o L\u00f3gico (Tablas gen\u00e9ricas). Ahora entramos en el Dise\u00f1o F\u00edsico: la implementaci\u00f3n real en un SGBD concreto (en nuestro caso, MySQL).</p> <ul> <li>Objetivo: Traducir el esquema l\u00f3gico a c\u00f3digo SQL ejecutable.</li> <li>Herramienta: El lenguaje SQL (Structured Query Language).</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#sublenguajes-de-sql","title":"Sublenguajes de SQL","text":"<p>Aunque SQL es uno solo, se divide en categor\u00edas seg\u00fan su funci\u00f3n. Para este tema, nos centramos en el primero:</p> <ol> <li>DDL (Data Definition Language): Definir estructura (<code>CREATE</code>, <code>ALTER</code>, <code>DROP</code>).</li> <li>DML: Manipular datos (<code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code>).</li> <li>DQL: Consultar datos (<code>SELECT</code>).</li> <li>DCL: Control de acceso (<code>GRANT</code>, <code>REVOKE</code>).</li> </ol>"},{"location":"temas/03_1eval/Repaso_RA2.html#2-tipos-de-datos-data-types","title":"2. Tipos de Datos (Data Types)","text":"<p>Elegir el tipo correcto es vital para la optimizaci\u00f3n y la integridad.</p>"},{"location":"temas/03_1eval/Repaso_RA2.html#texto","title":"\ud83d\udd24 Texto","text":"<ul> <li><code>CHAR(n)</code>: Longitud fija. Si guardas \"Hola\" en un <code>CHAR(10)</code>, rellena con espacios. \u00dasalo para c\u00f3digos fijos (ej: DNI, CP).</li> <li><code>VARCHAR(n)</code>: Longitud variable. Solo ocupa lo que escribas + un extra para la longitud. El est\u00e1ndar para nombres, emails, direcciones.</li> <li><code>TEXT</code>: Para textos largos sin l\u00edmite predefinido corto. Tiene limitaciones de rendimiento al ordenar/indexar.</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#numeros","title":"\ud83d\udd22 N\u00fameros","text":"<ul> <li>Enteros: <code>TINYINT</code>, <code>SMALLINT</code>, <code>INT</code>, <code>BIGINT</code>.<ul> <li>Modificador <code>UNSIGNED</code>: Solo permite positivos, duplicando el rango m\u00e1ximo.</li> </ul> </li> <li>Decimales Exactos:<ul> <li><code>DECIMAL(M, D)</code>: Exactitud total. <code>DECIMAL(10,2)</code> significa 10 d\u00edgitos totales, 2 de ellos decimales. Obligatorio para dinero.</li> </ul> </li> <li>Decimales Aproximados:<ul> <li><code>FLOAT</code> / <code>DOUBLE</code>: Para c\u00e1lculos cient\u00edficos. No usar para dinero por errores de redondeo.</li> </ul> </li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#fecha-y-hora","title":"\ud83d\udcc5 Fecha y Hora","text":"<ul> <li><code>DATE</code>: Solo fecha (YYYY-MM-DD).</li> <li><code>TIME</code>: Solo hora (HH:MM:SS).</li> <li><code>DATETIME</code>: Fecha y hora. Rango amplio.</li> <li><code>TIMESTAMP</code>: Fecha y hora. Rango limitado (hasta 2038). Ventaja: Se guarda en UTC y se adapta a la zona horaria; puede actualizarse solo al modificar la fila.</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#otros","title":"\ud83d\udee0 Otros","text":"<ul> <li><code>ENUM</code>: Lista cerrada de valores (ej: 'S', 'M', 'L', 'XL'). Internamente son n\u00fameros (1, 2...).</li> <li><code>BLOB</code>: Binarios grandes (im\u00e1genes, archivos).</li> <li><code>BOOLEAN</code>: En MySQL es un alias de <code>TINYINT(1)</code>.</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#3-sintaxis-ddl-creacion-de-estructuras","title":"3. Sintaxis DDL: Creaci\u00f3n de Estructuras","text":"<p>\u26a0\ufe0f Nota sobre May\u00fasculas/Min\u00fasculas: En Windows, los nombres de tablas suelen ser insensibles a may\u00fasculas. En Linux, son sensibles. Recomendaci\u00f3n: Usar siempre min\u00fasculas para tablas y columnas.</p>"},{"location":"temas/03_1eval/Repaso_RA2.html#bases-de-datos","title":"\ud83c\udfdb\ufe0f Bases de Datos","text":"<pre><code>-- Crear si no existe\nCREATE DATABASE IF NOT EXISTS tienda CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci;\n\n-- Seleccionar para usar\nUSE tienda;\n\n-- Borrar\nDROP DATABASE IF EXISTS tienda;\n</code></pre> <p>Motores (engine) en MySQL</p> <ul> <li>Motores: <code>InnoDB</code> (Soporta transacciones y FK, el est\u00e1ndar moderno) vs <code>MyISAM</code> (Antiguo, r\u00e1pido en lectura, sin integridad referencial).</li> <li>Charset: Usar <code>utf8mb4</code> para soporte completo Unicode (emojis incluidos).</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#tablas-create-table","title":"\ud83c\udfd7\ufe0f Tablas (<code>CREATE TABLE</code>)","text":"<p>Es la instrucci\u00f3n m\u00e1s compleja. Estructura general:</p> <pre><code>CREATE TABLE nombre_tabla (\n    nombre_columna tipo_dato [restricciones_columna],\n    nombre_columna2 tipo_dato [restricciones_columna],\n    ...\n    [restricciones_tabla]\n) ENGINE=InnoDB;\n</code></pre> <p>Modificadores de Columna</p> <ul> <li><code>NOT NULL</code>: Obliga a tener un valor.</li> <li><code>DEFAULT valor</code>: Si no insertas nada, usa este valor.</li> <li><code>AUTO_INCREMENT</code>: Genera una secuencia (1, 2, 3...) autom\u00e1tica. Solo para claves primarias enteras.</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#4-restricciones-constraints","title":"4. Restricciones (Constraints)","text":"<p>Las reglas que protegen la integridad de los datos. Se recomienda ponerles nombre (<code>CONSTRAINT nombre ...</code>).</p>"},{"location":"temas/03_1eval/Repaso_RA2.html#primary-key-pk","title":"\ud83d\udd11 Primary Key (PK)","text":"<p>Identificador \u00fanico de la fila.</p> <ul> <li>Implica <code>UNIQUE</code> + <code>NOT NULL</code>.</li> <li>Puede ser compuesta (varias columnas).</li> </ul> <pre><code>-- En la misma l\u00ednea (simple)\nid INT PRIMARY KEY AUTO_INCREMENT\n\n-- Al final (recomendado o para compuestas)\nCONSTRAINT pk_empleado PRIMARY KEY (id_empleado)\nCONSTRAINT pk_detalle PRIMARY KEY (id_pedido, id_producto)\n</code></pre>"},{"location":"temas/03_1eval/Repaso_RA2.html#foreign-key-fk-integridad-referencial","title":"\ud83d\udd17 Foreign Key (FK) - Integridad Referencial","text":"<p>Vincula una columna con la PK de otra tabla.</p> <ul> <li>Garantiza que no apuntes a algo que no existe.</li> </ul> <pre><code>CONSTRAINT fk_pedido_cliente FOREIGN KEY (id_cliente)\n    REFERENCES clientes(id)\n    ON DELETE [ACCI\u00d3N] ON UPDATE [ACCI\u00d3N]\n</code></pre> <p>Acciones ante borrado del padre (<code>ON DELETE</code>):</p> <ol> <li><code>CASCADE</code>: Borra tambi\u00e9n a los hijos (\u00fatil en detalles de pedido).</li> <li><code>SET NULL</code>: Los hijos se quedan con valor NULL (\u00fatil si se va el empleado, pero el pedido queda).</li> <li><code>RESTRICT</code> / <code>NO ACTION</code>: Impide borrar al padre si tiene hijos (seguridad por defecto).</li> </ol>"},{"location":"temas/03_1eval/Repaso_RA2.html#otras-restricciones","title":"\ud83d\udee1\ufe0f Otras Restricciones","text":"<ul> <li><code>UNIQUE</code>: Valores no repetidos. Diferencia con PK: Permite valores NULL.</li> <li><code>CHECK</code>: Validaciones l\u00f3gicas.<ul> <li><code>CHECK (edad BETWEEN 18 AND 65)</code></li> <li><code>CHECK (genero IN ('M', 'F'))</code></li> <li>Ojo: Si a\u00f1ades un CHECK a una tabla con datos, MySQL no valida los antiguos, solo los nuevos.</li> </ul> </li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#5-tabla-resumen-ddl","title":"5. Tabla Resumen DDL","text":"<p>Intrucci\u00f3n CREATE (Creaci\u00f3n)</p> <p>Se utiliza para definir nuevos objetos. Lo m\u00e1s importante es saber definir los tipos de datos y, sobre todo, las restricciones con nombre personalizado.</p> Acci\u00f3n Sintaxis / Descripci\u00f3n Ejemplo Pr\u00e1ctico Crear Base de Datos <code>CREATE DATABASE [IF NOT EXISTS] nombre;</code> <code>CREATE DATABASE TIENDA_DB;</code> Crear Tabla B\u00e1sica <code>CREATE TABLE nombre_tabla (columnas...);</code> <code>CREATE TABLE PRODUCTO (id INT, nombre VARCHAR(50));</code> PK (Simple) Definir clave primaria al crear la columna o al final. <code>id INT AUTO_INCREMENT PRIMARY KEY</code> PK (Compuesta) Obligatorio definirla al final de la tabla. <code>PRIMARY KEY (pedido_id, producto_id)</code> Restricciones de Columna Reglas directas: <code>NOT NULL</code>, <code>DEFAULT</code>, <code>UNIQUE</code>. <code>precio DECIMAL(10,2) NOT NULL DEFAULT 0</code> Constraint: UNIQUE Crear restricci\u00f3n de unicidad con nombre. <code>CONSTRAINT uk_usuario_email UNIQUE (email)</code> Constraint: CHECK Validar condiciones l\u00f3gicas (MySQL 8.0+). <code>CONSTRAINT chk_edad_minima CHECK (edad &gt;= 18)</code> Constraint: FK (B\u00e1sica) Clave For\u00e1nea apuntando a otra tabla. <code>CONSTRAINT fk_prod_cat FOREIGN KEY (cat_id) REFERENCES CATEGORIA(id)</code> Constraint: FK (Avanzada) FK con reglas de borrado/actualizaci\u00f3n (<code>CASCADE</code>, <code>SET NULL</code>, <code>RESTRICT</code>). <code>CONSTRAINT fk_hijo_padre FOREIGN KEY (padre_id) REFERENCES PADRE(id) ON DELETE CASCADE ON UPDATE CASCADE</code> <p>Ejemplo completo <code>CREATE</code>: </p><pre><code>CREATE TABLE USUARIO (\n    id INT AUTO_INCREMENT,\n    nick VARCHAR(20) NOT NULL,\n    edad INT,\n    grupo_id INT,\n    PRIMARY KEY (id),\n    CONSTRAINT uk_usuario_nick UNIQUE (nick),\n    CONSTRAINT chk_mayor_edad CHECK (edad &gt;= 18),\n    CONSTRAINT fk_usuario_grupo FOREIGN KEY (grupo_id) \n        REFERENCES GRUPO(id) ON DELETE SET NULL\n);\n</code></pre><p></p> <p>Intrucci\u00f3n ALTER (Modificaci\u00f3n)</p> <p>Se usa cuando la tabla ya existe y necesitamos cambiar su estructura. Es vital distinguir entre columnas y constraints.</p> Acci\u00f3n Sintaxis / Descripci\u00f3n Ejemplo Pr\u00e1ctico A\u00f1adir Columna <code>ADD COLUMN nombre tipo [atributos];</code> <code>ALTER TABLE USUARIO ADD COLUMN email VARCHAR(100) UNIQUE;</code> Modificar Columna <code>MODIFY COLUMN nombre nuevo_tipo [atributos];</code> (Cambia tipo, longitud o nulidad) <code>ALTER TABLE USUARIO MODIFY COLUMN nick VARCHAR(50) NOT NULL;</code> Renombrar Columna <code>CHANGE COLUMN viejo nuevo nuevo_tipo;</code> <code>ALTER TABLE USUARIO CHANGE COLUMN nick apodo VARCHAR(50);</code> Renombrar/Cambiar <code>CHANGE email nuevo_email VARCHAR(50)</code> Renombra Y cambia el tipo a la vez. Renombrar Tabla <code>RENAME TO nueva_tabla</code> Cambia el nombre de la tabla entera. Modificar tipo columna <code>MODIFY COLUMN email TEXT</code> Cambia el tipo o propiedades. Eliminar Columna <code>DROP COLUMN nombre;</code> <code>ALTER TABLE USUARIO DROP COLUMN edad;</code> A\u00f1adir PK Si la tabla no ten\u00eda PK. <code>ALTER TABLE TABLA ADD PRIMARY KEY (id);</code> A\u00f1adir FK Agregar relaci\u00f3n a tabla existente. <code>ALTER TABLE USUARIO ADD CONSTRAINT fk_user_pais FOREIGN KEY (pais_id) REFERENCES PAIS(id);</code> A\u00f1adir Constraint <code>ADD CONSTRAINT uk_email UNIQUE(email)</code> A\u00f1ade reglas (PK, FK, Check...). Borrar Constraint <code>DROP CONSTRAINT nombre_constraint</code> Elimina la regla. A\u00f1adir UNIQUE Agregar restricci\u00f3n de unicidad. <code>ALTER TABLE USUARIO ADD CONSTRAINT uk_email UNIQUE (email);</code> Eliminar FK Se usa <code>DROP FOREIGN KEY</code> + nombre del constraint. <code>ALTER TABLE USUARIO DROP FOREIGN KEY fk_user_pais;</code> Eliminar UNIQUE/Index Se usa <code>DROP INDEX</code> + nombre del constraint. <code>ALTER TABLE USUARIO DROP INDEX uk_email;</code> Eliminar CHECK Se usa <code>DROP CHECK</code> (MySQL 8.0+). <code>ALTER TABLE USUARIO DROP CHECK chk_mayor_edad;</code> <p>Intrucci\u00f3n DROP (Eliminaci\u00f3n)</p> <p>Cuidado: estas acciones son destructivas y borran tanto la estructura como los datos.</p> Acci\u00f3n Sintaxis / Descripci\u00f3n Ejemplo Pr\u00e1ctico Eliminar Base de Datos Borra la BD completa. <code>DROP DATABASE IF EXISTS TIENDA_DB;</code> Eliminar Tabla Borra la tabla y sus datos. <code>DROP TABLE IF EXISTS USUARIO;</code> Eliminar varias Tablas Borra m\u00faltiples tablas a la vez (\u00fatil por dependencias). <code>DROP TABLE TABLA_HIJA, TABLA_PADRE;</code> Truncar Tabla NO es DROP, pero vac\u00eda datos manteniendo estructura. <code>TRUNCATE TABLE USUARIO;</code>"},{"location":"temas/03_1eval/Repaso_RA2.html#6-otros-conceptos-importantes","title":"6. Otros conceptos importantes","text":""},{"location":"temas/03_1eval/Repaso_RA2.html#vistas-create-view","title":"\ud83d\udc41\ufe0f Vistas (<code>CREATE VIEW</code>)","text":"<ul> <li>Tablas virtuales basadas en una consulta <code>SELECT</code>.</li> <li>No almacenan datos f\u00edsicos, solo la definici\u00f3n.</li> <li>\u00datiles para simplificar consultas complejas o por seguridad (ocultar columnas).</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA2.html#diccionario-de-datos","title":"\ud83d\udcdc Diccionario de Datos","text":"<ul> <li>Es donde el SGBD guarda la informaci\u00f3n sobre la estructura (metadatos).</li> <li>Comando \u00fatil: <code>SHOW CREATE TABLE nombre_tabla;</code> (te da el c\u00f3digo exacto para recrear la tabla).</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html","title":"Resumen","text":""},{"location":"temas/03_1eval/Repaso_RA6.html#resumen-de-estudio-1-evaluacion","title":"Resumen de Estudio: 1 Evaluaci\u00f3n","text":""},{"location":"temas/03_1eval/Repaso_RA6.html#diseno-conceptual-modelo-er-modelo-logico","title":"\ud83d\udcda Dise\u00f1o Conceptual, Modelo E/R, Modelo L\u00f3gico.","text":""},{"location":"temas/03_1eval/Repaso_RA6.html#1-el-proceso-de-diseno-de-bases-de-datos","title":"1. El Proceso de Dise\u00f1o de Bases de Datos","text":"<p>Antes de escribir c\u00f3digo, debemos dise\u00f1ar. El proceso se divide en tres fases secuenciales:</p> <ol> <li>Dise\u00f1o Conceptual: Analizamos el mundo real (requisitos) y creamos un esquema independiente de la tecnolog\u00eda (Diagrama Entidad-Relaci\u00f3n).</li> <li>Dise\u00f1o L\u00f3gico: Transformamos el esquema conceptual a un modelo soportado por bases de datos (Modelo Relacional / Tablas).</li> <li>Dise\u00f1o F\u00edsico: Implementamos el dise\u00f1o l\u00f3gico en un SGBD concreto (MySQL, Oracle) usando SQL y configuraciones f\u00edsicas.</li> </ol> <p>Objetivos del dise\u00f1o: Coherencia, rendimiento, seguridad, escalabilidad y facilidad de mantenimiento.</p>"},{"location":"temas/03_1eval/Repaso_RA6.html#2-elementos-del-modelo-entidad-relacion-er","title":"2. Elementos del Modelo Entidad-Relaci\u00f3n (ER)","text":"<p>El modelo describe el mundo mediante tres constructores b\u00e1sicos:</p>"},{"location":"temas/03_1eval/Repaso_RA6.html#a-entidades-rectangulos","title":"A. Entidades (Rect\u00e1ngulos)","text":"<p>Objetos (reales o abstractos) sobre los que guardamos informaci\u00f3n (Ej: <code>ALUMNO</code>, <code>COCHE</code>).</p> <ul> <li>Fuertes: Tienen existencia propia.</li> <li>D\u00e9biles: Dependen de otra entidad para existir o identificarse.<ul> <li>Dependencia de Existencia: Si se borra la fuerte, desaparece la d\u00e9bil.</li> <li>Dependencia de Identificaci\u00f3n: Necesitan la clave de la fuerte para identificarse (llevan marcas \"ID\" o doble rombo).</li> </ul> </li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html#b-relaciones-rombos","title":"B. Relaciones (Rombos)","text":"<p>Asociaciones entre entidades, descritas generalmente por verbos (Ej: <code>COMPRAR</code>, <code>ESTUDIAR</code>).</p> <ul> <li>Grado: Binarias (2 entidades), Ternarias (3 entidades), Reflexivas (la misma entidad se relaciona consigo misma).</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html#c-atributos-elipses","title":"C. Atributos (Elipses)","text":"<p>Propiedades que describen a las entidades o relaciones.</p> <ul> <li>Identificador (Clave): \u00danico, no nulo y estable (subrayado).</li> <li>Compuesto: Se divide en sub-partes (Direcci\u00f3n -&gt; calle, n\u00famero).</li> <li>Multivaluado: Puede tener varios valores para la misma entidad (Tel\u00e9fonos). Se representa con doble \u00f3valo.</li> <li>Derivado: Se calcula a partir de otros datos (Edad a partir de Fecha Nacimiento). Se representa con l\u00ednea punteada.</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html#3-cardinalidades","title":"3. Cardinalidades","text":"<p>Definen la participaci\u00f3n de las entidades en una relaci\u00f3n. Se expresan como (M\u00ednima, M\u00e1xima).</p> <ul> <li>Cardinalidad M\u00ednima (Participaci\u00f3n):<ul> <li>0: Opcional (puede no relacionarse).</li> <li>1: Obligatoria (debe relacionarse al menos una vez).</li> </ul> </li> <li>Cardinalidad M\u00e1xima:<ul> <li>1: Solo se relaciona con una ocurrencia.</li> <li>N: Se relaciona con muchas ocurrencias.</li> </ul> </li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html#tipos-de-relaciones-segun-cardinalidad-maxima","title":"Tipos de Relaciones (seg\u00fan cardinalidad m\u00e1xima):","text":"<ol> <li>1:1 (Uno a Uno): Un empleado dirige un departamento (y viceversa).</li> <li>1:N (Uno a Muchos): Un cliente realiza muchos pedidos, pero un pedido es de un solo cliente.</li> <li>N:M (Muchos a Muchos): Un alumno estudia varias asignaturas y una asignatura tiene varios alumnos.</li> </ol> <p>\ud83d\udca1 Regla de lectura: Para saber la cardinalidad de una entidad A en una relaci\u00f3n con B, preg\u00fantate: \"\u00bfUna ocurrencia de A con cu\u00e1ntas de B se relaciona?\" (El resultado se anota en el lado opuesto o junto a la entidad, seg\u00fan la notaci\u00f3n).</p>"},{"location":"temas/03_1eval/Repaso_RA6.html#4-el-modelo-extendido-eer","title":"4. El Modelo Extendido (EER)","text":"<p>Se usa para situaciones m\u00e1s complejas que el modelo b\u00e1sico no cubre.</p>"},{"location":"temas/03_1eval/Repaso_RA6.html#a-generalizacion-y-especializacion-relaciones-is-a-es-un","title":"A. Generalizaci\u00f3n y Especializaci\u00f3n (Relaciones IS-A / Es-Un)","text":"<p>Jerarqu\u00edas de herencia (Padre/Hijo). Los hijos heredan atributos y relaciones del padre.</p> <ul> <li>Restricci\u00f3n de Disyunci\u00f3n:<ul> <li>Disjunta (d): El padre solo puede ser uno de los hijos (o A o B).</li> <li>Solapada (o): El padre puede ser varios hijos a la vez (A y B).</li> </ul> </li> <li>Restricci\u00f3n de Totalidad:<ul> <li>Total (Doble l\u00ednea): Todo padre debe ser al menos un tipo de hijo.</li> <li>Parcial (L\u00ednea simple): Un padre puede no ser ninguno de los hijos definidos.</li> </ul> </li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html#b-agregacion-entidad-asociativa","title":"B. Agregaci\u00f3n (Entidad Asociativa)","text":"<p>Cuando necesitamos tratar una relaci\u00f3n (y las entidades que la forman) como si fuera una nueva entidad para relacionarla con otra cosa.</p> <ul> <li>Ejemplo: <code>DOCENTE</code> imparte clase en <code>AULA</code>. Esa relaci\u00f3n crea una \"Sesi\u00f3n\" o \"Clase\". Ahora queremos registrar <code>INCIDENCIAS</code> sobre esa \"Sesi\u00f3n\". Convertimos la relaci\u00f3n en una agregaci\u00f3n.</li> </ul> <p>Puntos importantes</p> <ol> <li>Recuerda que los atributos propios de una relaci\u00f3n N:M (como \"fecha\" o \"nota\") no pertenecen a ninguna de las dos entidades por separado, sino a la relaci\u00f3n.</li> <li>Diferencia bien entre Entidad D\u00e9bil (doble rect\u00e1ngulo) y Atributo Multivaluado (doble \u00f3valo).</li> <li>En la notaci\u00f3n \"Pata de Gallo\": El tridente significa \"Muchos\", el c\u00edrculo \"Cero\" y la barra vertical \"Uno\".</li> <li>La p\u00e9rdida expresiva ocurre cuando hay reglas del negocio que no podemos dibujar en el diagrama y debemos escribirlas como notas al pie.</li> </ol>"},{"location":"temas/03_1eval/Repaso_RA6.html#diseno-logico-y-transformacion-al-modelo-relacional","title":"\ud83d\udcda Dise\u00f1o L\u00f3gico y Transformaci\u00f3n al Modelo Relacional","text":""},{"location":"temas/03_1eval/Repaso_RA6.html#1-el-modelo-relacional-conceptos-basicos","title":"1. El Modelo Relacional: Conceptos B\u00e1sicos","text":"<p>El modelo relacional, propuesto por Codd a finales de los 60, es la base de las bases de datos modernas. Su objetivo es mantener la independencia de los datos (l\u00f3gica y f\u00edsica) y garantizar la integridad.</p>"},{"location":"temas/03_1eval/Repaso_RA6.html#elementos-estructurales","title":"Elementos Estructurales","text":"<ul> <li>Relaci\u00f3n (Tabla): Estructura principal compuesta por filas y columnas. El orden de las filas y columnas es irrelevante.</li> <li>Tupla (Fila): Representa un registro \u00fanico (ej. un alumno concreto).</li> <li>Atributo (Columna): Representa una propiedad (ej. el nombre).</li> <li>Dominio: Conjunto de valores v\u00e1lidos y del mismo tipo (ej. enteros, fechas) que puede tomar un atributo.</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html#restricciones","title":"Restricciones","text":"<ul> <li>Clave Primaria (PK): Identifica univocamente a una fila.<ul> <li>Integridad de Entidad: Nunca puede ser NULL y debe ser \u00fanica.</li> <li>Puede ser subrogada (artificial, ej: ID autonum\u00e9rico) o natural.</li> </ul> </li> <li>Clave Ajena / For\u00e1nea (FK): Columna que apunta a la PK de otra tabla (o de la misma) para relacionarlas.<ul> <li>Integridad Referencial: El valor de la FK debe existir en la tabla padre o ser NULL.</li> <li>Borrado: Si borramos al padre, la FK puede configurarse para Propagar (borrar hijos), Anular (poner NULL) o Rechazar (impedir borrado).</li> </ul> </li> <li>Unicidad (UK): Evita duplicados en columnas que no son PK (ej. email). Permite nulos (seg\u00fan el SGBD).</li> <li>Valor NULL: Representa ausencia de informaci\u00f3n, desconocido o no aplicable.</li> </ul>"},{"location":"temas/03_1eval/Repaso_RA6.html#2-transformacion-del-dibujo-er-a-las-tablas-relacional","title":"2. Transformaci\u00f3n: Del Dibujo (ER) a las Tablas (Relacional)","text":"<p>Transformaci\u00f3n General</p> Elemento Modelo ER Transformaci\u00f3n a Modelo Relacional (Tablas) Tratamiento de Claves y Cardinalidad (Reglas) Entidad Fuerte Cada entidad se convierte en una tabla. La clave primaria (PK) de la tabla es el identificador de la entidad. Los dem\u00e1s atributos son columnas. Entidad D\u00e9bil Cada entidad d\u00e9bil se convierte en una tabla. La PK de la tabla es compuesta: la PK de la entidad fuerte propietaria (como FK) + el discriminante de la entidad d\u00e9bil. Relaci\u00f3n 1 a 1 (1:1) Se a\u00f1ade una clave for\u00e1nea (FK) en una de las dos tablas. \u2022 La columna FK debe tener siempre una restricci\u00f3n UNIQUE.\u2022 Regla de Ubicaci\u00f3n (para evitar NULLs): Si la cardinalidad es <code>(1,1)</code> en un lado y <code>(0,1)</code> en el otro, la FK siempre se coloca en la tabla del lado <code>(0,1)</code>. De este modo, la FK puede ser declarada como NOT NULL.\u2022 Si la cardinalidad es <code>(0,1)</code> en ambos lados, la FK puede ir en cualquiera de las dos tablas y debe admitir NULL. Relaci\u00f3n 1 a Muchos (1:N) No se crea una tabla nueva para la relaci\u00f3n. La PK de la entidad del lado \"1\" migra a la tabla de la entidad del lado \"N\" como una FK. Si la participaci\u00f3n m\u00ednima del lado \"1\" es 0, la FK admite NULL. Si es 1, es NOT NULL. Relaci\u00f3n Muchos a Muchos (M:N) Siempre se crea una nueva tabla intermedia para la relaci\u00f3n. \u2022 La tabla intermedia contiene como FK las PK de las dos entidades que relaciona.\u2022 Si la relaci\u00f3n tiene atributos propios, estos se convierten en columnas adicionales en esta misma tabla intermedia.\u2022 La PK de la nueva tabla es, por lo general, la combinaci\u00f3n de ambas FK (y a veces, tambi\u00e9n de alg\u00fan atributo de la relaci\u00f3n si es necesario para garantizar la unicidad). Relaci\u00f3n Reflexiva 1:1 Se a\u00f1ade una columna en la propia tabla. La columna es una FK que referencia a la PK de la misma tabla. Debe tener la restricci\u00f3n UNIQUE y ser NULLABLE. Relaci\u00f3n Reflexiva 1:N Se a\u00f1ade una columna en la propia tabla. La columna es una FK que referencia a la PK de la misma tabla (Ej: <code>id_jefe</code> en la tabla <code>EMPLEADO</code>). Es NULLABLE. Relaci\u00f3n Reflexiva M:N Se crea una nueva tabla intermedia. La tabla intermedia tiene dos columnas FK, ambas referenciando a la PK de la tabla original. Sus atributos (si los tiene) tambi\u00e9n van en esta tabla. <p>Transformaci\u00f3n de Jerarqu\u00edas (Generalizaci\u00f3n / Especializaci\u00f3n - ISA)</p> Estrategia de Transformaci\u00f3n Descripci\u00f3n de las Tablas Resultantes Cu\u00e1ndo Usarla (Ventajas / Desventajas) 1. Una Sola Tabla (Todo en la Superclase) Se crea una \u00fanica tabla para la superclase que contiene todos los atributos (comunes y espec\u00edficos de todas las subclases). Se a\u00f1ade una columna \"tipo\" para discriminar. Ventaja: Consultas r\u00e1pidas (no se necesitan JOINs).Desventaja: Mucho espacio desperdiciado por valores NULL en atributos no aplicables. 2. Tabla por cada Subclase (Herencia Concreta) Se crea una tabla por cada subclase concreta (hija). No hay tabla para la superclase (padre). Cada tabla hija repite los atributos comunes adem\u00e1s de los suyos espec\u00edficos. Ventaja: No hay valores NULL. Consultas a una subclase son directas.Desventaja: Los atributos comunes est\u00e1n duplicados. Consultar sobre todos los tipos requiere uniones (<code>UNION</code>). 3. Tabla por cada Clase (Herencia de Tablas) Se crea una tabla para la superclase con los atributos comunes y una tabla por cada subclase con solo sus atributos espec\u00edficos. La PK de la superclase migra como PK y FK a las tablas hijas. Ventaja: Modelo m\u00e1s normalizado y fiel al ER. Sin redundancia ni NULLs excesivos.Desventaja: Las consultas a menudo requieren JOINs entre la tabla padre y la hija, lo que puede ser m\u00e1s lento. <p>Transformaci\u00f3n de Agregaciones</p> Elemento ER Concepto Clave Transformaci\u00f3n a Modelo Relacional Agregaci\u00f3n Una agregaci\u00f3n trata una relaci\u00f3n existente como si fuera una entidad abstracta para poder participar en otra relaci\u00f3n de nivel superior. Paso 1: Se transforma la relaci\u00f3n interna (la que es agregada) siguiendo las reglas normales (ej. si es M:N, se crea una tabla intermedia <code>T_Interna</code>).Paso 2: Se transforma la relaci\u00f3n externa (la que conecta con la agregaci\u00f3n). Para ello, la clave primaria de la tabla <code>T_Interna</code> migra como FK a la tabla de la entidad externa (si es 1:N) o a una nueva tabla intermedia (si es M:N)."},{"location":"temas/03_1eval/Repaso_RA6.html#4-diccionario-de-datos","title":"4. Diccionario de Datos","text":"<p>No olvides que el esquema relacional no son solo las tablas. El Diccionario de Datos es el documento (metadatos) que describe:</p> <ul> <li>Nombres de tablas y columnas.</li> <li>Tipos de datos.</li> <li>Definici\u00f3n de claves (PK, FK) y restricciones.</li> <li>Descripci\u00f3n l\u00f3gica del contenido.</li> </ul>"},{"location":"temas/03_1eval/UT2.abc_Actividades-Repaso.html","title":"Activd.Repaso UT2ABC","text":""},{"location":"temas/03_1eval/UT2.abc_Actividades-Repaso.html#actividades-de-repaso-ut2a-ut2b-y-ut2c","title":"Actividades de Repaso: UT2A, UT2B y UT2C","text":""},{"location":"temas/03_1eval/UT2.abc_Actividades-Repaso.html#actividad-1","title":"Actividad 1","text":"<p>Analiza el siguiente diagrama E/R que representa la estructura de recursos humanos y proyectos de una empresa de software. El objetivo es transformar este dise\u00f1o conceptual en un dise\u00f1o l\u00f3gico (tablas) optimizado.</p> <p>Reglas de Negocio:</p> <ol> <li>Jerarqu\u00eda de Empleados:<ul> <li>Todos son <code>EMPLEADOS</code> (tienen ID, DNI, nombre). El tel\u00e9fono es un dato opcional.</li> <li>Existen dos perfiles muy diferenciados (Jerarqu\u00eda Total y Disjunta):</li> <li><code>MANAGER</code>: Se encarga de la gesti\u00f3n. Tiene un presupuesto asignado anual.</li> <li><code>DESARROLLADOR</code>: Se encarga del c\u00f3digo. Tiene un nivel t\u00e9cnico (Junior, Mid, Senior).</li> </ul> </li> <li>Activos:<ul> <li>La empresa entrega un <code>PORTATIL</code> corporativo a cada empleado.</li> <li>Un port\u00e1til (identificado por su n\u00famero de serie) pertenece a un \u00fanico empleado.</li> <li>No puede haber empleados sin port\u00e1til, pero puede haber port\u00e1tiles en stock sin asignar (en el almac\u00e9n).</li> </ul> </li> <li>Proyectos:<ul> <li>Todo <code>PROYECTO</code> debe tener obligatoriamente un L\u00edder.</li> <li>Solo los <code>MANAGERS</code> pueden liderar proyectos. Un manager puede liderar varios proyectos a la vez.</li> </ul> </li> <li>Asignaci\u00f3n:<ul> <li>Los <code>DESARROLLADORES</code> trabajan en los proyectos. Un desarrollador puede estar en varios proyectos y un proyecto tiene varios desarrolladores.</li> <li>Es necesario registrar el n\u00famero de <code>horas_semanales</code> pactadas para cada desarrollador en cada proyecto.</li> </ul> </li> <li>Mentoria:<ul> <li>Dentro del equipo t\u00e9cnico, un <code>DESARROLLADOR</code> Senior puede tutorizar a otros desarrolladores (Juniors).</li> <li>Un desarrollador solo tiene un tutor, pero un tutor puede llevar a varios alumnos.</li> <li>No todos los desarrolladores tienen tutor (los Senior no tienen).</li> </ul> </li> </ol> <p></p> <p>Se pide:</p> <ol> <li> <p>Modelo Relacional:     Genera el diagrama de tablas en https://dbdiagram.io/.</p> <ul> <li>Nota: Para la jerarqu\u00eda, utiliza la estrategia de \"Una tabla por cada subclase\" (es decir, existir\u00e1 tabla Empleado, tabla Manager y tabla Desarrollador). Aseg\u00farate de propagar la PK correctamente.</li> </ul> </li> <li> <p>Definici\u00f3n de Claves y Restricciones:     En el propio diagrama o como texto adjunto:</p> <ul> <li>Indica las PK, restricciones <code>NOT NULL</code> y <code>UNIQUE</code> necesarias.</li> <li>Define las claves for\u00e1neas y agrega las relaciones entre las tablas.</li> </ul> </li> </ol>"},{"location":"temas/03_1eval/UT2.abc_Actividades-Repaso.html#actividad-2","title":"Actividad 2","text":"<p>Analiza el siguiente diagrama E/R inicial de una startup de comida a domicilio llamada \"FastBite\".</p> <p>El modelo actual es muy b\u00e1sico y solo contempla Usuarios, Restaurantes y Pedidos generales.</p> <p></p> <p>Parte 1: Lectura e Interpretaci\u00f3n del Modelo</p> <p>Responde a las siguientes preguntas bas\u00e1ndote \u00fanicamente en lo que ves dibujado en el diagrama. Justifica tus respuestas:</p> <ol> <li>Informaci\u00f3n incompleta: Con el dise\u00f1o actual, \u00bfpodemos saber qu\u00e9 platos concretos (hamburguesa, pizza, etc.) ha pedido el usuario en el pedido <code>P-100</code>? \u00bfPor qu\u00e9?</li> <li>Duplicidad de datos: \u00bfImpide este modelo que existan dos restaurantes con el mismo <code>nombre</code> y <code>direccion</code> en la base de datos?.</li> <li>Cardinalidad: Un pedido, \u00bfpuede contener comida de dos restaurantes diferentes al mismo tiempo (ej: un plato del restaurante A y otro del B en el mismo id_pedido)?</li> <li>Restricci\u00f3n: \u00bfEs posible guardar dos usuarios que compartan el mismo <code>email</code>?</li> </ol> <p>Parte 2: Completar y Evolucionar el Modelo</p> <p>La startup ha recibido una ronda de inversi\u00f3n y necesita profesionalizar la base de datos. Debes modificar y ampliar el diagrama E/R anterior para cumplir con los siguientes nuevos requisitos:</p> <ol> <li>Detalle del Pedido (Platos): Ahora debemos saber qu\u00e9 se come.<ul> <li>Cada <code>RESTAURANTE</code> ofrece muchos <code>PLATOS</code> (nombre, precio).</li> <li>Un <code>PEDIDO</code> se compone de varios <code>PLATOS</code>, y un plato puede estar en muchos pedidos.</li> <li>Importante: Debemos saber la <code>cantidad</code> de cada plato en el pedido (ej: 2 Hamburguesas) y el precio al que se vendi\u00f3 en ese momento.</li> </ul> </li> <li>Repartidores (Riders):<ul> <li>Aparece la entidad <code>RIDER</code> (dni, nombre, vehiculo).</li> <li>Un pedido es asignado a un \u00fanico Rider para su entrega.</li> <li>Un Rider puede llevar muchos pedidos a lo largo del d\u00eda, pero un pedido solo lo lleva un Rider.</li> </ul> </li> <li>Sistema de Valoraciones:<ul> <li>Una vez entregado el pedido, el <code>USUARIO</code> puede dejar una valoraci\u00f3n (estrellas y comentario).</li> <li>La valoraci\u00f3n va asociada al <code>PEDIDO</code> concreto (para saber si lleg\u00f3 fr\u00edo, por ejemplo).</li> </ul> </li> </ol> <p>\u25b6\ufe0f Genera el nuevo diagrama E/R completo.</p>"},{"location":"temas/04/index.html","title":"Inicio","text":""},{"location":"temas/04/index.html#sql-dml-consultas-basicas","title":"SQL (DML). Consultas B\u00e1sicas","text":"<p>Informaci\u00f3n de la unidad</p> ContenidosPropuesta did\u00e1ctica <p>Realizaci\u00f3n de consultas:</p> <ul> <li>Proyecci\u00f3n, selecci\u00f3n y ordenaci\u00f3n de registros.</li> <li>Operadores. Operadores de comparaci\u00f3n. Operadores l\u00f3gicos.</li> <li>Composiciones internas.</li> <li>Composiciones externas.</li> <li>Consultas de resumen.</li> <li>Agrupamiento de registros.</li> </ul> <p>Bases de datos relacionales:</p> <ul> <li>Vistas.</li> </ul> <p>Una vez conocido el modelo relacional, en esta unidad vamos a comenzar a trabajar el RA3 \"Consulta la informaci\u00f3n almacenada en una base de datos empleando asistentes, herramientas gr\u00e1ficas y el lenguaje de manipulaci\u00f3n de datos.\",</p> <p>Criterios de evaluaci\u00f3n</p> <ul> <li>CE3a: Se han identificado las herramientas y sentencias para realizar consultas.</li> <li>CE3b: Se han realizado consultas simples sobre una tabla.</li> <li>CE3c: Se han realizado consultas sobre el contenido de varias tablas mediante composiciones internas.</li> <li>CE3d: Se han realizado consultas sobre el contenido de varias tablas mediante composiciones externas.definici\u00f3n y control de datos.</li> <li>CE3e: Se han realizado consultas resumen.</li> <li>CE2f: Se han creado vistas.</li> </ul> <p>Bases de datos recursos</p> <p>Aqu\u00ed tienes los enlaces a las bases de datos de recursos para esta unidad:</p> <ul> <li>Liga de F\u00fatbol</li> <li>Gesti\u00f3n de Ventas</li> <li>Tienda Inform\u00e1tica</li> <li>Jardiner\u00eda</li> <li>Universidad A</li> <li>Universidad B</li> </ul>"},{"location":"temas/04/index.html#algebra-relacional","title":"\u00c1lgebra Relacional","text":"<p>El \u00e1lgebra relacional es un lenguaje formal utilizado para realizar consultas y operaciones sobre bases de datos relacionales. Fue propuesto por Edgar F. Codd en 1970 como parte de su trabajo en la teor\u00eda de bases de datos relacionales. En lugar de ser un lenguaje de programaci\u00f3n como SQL, es un conjunto de operaciones matem\u00e1ticas que permiten manipular conjuntos de datos (relaciones o tablas) de una manera l\u00f3gica y estructurada.</p>"},{"location":"temas/04/index.html#operaciones","title":"Operaciones","text":"<p>Las operaciones que podemos realizar son:</p> Operaci\u00f3n Notaci\u00f3n Descripci\u00f3n Selecci\u00f3n \u03c3<sub>condici\u00f3n</sub>(Relaci\u00f3n) Selecciona las tuplas que cumplen una condici\u00f3n espec\u00edfica. Proyecci\u00f3n \u03c0<sub>atributos</sub>(Relaci\u00f3n) Devuelve una nueva relaci\u00f3n con solo las columnas seleccionadas. Uni\u00f3n Relaci\u00f3n1 \u222a Relaci\u00f3n2 Combina las tuplas de dos relaciones con el mismo esquema. Intersecci\u00f3n Relaci\u00f3n1 \u2229 Relaci\u00f3n2 Devuelve las tuplas que est\u00e1n en ambas relaciones. Diferencia Relaci\u00f3n1 \u2212 Relaci\u00f3n2 Devuelve las tuplas que est\u00e1n en la primera relaci\u00f3n pero no en la segunda. Producto cartesiano Relaci\u00f3n1 \u00d7 Relaci\u00f3n2 Combina cada tupla de la primera relaci\u00f3n con cada tupla de la segunda. Renombrar \u03c1<sub>nuevoNombre</sub>(Relaci\u00f3n) Cambia el nombre de una relaci\u00f3n o de sus atributos. Join natural Relaci\u00f3n1 \u2a1d Relaci\u00f3n2 Une dos relaciones en funci\u00f3n de un atributo com\u00fan de forma impl\u00edcita. Join equi Relaci\u00f3n1 \u2a1d<sub>condici\u00f3n</sub> Relaci\u00f3n2 Une dos relaciones en funci\u00f3n de una condici\u00f3n, normalmente una igualdad. <p>Ejemplos Pr\u00e1cticos</p> <p>A continuaci\u00f3n se muestran ejemplos detallados de cada operaci\u00f3n. Utilizaremos las siguientes tablas de datos como punto de partida:</p>"},{"location":"temas/04/index.html#datos-de-referencia","title":"Datos de Referencia","text":"EmpleadosDepartamentosGrupoAGrupoB ID Nombre DeptID Salario 1 Ana 10 2500 2 Luis 10 3000 3 Eva 20 2800 4 Juan 30 2200 DeptID NombreDept 10 Ventas 20 Marketing 30 Log\u00edstica <p>(Para operaciones de conjuntos)</p> ID Nombre 1 Ana 2 Luis <p>(Para operaciones de conjuntos)</p> ID Nombre 2 Luis 5 Pedro"},{"location":"temas/04/index.html#operaciones-simples","title":"Operaciones simples","text":""},{"location":"temas/04/index.html#operaciones-basicas-y-de-esquema","title":"Operaciones B\u00e1sicas y de Esquema","text":"Selecci\u00f3n (\u03c3)Proyecci\u00f3n (\u03c0)Renombrar (\u03c1) <p>Objetivo: Obtener los empleados con un salario superior a 2600.</p> <p>\u03c3<sub>Salario &gt; 2600</sub>(Empleados)</p> ID Nombre DeptID Salario 2 Luis 10 3000 3 Eva 20 2800 <p>Objetivo: Mostrar solo el nombre y el salario de los empleados.</p> <p>\u03c0<sub>Nombre, Salario</sub>(Empleados)</p> Nombre Salario Ana 2500 Luis 3000 Eva 2800 Juan 2200 <p>Objetivo: Cambiar el nombre de la relaci\u00f3n <code>Departamentos</code> a <code>Areas</code> y sus columnas a <code>Cod</code> y <code>Desc</code>.</p> <p>\u03c1<sub>Areas(Cod, Desc)</sub>(Departamentos)</p> Cod Desc 10 Ventas 20 Marketing 30 Log\u00edstica"},{"location":"temas/04/index.html#operaciones-de-conjuntos","title":"Operaciones de Conjuntos","text":"Uni\u00f3n (\u222a)Intersecci\u00f3n (\u2229)Diferencia (\u2212)Producto Cartesiano (\u00d7) <p>Objetivo: Unir los integrantes del GrupoA y GrupoB (sin duplicados).</p> <p>GrupoA \u222a GrupoB</p> ID Nombre 1 Ana 2 Luis 5 Pedro <p>Objetivo: Encontrar qui\u00e9nes est\u00e1n en ambos grupos.</p> <p>GrupoA \u2229 GrupoB</p> ID Nombre 2 Luis <p>Objetivo: Personas que est\u00e1n en el GrupoA pero no en el GrupoB.</p> <p>GrupoA \u2212 GrupoB</p> ID Nombre 1 Ana <p>(Luis se elimina porque est\u00e1 en ambos)</p> <p>Objetivo: Combinar cada fila del GrupoA con cada fila de Departamentos. (Total filas = 2 filas GrupoA \u00d7 3 filas Departamentos = 6 filas)</p> <p>GrupoA \u00d7 Departamentos</p> ID Nombre DeptID NombreDept 1 Ana 10 Ventas 1 Ana 20 Marketing 1 Ana 30 Log\u00edstica 2 Luis 10 Ventas 2 Luis 20 Marketing 2 Luis 30 Log\u00edstica"},{"location":"temas/04/index.html#composiciones","title":"Composiciones","text":"Join Natural (\u2a1d)Join Equi (\u2a1d) <p>Objetivo: Unir <code>Empleados</code> y <code>Departamentos</code> usando la columna com\u00fan <code>DeptID</code>.</p> <p>Empleados \u2a1d Departamentos</p> ID Nombre Salario DeptID NombreDept 1 Ana 2500 10 Ventas 2 Luis 3000 10 Ventas 3 Eva 2800 20 Marketing 4 Juan 2200 30 Log\u00edstica <p>Objetivo: Unir tablas especificando la igualdad expl\u00edcitamente (ej: <code>Empleados.DeptID = Departamentos.DeptID</code>). Nota: A diferencia del natural, el equi-join est\u00e1ndar suele conservar ambas columnas de uni\u00f3n.</p> <p>Empleados \u2a1d<sub>Empleados.DeptID = Departamentos.DeptID</sub> Departamentos</p> ID Nombre DeptID Salario DeptID NombreDept 1 Ana 10 2500 10 Ventas 2 Luis 10 3000 10 Ventas 3 Eva 20 2800 20 Marketing 4 Juan 30 2200 30 Log\u00edstica"},{"location":"temas/04/index.html#operaciones-combinadas","title":"Operaciones Combinadas","text":"Selecci\u00f3n y Proyecci\u00f3nJoin y Selecci\u00f3n <p>Objetivo: Obtener solo el nombre de los empleados del departamento 10. L\u00f3gica: Primero seleccionamos (\u03c3) las filas y de ese resultado, nos quedamos (\u03c0) con la columna nombre.</p> <p>\u03c0<sub>Nombre</sub>(\u03c3<sub>DeptID = 10</sub>(Empleados))</p> <p>Paso 1: Selecci\u00f3n (DeptID = 10)</p> ID Nombre DeptID Salario 1 Ana 10 2500 2 Luis 10 3000 <p>Paso 2: Proyecci\u00f3n (Nombre)</p> Nombre Ana Luis <p>Objetivo: Obtener los datos completos de empleados del departamento 'Ventas'. L\u00f3gica: Primero unimos (\u2a1d) las tablas para tener toda la info, y luego filtramos (\u03c3) por el nombre del departamento.</p> <p>\u03c3<sub>NombreDept = 'Ventas'</sub>(Empleados \u2a1d Departamentos)</p> <p>Paso 1: Join Natural (Resultado intermedio)</p> ID Nombre Salario DeptID NombreDept 1 Ana 2500 10 Ventas 2 Luis 3000 10 Ventas 3 Eva 2800 20 Marketing 4 Juan 2200 30 Log\u00edstica <p>Paso 2: Selecci\u00f3n (NombreDept = 'Ventas')</p> ID Nombre Salario DeptID NombreDept 1 Ana 2500 10 Ventas 2 Luis 3000 10 Ventas <p>Estas operaciones forman la base te\u00f3rica de c\u00f3mo las bases de datos relacionales manipulan los datos y son fundamentales para comprender el funcionamiento de lenguajes como SQL.</p> Video explicativo <p></p>"},{"location":"temas/04/index.html#consultas-sql","title":"Consultas SQL","text":"<p>Preparando los datos</p> <p>La base de datos que vamos a utilizar a lo largo de los apuntes gestiona la liga de futbol.</p> <p></p> <p>A partir del script DDL puedes importar los datos a trav\u00e9s de DbBearer o cualquier otro gestor de base de datos.</p> <p>En el tema anterior estudiamos la parte DDL del lenguaje. En este tema y las siguientes nos vamos a centrar en las consultas, que formar\u00edan parte de DML, y m\u00e1s en concreto de DQL (Data Query Language). Para ello, utilizaremos la sentencia <code>SELECT</code> definiendo consultas que pueden ocupar una l\u00ednea o varias decenas, que acceden a una \u00fanica tabla (o vista), o a m\u00faltiples tablas combinadas mediante el uso de joins, e incluso que utiliza diversos esquemas dentro de la misma base de datos.</p> <p>As\u00ed pues, entremos en detalle en la sentencia <code>SELECT ... FROM</code>. Su sintaxis completa, con las opciones m\u00e1s frecuentes, tanto para MariaDB como para PostgreSQL es:</p> <pre><code>SELECT {* | [DISTINCT] {columna | expresi\u00f3n} [[AS] alias], ... } \nFROM tabla \n    [WHERE condici\u00f3n] \n    [GROUP BY col1 [, col2] ...] \n    [HAVING predicado grupo] \n    [ORDER BY col-n| pos-n [ASC|DESC] , col-m| pos-m [ASC|DES]\u2026] \n    [LIMIT {[offset,] row_count | row_count OFFSET offset}];\n</code></pre> <p>En todo consulta siempre deberemos indicar qu\u00e9 datos queremos recuperar y de d\u00f3nde lo haremos. Tras ejecutar una consulta obtendremos una tabla de datos, que puede tener una o varias columnas y ninguna, una o varias filas.</p> <p>Formato</p> <p>A la hora de escribir una consulta, podemos dividirla en varias l\u00edneas para facilitar su legibilidad. Recuerda que hasta que no encuentre el car\u00e1cter de <code>;</code>, el int\u00e9rprete SQL no ejecutar\u00e1 la consulta.</p> <p>Adem\u00e1s, podemos utilizar espacios o tabuladores para indentar el c\u00f3digo:</p> <pre><code>-- Todo en una l\u00ednea \nselect nombre, apellido, fechaNacimiento from Jugador order by fechaNacimiento desc; \n\n-- En l\u00edneas separadas \nselect nombre, apellido, fechaNacimiento \nfrom Jugador \norder by fechaNacimiento desc; \n\n-- En l\u00edneas separadas, con atributos en diversas l\u00edneas \nselect nombre, \n    apellido, \n    fechaNacimiento \nfrom Jugador \norder by fechaNacimiento desc;\n</code></pre>"},{"location":"temas/04/index.html#proyeccion","title":"Proyecci\u00f3n","text":"<p>Para seleccionar campos utilizaremos bien <code>*</code> para indicar que queremos todas las columnas, o indicaremos de uno en uno el nombre de los campos que queremos recuperar;</p> <p>Para renombrar las columnas obtenidas, tras cada columna, mediante <code>as</code> podemos indicarle un alias a cada una de ellas:</p> <pre><code>SELECT nombre AS Nombre_Completo, a\u00f1oFundacion AS Fundado FROM Equipo LIMIT 3;\n</code></pre> Nombre_Completo Fundado Real Madrid CF 1902 FC Barcelona 1899 Atletico de Madrid 1903"},{"location":"temas/04/index.html#duplicados","title":"Duplicados","text":"<p>Si realizamos la siguiente consulta sobre la tabla <code>Jugador</code>, obtendremos todos las posiciones de los jugadores. Como pod\u00e9is observar, aparecen repetidas, porque obtenemos una fila por jugador existente en la tabla:</p> <pre><code>SELECT posicion FROM Jugador LIMIT 7;\n</code></pre> posicion Portero Defensa Defensa Defensa Centrocampista Delantero Centrocampista <p>Si nos interesa recuperar datos que no contengan repetidos, podemos emplear <code>distinct</code>:</p> <pre><code>SELECT DISTINCT posicion FROM Jugador;\n</code></pre> posicion Portero Defensa Centrocampista Delantero"},{"location":"temas/04/index.html#operaciones-aritmeticas","title":"Operaciones aritm\u00e9ticas","text":"<p>Cada vez que hacemos referencia a un campo o un valor, tambi\u00e9n podemos realizar operaciones aritm\u00e9ticas sobre el valor de los campos (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, ...)</p> <p>Por ejemplo, mediante la siguiente consulta podemos obtener de cada jugador, su nombre y altura, y su altura en cent\u00edmetros (multiplicando por 100):</p> <pre><code>SELECT nombre, altura, altura * 100 AS Altura_CM FROM Jugador LIMIT 3;\n</code></pre> nombre altura Altura_CM Thibaut 2.00 200 Daniel 1.73 173 Eder 1.86 186 <p>Adem\u00e1s, podemos hacer c\u00e1lculos sobre c\u00e1lculos de otras columnas previas, utilizando asignaciones. Para ello, asignamos el resultado de una expresi\u00f3n a una variable a la que anteponemos el s\u00edmbolo <code>@</code>. De esta forma, podemos usar dicha variable a lo largo de nuestra consulta:</p> <pre><code>SELECT @max_peso := MAX(peso) FROM Jugador;\nSELECT nombre, peso FROM Jugador WHERE peso = @max_peso;\n</code></pre> nombre peso Thibaut 96 <p>El operador CASE</p> <p>El operador CASE permite agregar a la proyecci\u00f3n la estructura l\u00f3gica condicional de <code>if/else</code>. Su sintaxis es la siguiente:</p> <pre><code>CASE campo \n    WHEN [valor1] THEN resultado \n    [WHEN [valor2] THEN resultado ...] \n    [ELSE resultado] \nEND \n\nCASE \n    WHEN [condici\u00f3n] THEN resultado \n    [WHEN [condici\u00f3n] THEN resultado ...] \n    [ELSE resultado] \nEND\n</code></pre> <p>Por ejemplo, a la hora de mostrar los jugadores, si queremos que cuando el mentor no est\u00e9 asignado muestre <code>Sin Mentor</code> har\u00edamos:</p> <pre><code>SELECT nombre, CASE WHEN mentorID IS NULL THEN 'Sin Mentor' ELSE mentorID END AS Mentor_Status FROM Jugador LIMIT 3;\n</code></pre> nombre Mentor_Status Thibaut Sin Mentor Daniel Sin Mentor Eder Sin Mentor <p>Veamos otro ejemplo. En el caso de las temporadas, la columna <code>esActiva</code> indica si la temporada est\u00e1 en curso. Si quisi\u00e9ramos mostrar la frase <code>En Curso</code> o <code>Finalizada</code> para estos casos har\u00edamos:</p> <pre><code>SELECT nombre, CASE WHEN esActiva THEN 'En Curso' ELSE 'Finalizada' END AS Estado_Temporada FROM Temporada;\n</code></pre> nombre Estado_Temporada 2022-2023 Finalizada 2023-2024 Finalizada 2024-2025 En Curso"},{"location":"temas/04/index.html#funciones","title":"Funciones","text":"<p>A la hora de recuperar o filtrar datos, es muy com\u00fan utilizar funciones que facilitan el trabajo con cadenas, c\u00e1lculos num\u00e9ricos, etc.. Como ya has estudiado en el m\u00f3dulo profesional de Programaci\u00f3n, las funciones reciben uno o m\u00e1s datos de entrada, tambi\u00e9n conocidos como par\u00e1metros (aunque existen algunas funciones que no reciben ninguno), y devuelven un resultado en base a los datos de entrada.</p> <p>Cabe destacar que las funciones no est\u00e1n completamente estandarizadas entre los diferentes SGBD, as\u00ed pues, conviene revisar la sintaxis exacta en el caso de migrar de un sistema a otro.</p>"},{"location":"temas/04/index.html#funciones-agregadas","title":"Funciones agregadas","text":"<p>Se emplean para realizar c\u00e1lculos sobre el total de elementos de la consulta (o agrupaci\u00f3n). Tras el <code>SELECT</code> indicaremos la funci\u00f3n (o funciones) a realizar sobre el total de elementos devueltos por la consulta.</p> <p>Vamos a comenzar contando la cantidad de filas mediante la funci\u00f3n <code>COUNT(expr)</code> pas\u00e1ndole como expresi\u00f3n <code>*</code>, lo cual indica que utilice todas las columnas, independientemente de su valor:</p> <pre><code>SELECT COUNT(*) FROM Jugador;\n</code></pre> COUNT(*) 150 <p>Si queremos recuperar cuantos elementos diferentes tenemos de un campo, en la expresi\u00f3n usaremos <code>DISTINCT</code>:</p> <pre><code>SELECT COUNT(DISTINCT posicion) FROM Jugador;\n</code></pre> COUNT(DISTINCT posicion) 4 <p>Otras funciones de agregaci\u00f3n que podemos emplear son:</p> <ul> <li><code>SUM(expr)</code>: Suma todos los valores de una expresi\u00f3n/columna</li> <li><code>MIN(expr)</code> / <code>MAX(expr)</code>: M\u00ednimo o m\u00e1ximo de una expresi\u00f3n/columna</li> <li><code>AVG(expr)</code>: Valor medio de una expresi\u00f3n/columna</li> </ul> <pre><code>SELECT SUM(peso) as Total, MIN(peso) as Minimo, MAX(peso) as Maximo, AVG(peso) as Media FROM Jugador;\n</code></pre> Total Minimo Maximo Media 11250 60 96 75 <p>En la pr\u00f3xima unidad estudiaremos como podemos agregar datos por algunas columnas y realizar c\u00e1lculos sobre ellas, lo que nos permitir\u00e1 obtener informaci\u00f3n del tipo \"Altura media de los equipos\", \"Peso medio por posici\u00f3n\", etc...</p>"},{"location":"temas/04/index.html#cadenas","title":"Cadenas","text":"<p>Mediante funciones de cadenas de texto podemos realizar m\u00faltiples operaciones:</p> <ul> <li><code>CONCAT(cadena1, cadena2, \u2026)</code>: permite unir/concatenar cadenas</li> <li><code>LOWER(cadena)</code> / <code>LCASE(cadena)</code>: transforma <code>cadena</code> a min\u00fasculas</li> <li><code>UPPER(cadena)</code> / <code>UCASE(cadena)</code>: transforma <code>cadena</code> en MAY\u00daSCULAS</li> <li><code>LEFT(cadena, longitud)</code> / <code>RIGHT</code>: devuelve los <code>longitud</code> caracteres de m\u00e1s a la izquierda/derecha de la <code>cadena</code></li> <li><code>TRIM(cadena)</code> / <code>LTRIM</code> / <code>RTRIM</code>: elimina los espacios en blanco por delante y por detr\u00e1s, o solamente los de delante/izquierda (L) o los de detr\u00e1s/derecha (R)</li> </ul> <p>Algunos ejemplos de su uso:</p> <pre><code>SELECT CONCAT(nombre, ' ', apellido) AS Jugador, UPPER(nombre), LENGTH(apellido) FROM Jugador LIMIT 3;\n</code></pre> Jugador UPPER(nombre) LENGTH(apellido) Thibaut Courtois THIBAUT 8 Daniel Carvajal DANIEL 8 Eder Militao EDER 7 <p>Otras funciones que podemos utilizar son <code>CHAR_LENGTH(cadena)</code> para obtener el tama\u00f1o, <code>LOCATE(subcadena, cadena)</code> para encontrar una subcadena en una cadena, REPLACE(cadena, cadenaOrigen, cadenaDestino)<code>para sustituir una subcadena por otra o</code>REVERSE(cadena)` para invertir una cadena.</p>"},{"location":"temas/04/index.html#fecha-hora","title":"Fecha / Hora","text":"<p>Si trabajamos con campos de tipo fecha, podemos emplear las siguientes funciones:</p> <ul> <li><code>NOW()</code> / <code>CURRENT_TIMESTAMP</code>: fecha y hora actual del sistema.</li> <li><code>CURDATE()</code>: fecha actual en formato <code>yyyy-mm-dd</code> o <code>yyyymmdd</code>.</li> <li><code>DATEDIFF(fecha1, fecha2)</code>: diferencia de d\u00edas entre dos fechas.</li> <li><code>TIMESTAMPDIFF(unidad, fecha1, fecha2)</code>: diferencia medida en <code>unidad</code> entre dos fechas.</li> <li><code>DATE_ADD(fecha, INTERVAL expresi\u00f3n Tipo)</code> / <code>DATE_SUB</code>, pudiendo utilizar los siguientes tipos.</li> </ul> <pre><code>SELECT NOW(), CURDATE(), DATEDIFF(fechaFin, fechaInicio) AS Dias_Temporada FROM Temporada WHERE esActiva = TRUE;\n</code></pre> NOW() CURDATE() Dias_Temporada 2026-01-04 12:00:00 2026-01-04 319 <pre><code>SELECT nombre, fechaNacimiento, TIMESTAMPDIFF(YEAR, fechaNacimiento, CURDATE()) AS Edad FROM Jugador LIMIT 3;\n</code></pre> nombre fechaNacimiento Edad Thibaut 1992-05-11 33 Daniel 1992-01-11 33 Eder 1998-01-18 27 <p>Por otro lado, adem\u00e1s de operaciones sobre campos fecha, tambi\u00e9n podemos realizar transformaciones sobre fecha para obtener una parte o informaci\u00f3n relativa a la misma:</p> <ul> <li><code>YEAR(fecha)</code>: a\u00f1o en formato <code>aaaa</code></li> <li><code>MONTH(fecha)</code>: mes en formato <code>mm</code></li> <li>Otras funciones \u00fatiles son <code>SECOND</code>, <code>MINUTE</code>, <code>HOUR</code>, <code>DAY</code>, <code>WEEK</code>, <code>DAYOFWEEK</code> \u2026</li> </ul> <pre><code>SELECT fechaNacimiento, YEAR(fechaNacimiento), MONTH(fechaNacimiento) FROM Jugador LIMIT 3;\n</code></pre> fechaNacimiento YEAR(fechaNacimiento) MONTH(fechaNacimiento) 1992-05-11 1992 5 1992-01-11 1992 1 1998-01-18 1998 1 <p>Por \u00faltimo, para formatear un campo de tipo fecha y mostrarla conforme necesitemos, podemos hacer uso de <code>DATE_FORMAT(fecha, formato)</code> para obtener informaci\u00f3n similar a la anterior (le podemos pasar un tercer par\u00e1metro con el locale para configurar el idioma de salida y sobrescribir el del sistema):</p> <pre><code>SELECT fechaNacimiento, DATE_FORMAT(fechaNacimiento, '%d-%m-%Y') as FechaES FROM Jugador LIMIT 3;\n</code></pre> fechaNacimiento FechaES 1992-05-11 11-05-1992 1992-01-11 11-01-1992 1998-01-18 18-01-1998 <p>Finalmente, otra funci\u00f3n muy importante a la hora de trabajar con fechas es la funci\u00f3n <code>CAST(expr as tipo)</code> que realiza la conversi\u00f3n de tipos de datos.</p> <p>De esta manera podemos convertir una expresi\u00f3n de cadena en un tipo fecha:</p> <pre><code>SELECT CAST(\"2024-12-9\" AS DATE);\n</code></pre>"},{"location":"temas/04/index.html#condicionales-y-nulos","title":"Condicionales y Nulos","text":"<p>De forma similar al operador <code>CASE</code>, si preferimos, podemos hacer uso de la funci\u00f3n <code>IF(expr,V,F)</code>.</p> <p>Por ejemplo, podemos reescribir la misma consulta vista anteriormente:</p> <pre><code>SELECT nombre, CASE WHEN mentorID IS NULL THEN \"Sin Mentor\" ELSE mentorID END AS Mentor_Status FROM Jugador;\n</code></pre> <p>por otra que utilice la funci\u00f3n <code>IF</code> mejorando la legibilidad:</p> <pre><code>SELECT nombre, IF(mentorID IS NULL, 'Sin Mentor', mentorID) as Mentor_Status FROM Jugador LIMIT 3;\n</code></pre> nombre Estatura Thibaut Alto Daniel Normal Eder Alto <p>Cuando trabajamos con nulos tambi\u00e9n podemos emplear las funciones:</p> <ul> <li><code>IFNULL(campo, valor)</code>: devuelve <code>valor</code> si <code>campo</code> es nulo</li> <li><code>COALESCE(campo1, campo2, ...)</code>: devuelve el primer valor no nulo de la lista de par\u00e1metros.</li> </ul> <p>Dicho esto, las siguientes consultas obtienen el mismo resultado:</p> <pre><code>SELECT nombre, IFNULL(mentorID, 'Sin Mentor') FROM Jugador LIMIT 3;\n</code></pre> nombre IFNULL(mentorID, 'Sin Mentor') Thibaut Sin Mentor Daniel Sin Mentor Eder Sin Mentor"},{"location":"temas/04/index.html#otras","title":"Otras","text":"<p>Tambi\u00e9n tenemos funciones matem\u00e1ticas como:</p> <ul> <li><code>ABS(num)</code>: obtiene el valor absoluto de <code>num</code></li> <li><code>SQRT(num)</code>, <code>POW(base, exponente)</code>: ra\u00edz cuadrada de <code>num</code>, potencia de <code>base</code> elevado a <code>exponente</code></li> <li><code>RAND()</code>: obtiene un n\u00famero aleatorio</li> <li><code>ROUND(num)</code> / <code>FLOOR(num)</code> / <code>CEILING(num)</code>: redondea un n\u00famero, por exceso o por defecto</li> <li><code>TRUNCATE(num,d)</code>: trunca <code>num</code> con <code>d</code> decimales</li> </ul> <p>Veamos unos ejemplos de redondeo de cantidades:</p> <pre><code>SELECT altura, ROUND(altura, 1), TRUNCATE(altura, 0) FROM Jugador LIMIT 3;\n</code></pre> altura ROUND(altura, 1) TRUNCATE(altura, 0) 2 2.0 2 1.73 1.7 1 1.86 1.9 1 <p>Otra funci\u00f3n muy empleada es <code>FORMAT(numero, decimales)</code> para formatear los n\u00fameros con separadores de miles y cantidad de decimales:</p> <pre><code>SELECT nombre, FORMAT(presupuesto, 2) FROM Equipo LIMIT 3;\n</code></pre> nombre FORMAT(presupuesto, 2) Real Madrid CF 750,000,000.00 FC Barcelona 600,000,000.00 Atletico de Madrid 300,000,000.00 <p>Tambi\u00e9n podemos emplear funciones para encriptar o comprimir, as\u00ed como para trabajar con coordenadas geogr\u00e1ficas.</p> <p>Resumen de funciones</p> Funci\u00f3n Descripci\u00f3n Ejemplo <code>COUNT(*)</code> / <code>COUNT(expr)</code> Cuenta filas totales o no nulas de una expresi\u00f3n <code>COUNT(*)</code> <code>SUM(col)</code> Suma los valores de una columna num\u00e9rica <code>SUM(peso)</code> <code>AVG(col)</code> Calcula el promedio <code>AVG(altura)</code> <code>MAX(col)</code> / <code>MIN(col)</code> Obtiene el valor m\u00e1ximo o m\u00ednimo <code>MAX(presupuesto)</code> <code>CONCAT(s1, s2)</code> Une cadenas de texto <code>CONCAT(nombre, ' ', apellido)</code> <code>UPPER(s)</code> / <code>LOWER(s)</code> Convierte a may\u00fasculas o min\u00fasculas <code>UPPER(nombre)</code> <code>LENGTH(s)</code> / <code>CHAR_LENGTH(s)</code> Obtiene la longitud de la cadena <code>LENGTH(nombre)</code> <code>NOW()</code> / <code>CURDATE()</code> Obtiene fecha/hora actual o solo fecha <code>NOW()</code> <code>TIMESTAMPDIFF(unit, d1, d2)</code> Diferencia entre fechas en la unidad dada <code>TIMESTAMPDIFF(YEAR, nac, CURDATE())</code> <code>IFNULL(val, default)</code> Si es nulo devuelve default, si no el valor <code>IFNULL(mentorID, 'Sin Mentor')</code> <code>COALESCE(val1, val2...)</code> Devuelve el primer valor no nulo <code>COALESCE(tel, movil, 'Sin contacto')</code> <code>ROUND(num, dec)</code> Redondea un n\u00famero a <code>dec</code> decimales <code>ROUND(altura, 2)</code>"},{"location":"temas/04/index.html#ordenando-y-limitando","title":"Ordenando y Limitando","text":"<p>Es muy com\u00fan tener que ordenar el resultado de una consulta para darle m\u00e1s importancia a unos campos que otros, e incluso, reducir el n\u00famero de tuplas recuperadas.</p> <p>As\u00ed pues, para ordenar mediante la cl\u00e1usula <code>ORDER BY {campo | pos} [ASC|DESC]</code>, indicando los diferentes campos separados por coma.</p> <pre><code>SELECT nombre, a\u00f1oFundacion FROM Equipo ORDER BY a\u00f1oFundacion ASC LIMIT 3;\n</code></pre> nombre a\u00f1oFundacion Sevilla FC 1890 Athletic Club 1898 FC Barcelona 1899 <p>Por defecto, la ordenaci\u00f3n se realiza de forma ascendente. Por lo tanto, la consulta anterior y la siguiente son similares:</p> <pre><code>SELECT nombre, a\u00f1oFundacion FROM Equipo ORDER BY a\u00f1oFundacion DESC LIMIT 3;\n</code></pre> nombre a\u00f1oFundacion Girona FC 1930 Villarreal CF 1923 Valencia CF 1919 <p>Algunos desarrolladores prefieren explicitar el orden de <code>ORDER BY</code> para evitar ambig\u00fcedades. Otros, en cambio, prefieren obviar la opci\u00f3n <code>ASC</code> para reducir el tama\u00f1o de las consultas.</p> <p>Por otro lado, tal como hemos comentado previamente, podemos ordenar por m\u00e1s de una columna, indicando para cada una de ellas diferentes tipos de ordenaciones:</p> <pre><code>SELECT equipoID, dorsal, nombre FROM Jugador ORDER BY equipoID ASC, dorsal ASC LIMIT 5;\n</code></pre> equipoID dorsal nombre 1 1 Thibaut 1 2 Daniel 1 3 Eder 1 4 David 1 5 Jude <p>Rendimiento</p> <p>Hay que tener en cuenta que ordenar los resultados de una consulta requiere colocar todos los datos en memoria, y dependiendo de la cantidad, puede ser una operaci\u00f3n computacionalmente compleja.</p> <p>Finalmente, a la hora de indicar el nombre de las columnas de ordenaci\u00f3n, tambi\u00e9n podemos un n\u00famero indicando la posici\u00f3n de la columna (en el siguiente ejemplo, 1 referencia a <code>NomEmp</code> y 2 a <code>NifEmp</code>):</p> <pre><code>SELECT nombre, a\u00f1oFundacion FROM Equipo ORDER BY 2 ASC LIMIT 3;\n</code></pre> nombre a\u00f1oFundacion Sevilla FC 1890 Athletic Club 1898 FC Barcelona 1899 <p>Adem\u00e1s, si queremos restringir y limitar el n\u00famero de resultados de la consulta usaremos <code>LIMIT cantidad</code>:</p> <pre><code>SELECT nombre FROM Jugador LIMIT 3;\n</code></pre> nombre Thibaut Daniel Eder <p>Reduciendo el tr\u00e1fico</p> <p>En ocasiones, cuando queremos obtener una muestra de los datos, en vez de hacer una consulta <code>select * from ...</code> para comprobar qu\u00e9 datos almacena una determinada tabla, es mucho mejor acostumbrarse a realizar un <code>select * from ... LIMIT 10</code>. De este modo, no sobrecargamos el servidor ni incrementamos el tr\u00e1fico de datos.</p> <p>Si no queremos coger los primeros elementos, podemos hacer uso <code>LIMIT inicio, cantidad</code>, teniendo en cuenta que <code>inicio</code> referencia al desplazamiento, es decir, la cantidad de filas que se ignorar\u00e1n.</p> <pre><code>SELECT nombre FROM Jugador LIMIT 5, 5;\n</code></pre> nombre Vinicius Federico Kylian Luka Rodrygo <p>Por \u00faltimo, podemos expresar lo mismo mediante <code>LIMIT cantidad OFFSET inicio</code>, s\u00f3lo que cambiamos el orden de los par\u00e1metros:</p> <pre><code>SELECT nombre FROM Jugador LIMIT 5 OFFSET 5;\n</code></pre> nombre Vinicius Federico Kylian Luka Rodrygo"},{"location":"temas/04/index.html#seleccion","title":"Selecci\u00f3n","text":"<p>La selecci\u00f3n en SQL permite filtrar filas de una tabla en funci\u00f3n de condiciones espec\u00edficas. Esto se logra mediante la cl\u00e1usula <code>WHERE</code>, que define los criterios de filtrado.</p> <p>Para filtrar los datos y realizar una selecci\u00f3n de tuplas, podemos emplear tanto funciones como operadores dentro del <code>WHERE</code>. Para realizar las comparaciones, se expresan mediante <code>expresion1 operador expresion2</code>, pudiendo utilizar los operadores relacionales <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>=</code>, <code>!=</code>, as\u00ed como los operadores l\u00f3gicos como <code>and</code>, <code>or</code>, <code>not</code>, etc...</p> <pre><code>SELECT nombre, posicion FROM Jugador WHERE posicion = 'Portero' LIMIT 3;\n</code></pre> nombre posicion Thibaut Portero Marc-Andre Portero Inaki Portero <p>Como puede observarse, no es necesario que el o los atributos que usemos en la selecci\u00f3n luego aparezcan en la proyecci\u00f3n, ni viceversa.</p>"},{"location":"temas/04/index.html#rangos","title":"Rangos","text":"<p>Supongamos que queremos recuperar los equipos fundados entre el a\u00f1o 1900 y 1920. Podemos hacerlo haciendo uso de una conjunci\u00f3n entre dos comparaciones:</p> <pre><code>SELECT nombre, a\u00f1oFundacion FROM Equipo WHERE a\u00f1oFundacion &gt;= 1900 AND a\u00f1oFundacion &lt;= 1920;\n</code></pre> nombre a\u00f1oFundacion Real Madrid CF 1902 Atletico de Madrid 1903 Real Sociedad 1909 Real Betis Balompie 1907 Valencia CF 1919 <p>Si el conjunto de valores a comparar forma parte de un rango num\u00e9rico, es mejor utilizar <code>BETWEEN .. AND</code>, siguiendo la sintaxis <code>expresi\u00f3n1 [NOT] BETWEEN expresi\u00f3n2 AND expresi\u00f3n3</code>:</p> <pre><code>SELECT nombre, a\u00f1oFundacion FROM Equipo WHERE a\u00f1oFundacion BETWEEN 1900 AND 1920;\n</code></pre> nombre a\u00f1oFundacion Real Madrid CF 1902 Atletico de Madrid 1903 Real Sociedad 1909 Real Betis Balompie 1907 Valencia CF 1919 <p>As\u00ed pues, la misma consulta la podemos reescribir as\u00ed:</p> <pre><code>SELECT nombre, a\u00f1oFundacion FROM Equipo WHERE a\u00f1oFundacion BETWEEN 1900 AND 1920;\n</code></pre> nombre a\u00f1oFundacion Real Madrid CF 1902 Atletico de Madrid 1903 Real Sociedad 1909 Real Betis Balompie 1907 Valencia CF 1919 <p>Tambi\u00e9n podemos negar la cl\u00e1usula o usarla con fechas:</p> <pre><code>SELECT nombre, fechaNacimiento FROM Jugador WHERE fechaNacimiento NOT BETWEEN '1990-01-01' AND '1999-12-31' LIMIT 3;\n</code></pre> nombre fechaNacimiento Luka 1985-09-09 Vinicius 2000-07-12 Jude 2003-06-29"},{"location":"temas/04/index.html#conjuntos","title":"Conjuntos","text":"<p>Si en vez de un rango, queremos comprobar si el resultado de la expresi\u00f3n coincide con uno de entre una lista de valores (los cuales deben coincidir en su tipo de datos), usaremos el operador <code>IN</code> con la sintaxis <code>exp1 [NOT] IN (const1 [,const2])</code></p> <pre><code>SELECT nombre, ciudad FROM Estadio WHERE ciudad IN ('Madrid', 'Sevilla');\n</code></pre> nombre ciudad Santiago Bernabeu Madrid Civitas Metropolitano Madrid Benito Villamarin Sevilla Ramon Sanchez-Pizjuan Sevilla"},{"location":"temas/04/index.html#patron-texto","title":"Patr\u00f3n texto","text":"<p>Cuando tenemos campos de tipo texto, lo normal no es comparar por todo el valor exacto, sino por una subcadena existente. Para ello, usaremos el operador <code>LIKE</code> acompa\u00f1ado de un patr\u00f3n, siguiendo la sintaxis <code>columna [NOT] LIKE patr\u00f3n</code>.</p> <p>En el patr\u00f3n de b\u00fasqueda, podemos emplear los comodines <code>_</code> para indicar que ocupa un car\u00e1cter y <code>%</code> para cero o m\u00e1s caracteres.</p> <pre><code>SELECT nombre FROM Jugador WHERE nombre LIKE 'J%' LIMIT 3;\n</code></pre> nombre Jude Jules Jan <p>Expresiones regulares</p> <p>Si la l\u00f3gica a comprobar es m\u00e1s compleja, podemos hacer uso de expresiones regulares, mediante la cl\u00e1usula <code>REGEXP</code>. Algunos ejemplos:</p> <ul> <li> <p>Jugadores cuyo nombre empieza por vocal (<code>^</code> comienza y entre corchetes ponemos todos los posibles valores, es decir, por una vocal en may\u00fasculas o min\u00fasculas)</p> <pre><code>SELECT nombre FROM Jugador WHERE nombre REGEXP '^[AEIOU]' LIMIT 3;\n</code></pre> nombre Eder Aurelien Arda </li> <li> <p>Equipos cuyo nombre contiene exactamente dos palabras (<code>^[^ ]+</code> una o m\u00e1s letras al inicio, y <code>[^ ]+$</code> una o m\u00e1s letras al final)</p> <pre><code>SELECT nombre FROM Equipo WHERE nombre REGEXP '^[[:alpha:]]+ [[:alpha:]]+$';\n</code></pre> nombre FC Barcelona Athletic Club Real Sociedad Sevilla FC Valencia CF Villarreal CF Girona FC </li> </ul>"},{"location":"temas/04/index.html#valor-nulo","title":"Valor nulo","text":"<p>Para comprobar si un campo contiene valores nulos (o si queremos saber si tiene alg\u00fan valor, sea cual sea) usaremos el operador <code>IS NULL</code> con la sintaxis <code>columna IS [NOT] NULL</code>:</p> <pre><code>SELECT nombre, mentorID FROM Jugador WHERE mentorID IS NULL LIMIT 3;\n</code></pre> nombre mentorID Thibaut NULL Daniel NULL Eder NULL"},{"location":"temas/04/index.html#operadores-logicos","title":"Operadores l\u00f3gicos","text":"<p>Respecto a las condiciones compuestas, podemos unir operadores mediante <code>AND</code> (conjunci\u00f3n), <code>OR</code> (disyunci\u00f3n) y <code>NOT</code> (negaci\u00f3n).</p> <pre><code>SELECT nombre, altura, peso FROM Jugador WHERE (posicion='Delantero' OR posicion='Defensa') AND altura &gt; 1.90 LIMIT 3;\n</code></pre> nombre altura peso Alexander 1.95 90 Mikel 1.91 85 Rafa 1.91 86"},{"location":"temas/04/index.html#prioridad-de-los-operadores","title":"Prioridad de los operadores","text":"<p>Conviene recordar la prioridad de los operadores a la hora de evaluar una expresi\u00f3n:</p> <ul> <li>Se eval\u00faa la multiplicaci\u00f3n (<code>*</code>) y la divisi\u00f3n (<code>/</code>) al mismo nivel.</li> <li>A continuaci\u00f3n sumas (<code>+</code>) y restas (<code>-</code>).</li> <li>Todas las comparaciones (<code>&lt;</code>, <code>&gt;</code>, \u2026).</li> <li>Despu\u00e9s se eval\u00faan los operadores <code>IS NULL</code>, <code>IN</code>, <code>LIKE</code></li> <li><code>BETWEEN</code>...</li> <li><code>NOT</code>.</li> <li><code>AND</code>.</li> <li><code>OR</code>.</li> </ul> <p>Cuadro resumen SELECT</p> Opci\u00f3n Descripci\u00f3n Ejemplo <code>DISTINCT</code> Elimina filas duplicadas del resultado <code>SELECT DISTINCT posicion ...</code> <code>AS</code> Define un alias para una columna o tabla <code>SELECT nombre AS Nombre_Completo ...</code> <code>CASE</code> Estructura condicional if/else dentro de la proyecci\u00f3n <code>CASE WHEN esActiva THEN 'En Curso' ELSE 'Finalizada' END</code> <code>ORDER BY</code> Ordena los resultados por una o m\u00e1s columnas <code>ORDER BY a\u00f1oFundacion DESC</code> <code>LIMIT</code> Restringe el n\u00famero de filas devueltas <code>LIMIT 5</code> o <code>LIMIT 5 OFFSET 10</code> <code>WHERE</code> Filtra filas bas\u00e1ndose en una condici\u00f3n <code>WHERE altura &gt; 1.90</code> <code>BETWEEN</code> Comprueba si un valor est\u00e1 dentro de un rango <code>WHERE a\u00f1oFundacion BETWEEN 1900 AND 1920</code> <code>IN</code> Comprueba si un valor coincide con una lista <code>WHERE ciudad IN ('Madrid', 'Sevilla')</code> <code>LIKE</code> Busca un patr\u00f3n de texto (<code>%</code> = varios, <code>_</code> = uno) <code>WHERE nombre LIKE 'J%'</code> <code>REGEXP</code> Busca patrones complejos con expresiones regulares <code>WHERE nombre REGEXP '^[AEIOU]'</code> <code>IS NULL</code> Comprueba si un valor es nulo <code>WHERE mentorID IS NULL</code> <code>AND</code> / <code>OR</code> / <code>NOT</code> Conecta o niega condiciones l\u00f3gicas <code>WHERE (pos='Portero' OR pos='Defensa') AND altura &gt; 1.90</code>"},{"location":"temas/04/index.html#uniendo-tablas","title":"Uniendo Tablas","text":"<p>Hasta ahora nos hemos dedicaod a realizar consultas sobre uno o m\u00e1s atributos de una determinada tabla. El modelo relacional se basa en la relaci\u00f3n de una o m\u00e1s tablas, y por lo tanto, necesitamos de un mecanismo que nos permite obtener informaci\u00f3n de tablas que est\u00e1n relacionadas.</p> <p>Dicho esto, para unir varias tablas (realizar un join) tenemos diferentes formas de hacerlo:</p> <ul> <li>cross join: producto cartesiano entre dos tablas</li> <li>inner join: une dos tablas por campos que coinciden en valor.</li> <li>natural join: une dos tablas por campos que se llaman igual</li> <li>outer join: une dos tablas, recuperando todos los elementos que est\u00e1n en una de ellas y de la segunda los que coinciden en valor. En este caso, podemos distinguir entre left join o right join dependiendo que tabla es la que aporta todos los elementos.</li> </ul> <p>Veamos estas operaciones en detalle.</p>"},{"location":"temas/04/index.html#producto-cartesiano","title":"Producto cartesiano","text":"<p>El producto cartesiano (cross join) de dos tablas son todas las combinaciones de las filas de una tabla unidas a las filas de la otra tabla. Es decir, cada fila de A se cruza con todas las de B.</p> <pre><code>SELECT e.nombre, en.nombre FROM Equipo e CROSS JOIN Entrenador en LIMIT 3;\n</code></pre> nombre nombre Real Madrid CF Carlo FC Barcelona Carlo Atletico de Madrid Carlo <p>Otra forma de expresar lo mismo es mediante <code>cross join</code>:</p> <pre><code>SELECT NomEmp, NomDep FROM empleado CROSS JOIN departamento;\n</code></pre>"},{"location":"temas/04/index.html#composicion-interna-inner-join","title":"Composici\u00f3n interna (INNER JOIN)","text":"<p>La operaci\u00f3n <code>[INNER] JOIN</code> combina registros de dos tablas siempre que existan valores coincidentes en un campo com\u00fan (clave ajena con clave primaria). Para ello, se indica una tabla seguida (opcionalmente con el prefijo <code>INNER</code>) de <code>JOIN</code> con la segunda tabla, y tras <code>ON</code>, igualamos la clave ajena con la primaria:</p> <pre><code>SELECT NomEmp, NomDep FROM empleado JOIN departamento ON empleado.CodDep=departamento.CodDep;\n</code></pre> <pre><code>SELECT en.nombre, e.nombre FROM Entrenador en JOIN Equipo e ON en.equipoID=e.id LIMIT 3;\n</code></pre> nombre nombre Carlo Real Madrid CF Hansi FC Barcelona Diego Atletico de Madrid <p>Es conveniente, y realmente m\u00e1s c\u00f3modo, poner un alias a las tablas (normalmente la inicial del nombre de la tabla tras el propio nombre de la misma):</p> <pre><code>SELECT en.nombre AS Entrenador, e.nombre AS Equipo FROM Entrenador en JOIN Equipo e ON en.equipoID=e.id LIMIT 3;\n</code></pre> Entrenador Equipo Carlo Real Madrid CF Hansi FC Barcelona Diego Atletico de Madrid <p>En versiones antiguas de SQL era m\u00e1s com\u00fan indicar las tablas separadas por coma y realizar el join en el <code>WHERE</code>, uniendo la clave ajena con la clave primaria de la tabla a la que referencia. Aunque a nivel funcional el resultado es el mismo, es recomendable utilizar la sintaxis <code>JOIN ... ON</code> por legibilidad, y es probable, que el optimizador de consultas del SGBD funcione mejor:</p> <pre><code>--- SQL (ejemplo de sintaxis antigua);\nSELECT NomEmp, NomDep \nFROM empleado e, departamento d \nWHERE e.CodDep=d.CodDep;\n\n--- SQL 99 (ejemplo de sintaxis moderna); \nSELECT NomEmp, NomDep \nFROM empleado e JOIN departamento d ON e.CodDep=d.CodDep;\n</code></pre> <p>Cuando coincide el nombre de los atributos podemos emplear la cl\u00e1usula <code>USING (listaDeColumnas)</code> para simplificar la consulta:</p> <pre><code>SELECT j.nombre, e.nombre FROM Jugador j JOIN Equipo e \nUSING(id) LIMIT 3;\n</code></pre> nombre nombre Thibaut Real Madrid CF Daniel FC Barcelona Eder Atletico de Madrid <p>Nota: En este caso, al usar <code>USING(id)</code>, estamos uniendo el Jugador con ID 1 con el Equipo con ID 1. No es una relaci\u00f3n l\u00f3gica real (Thibaut juega en el Real Madrid, pero Daniel NO juega en el Bar\u00e7a, juega en el Madrid, su ID es 2 y el equipo ID 1), simplemente coincide el ID. Para relaciones reales, usad <code>ON</code>.</p>"},{"location":"temas/04/index.html#natural-join","title":"Natural join","text":"<p>Forma parte del est\u00e1ndar SQL desde SQL:1999, y se trata de una especializaci\u00f3n de <code>INNER JOIN</code>, ya que simplifica la uni\u00f3n entre dos tablas al basarse autom\u00e1ticamente en las columnas con nombres coincidentes en ambas tablas.</p> <p>La tabla resultante contiene s\u00f3lo una columna por cada par de columnas con el mismo nombre.</p> <pre><code>SELECT j.nombre, e.nombre FROM Jugador j NATURAL JOIN Equipo e LIMIT 3;\n</code></pre> nombre nombre Thibaut Real Madrid CF Daniel FC Barcelona Eder Atletico de Madrid <p>Nota: Al igual que con <code>USING</code>, <code>NATURAL JOIN</code> une por columnas con el mismo nombre (<code>id</code> en este caso). El resultado es sint\u00e1cticamente correcto pero sem\u00e1nticamente err\u00f3neo para nuestra l\u00f3gica de negocio.</p>"},{"location":"temas/04/index.html#consultas-sobre-varias-tablas-join","title":"Consultas sobre varias tablas (JOIN)","text":"<p>Cuando necesitamos informaci\u00f3n que est\u00e1 en diferentes tablas, o necesitamos que los datos obtenidos dependan de las relaciones en las que participan, deberemos emparejar los campos que han de tener valores iguales (FKs con PKs)</p> <p>Algunos aspectos a tener en cuenta:</p> <ul> <li>Pueden combinarse tantas tablas como se desee.</li> <li>El criterio de combinaci\u00f3n puede estar formado por m\u00e1s de una pareja de columnas.</li> <li>En la cl\u00e1usula <code>SELECT</code> pueden citarse columnas de ambas tablas, coincidan o no con la combinaci\u00f3n.</li> <li>Si hay columnas con el mismo nombre en las distintas tablas, deben identificarse especificando la tabla de procedencia o utilizando un alias de tabla.</li> </ul> <p>Veamos algunos ejemplos. Antes ya hemos visto c\u00f3mo recuperar el nombre de los equipos donde juega cada jugador. Si tambi\u00e9n queremos obtener el nombre del estadio, necesitamos unir las tres tablas:</p> <pre><code>SELECT j.nombre, e.nombre, es.nombre FROM Jugador j JOIN Equipo e ON j.equipoID = e.id JOIN Estadio es ON e.estadioID = es.id LIMIT 3;\n</code></pre> nombre nombre nombre Thibaut Real Madrid CF Santiago Bernabeu Daniel Real Madrid CF Santiago Bernabeu Eder Real Madrid CF Santiago Bernabeu <p>Si adem\u00e1s, queremos el entrenador del equipo, necesitamos volver a unir con Entrenador para obtener su nombre:</p> <pre><code>SELECT j.nombre, e.nombre, en.nombre AS Entrenador FROM Jugador j JOIN Equipo e ON j.equipoID = e.id JOIN Entrenador en ON en.equipoID = e.id LIMIT 3;\n</code></pre> nombre nombre Entrenador Thibaut Real Madrid CF Carlo Daniel Real Madrid CF Carlo Eder Real Madrid CF Carlo <p>En todo momento, podemos a\u00f1adir filtros sobre una composici\u00f3n. Por ejemplo, recuperaremos los nombres de los jugadores y equipos, de aquellos equipos fundados antes de 1900:</p> <pre><code>SELECT j.nombre, e.nombre FROM Jugador j JOIN Equipo e ON j.equipoID = e.id WHERE e.a\u00f1oFundacion &lt; 1900 LIMIT 3;\n</code></pre> nombre nombre Marc-Andre FC Barcelona Pau FC Barcelona Alejandro FC Barcelona"},{"location":"temas/04/index.html#composicion-reflexiva","title":"Composici\u00f3n reflexiva","text":"<p>Cuando tenemos una relaci\u00f3n reflexiva de una tabla consigo misma, para obtener los datos, hemos de realizar una join de la tabla con otra instancia de s\u00ed misma.</p> <p>Por ejemplo, en la tabla <code>Jugador</code>, la columna <code>mentorID</code> referencia al jugador que le hace de mentor; aquellos que tenga como valor <code>NULL</code>, no tienen mentor y podr\u00edamos decir que son jugadores experimentados.</p> <pre><code>SELECT nombre, mentorID FROM Jugador WHERE mentorID IS NOT NULL LIMIT 3;\n</code></pre> nombre mentorID Arda 9 Endrick 6 Inaki 16 <p>As\u00ed pues, si queremos recuperar todos los pupilos, as\u00ed como el nombre de su mentor necesitamos referencias a la tabla <code>Jugador</code> mediante un join consigo misma. Para ello, es imperativo utilizar un alias descriptivo para identificar el rol de la tabla en cada caso (en nuestro caso, <code>j</code> como jugador (pupilo) y <code>m</code> para los mentores):</p> <pre><code>SELECT j.nombre AS Jugador, m.nombre AS Mentor FROM Jugador j JOIN Jugador m ON j.mentorID = m.id LIMIT 3;\n</code></pre> Jugador Mentor Arda Kylian Endrick Vinicius Inaki Nahuel"},{"location":"temas/04/index.html#composicion-externa","title":"Composici\u00f3n externa","text":"<p>Cuando efectuamos una combinaci\u00f3n interna los registros que se quedan sin emparejar en la otra tabla no aparecen en el resultado.</p> <p>En ocasiones no queremos \u00fanicamente los registros que est\u00e1n conectados, sino que nos interesa recuperarlos todos (conectados y no conectados) y de los conectados, sus datos. En otras ocasiones, queremos recuperar todos los que no est\u00e1n conectados... Para ello, necesitamos hacer uso de las composiciones externas.</p> <p>Mediante una combinaci\u00f3n externa, aparecer\u00e1n los datos emparejados m\u00e1s los que no est\u00e1n relacionados, ya sea por la:</p> <ul> <li>Izquierda: <code>LEFT [OUTER] JOIN</code> \u2013 Todos los de la tabla de la izquierda, y de la derecha los relacionados.</li> <li>Derecha: <code>RIGHT [OUTER] JOIN</code> \u2013 Los de la izquierda los relacionados, y de la derecha todos los datos.</li> </ul> <p>Veamos con un ejemplo qu\u00e9 datos obtenemos. Primero realizamos un join entre jugadores y sus estad\u00edsticas de partido para obtener los jugadores que han jugado (obtenemos registros repetidos por jugador si han jugado m\u00e1s de un partido):</p> <pre><code>SELECT j.nombre, ep.goles FROM Jugador j JOIN EstadisticaPartido ep ON j.id = ep.jugadorID LIMIT 3;\n</code></pre> nombre goles Robert 2 Lamine 0 Hugo 1 <p>Si en cambio queremos recuperar todos los jugadores, y si han jugado, sus estad\u00edsticas, har\u00edamos un left join. Ahora se muestran todos los jugadores, y adem\u00e1s, aquel que tenga estad\u00edsticas, aparecer\u00e1 tantas veces como partidos haya jugado. En cambio, de los que no han jugado aparecer\u00e1 <code>NULL</code> en las columnas correspondientes:</p> <pre><code>SELECT j.nombre, ep.goles FROM Jugador j LEFT JOIN EstadisticaPartido ep ON j.id = ep.jugadorID LIMIT 3;\n</code></pre> nombre goles Thibaut NULL Daniel NULL Eder NULL <pre><code>SELECT j.nombre, ep.goles FROM Jugador j RIGHT JOIN EstadisticaPartido ep ON j.id = ep.jugadorID LIMIT 3;\n</code></pre> nombre goles Robert 2 Lamine 0 Hugo 1 <p>No obstante, si cambiamos el orden de las tablas en el join, s\u00ed que tiene sentido hacer un right join:</p> <pre><code>SELECT j.nombre, ep.goles FROM EstadisticaPartido ep RIGHT JOIN Jugador j ON j.id = ep.jugadorID LIMIT 3;\n</code></pre> nombre goles Thibaut NULL Daniel NULL Eder NULL <p>\u00bfY si tenemos tres tablas? Vamos a unir las estad\u00edsticas de los jugadores con los partidos (seguimos recuperando registros de jugadores que han jugado):</p> <pre><code>SELECT j.nombre, p.codigo, ep.goles FROM Jugador j JOIN EstadisticaPartido ep ON j.id = ep.jugadorID JOIN Partido p ON ep.partidoID = p.id;\n</code></pre> nombre codigo goles Robert P2425-04 2 Lamine P2425-04 0 Hugo P2425-04 1 <p>Si quiero recuperar todos los jugadores y los datos del partido si han jugado, tenemos que hacer un left join:</p> <pre><code>SELECT j.nombre, p.codigo, ep.goles FROM Jugador j LEFT JOIN EstadisticaPartido ep ON j.id = ep.jugadorID LEFT JOIN Partido p ON ep.partidoID = p.id LIMIT 3;\n</code></pre> nombre codigo goles Thibaut NULL NULL Daniel NULL NULL Eder NULL NULL <p>\u00bfQu\u00e9 ha pasado? \u00bfPor qu\u00e9 faltan registros? Al realizar el segundo join, ha eliminado aquellos registros que tienen el <code>partidoID</code> nulo (porque el join con Partido exige coincidencia).</p> <p>Pero \u00bfc\u00f3mo lo solucionamos? Primero vamos a unir los partidos y estad\u00edsticas, y luego hacemos el join por la derecha con todos los jugadores:</p> <pre><code>SELECT j.nombre, p.codigo, ep.goles \nFROM Jugador j RIGHT JOIN EstadisticaPartido ep ON j.id = ep.jugadorID \nLEFT JOIN Partido p ON ep.partidoID = p.id;\n</code></pre> nombre codigo goles Robert P2425-04 2 Lamine P2425-04 0 Hugo P2425-04 1 <p>Veamos otro ejemplo. Ahora quiero recuperar todas las estad\u00edsticas, y si lo hay, el jugador al que pertenecen. En este caso, pongo a la izquierda las estad\u00edsticas y hago dos left joins:</p> <pre><code>SELECT j.nombre, ep.goles FROM EstadisticaPartido ep \nLEFT JOIN Jugador j ON ep.jugadorID = j.id \nLIMIT 3;\n</code></pre> nombre goles Robert 2 Lamine 0 Hugo 1 <p>La misma consulta con s\u00f3lo una consulta externa ser\u00eda:</p> <pre><code>SELECT j.nombre, ep.goles FROM EstadisticaPartido ep RIGHT JOIN Jugador j ON ep.jugadorID = j.id LIMIT 3;\n</code></pre> nombre goles Thibaut NULL Daniel NULL Eder NULL"},{"location":"temas/04/index.html#antijoin","title":"Antijoin","text":"<p>Se conoce como antijoin los registros obtenidos de una tabla que no se combinan con otra. Es decir, son los registros que no se seleccionan al realizar un inner join, y de ah\u00ed el prefijo anti.</p> <p>Para aprender su uso, vamos a recuperar los jugadores que no han jugado ning\u00fan partido:</p> <p></p> <p>Antijoin entre jugadores sin jugar</p> <p>Pero antes, volvamos al ejemplo anterior donde obten\u00edamos los jugadores que han jugado:</p> <pre><code>SELECT j.nombre, ep.goles FROM Jugador j JOIN EstadisticaPartido ep ON j.id = ep.jugadorID LIMIT 3;\n</code></pre> nombre goles Robert 2 Lamine 0 Hugo 1 <p>\u00bfY c\u00f3mo hago para obtener los jugadores que no han jugado? Si realizamos un join por la izquierda, s\u00ed que aparecer\u00e1n los jugadores que no han jugado (adem\u00e1s de los que s\u00ed):</p> <pre><code>SELECT j.nombre FROM Jugador j LEFT JOIN EstadisticaPartido ep ON j.id = ep.jugadorID LIMIT 3;\n</code></pre> nombre Thibaut Daniel Eder <p>As\u00ed pues, si sobre el left join, nos quedamos con los que tienen la clave primaria referenciada nula, obtendremos justo los jugadores que no han jugado (operaci\u00f3n que se conoce como anti-join):</p> <pre><code>SELECT j.nombre FROM Jugador j LEFT JOIN EstadisticaPartido ep ON j.id = ep.jugadorID WHERE ep.partidoID IS NULL LIMIT 3;\n</code></pre> nombre Thibaut Daniel Eder"},{"location":"temas/04/index.html#full-outer-join","title":"Full Outer Join","text":"<p>Aunque no est\u00e1 soportado por MariaDB, conviene conocer la combinaci\u00f3n externa completa, aunque su uso es muy limitado (por la propia restricci\u00f3n de integridad referencial). Su resultado presenta los resultados de la tabla de la izquierda y de la tabla de la derecha aunque no tengan correspondencia en la otra tabla.</p> <p>Es decir, la tabla combinada contendr\u00e1 entonces todos los registros de ambas tablas y presentar\u00e1 valores nulos para registros sin pareja.</p> <p>Si necesitamos dicho resultado, podemos simularlo haciendo una uni\u00f3n entre un left join y un right join. De esta manera obtendr\u00edamos todos los registros de T1 y los valores de T2 relacionados o nulos en los que no, y en una segunda consulta, los valores de T1 relacionados o nulos en los que no, y todos los valores de T2:</p> <pre><code>SELECT * FROM t1 LEFT JOIN t2 ON t1.id = t2.id \nUNION \nSELECT * FROM t1 RIGHT JOIN t2 ON t1.id = t2.id\n</code></pre> <p>Resumen de Joins</p> Tipo de Join Descripci\u00f3n Ejemplo <code>CROSS JOIN</code> Producto cartesiano (combina todas las filas de A con todas las de B) <code>Equipo CROSS JOIN Entrenador</code> <code>INNER JOIN</code> Devuelve s\u00f3lo las filas donde hay coincidencia en ambas tablas <code>Jugador JOIN Equipo ON ...</code> <code>NATURAL JOIN</code> Join autom\u00e1tico (<code>INNER</code>) por columnas con el mismo nombre <code>Jugador NATURAL JOIN Equipo</code> <code>LEFT JOIN</code> Devuelve todas las filas de la izquierda (A), y las coincidentes de la derecha (B) o NULL <code>Jugador LEFT JOIN Estadistica ...</code> <code>RIGHT JOIN</code> Devuelve todas las filas de la derecha (B), y las coincidentes de la izquierda (A) o NULL <code>Estadistica RIGHT JOIN Jugador ...</code>"},{"location":"temas/04/index.html#operadores-de-conjuntos","title":"Operadores de conjuntos","text":"<p>Los operadores de conjuntos no operan sobre tipos de datos simples, sino sobre los resultados de dos o m\u00e1s consultas, las cuales deben tener la misma estructura, es decir, que la cantidad y los tipos de datos deben ser los mismos.</p> <p>Los operadores de conjuntos son:</p> <ul> <li><code>UNION</code>: Devuelve el conjunto de filas resultante de la uni\u00f3n de las dos consultas, sin duplicados.</li> <li><code>UNION ALL</code>: Devuelve el conjunto de filas resultante de la uni\u00f3n de las dos consultas, incluyendo los duplicados.</li> <li><code>INTERSECT</code>: Devuelve la intersecci\u00f3n entre los dos conjuntos de filas.</li> <li><code>EXCEPT</code>: Devuelve todas aquellas filas de la primera consulta que no est\u00e9n en la segunda.</li> </ul> <p></p> <p>Veamos unos ejemplos sobre:</p> <pre><code>SELECT nombre FROM Equipo \nUNION \nSELECT nombre FROM Estadio LIMIT 5;\n</code></pre>"},{"location":"temas/04/index.html#referencias","title":"Referencias","text":"<ul> <li> <p>Sintaxis SQL oficial de PostgreSQL y MariaDB.</p> </li> <li> <p>Cheatsheets de https://learnsql.com/ sobre:</p> <ul> <li>SQL B\u00e1sico</li> <li>Funciones SQL</li> <li>Joins SQL</li> </ul> </li> <li> <p>Materiales sobre el m\u00f3dulo de BD:</p> <ul> <li>Consultes de selecci\u00f3 simple i complexes - Institut Obert de Catalunya.</li> <li>Consultas sobre una tabla, sobre varias tablas con composici\u00f3n interna, y con varias tablas con composici\u00f3n externa de Jos\u00e9 Juan S\u00e1nchez.</li> <li>Introducci\u00f3n a SQL.</li> <li>Realizaci\u00f3n de consultas de Javier Guti\u00e9rrez.</li> <li>Consulta de bases de datos de gestionbasesdatos.readthedocs.io</li> <li>Introducci\u00f3n a SQL, por Luis Valencia y David Orellana, de la Universidad de Sevilla.</li> </ul> </li> </ul>"},{"location":"temas/04/actividades.html","title":"Actividades","text":""},{"location":"temas/04/actividades.html#actividades","title":"Actividades","text":""},{"location":"temas/04/actividades.html#ac401","title":"AC401","text":"Ejercicio AC401 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3a, CE3b // 5p <p>Una vez cargada la base de datos de <code>liga_futbol</code> (o <code>SUPERLIGA</code> seg\u00fan la versi\u00f3n instalada), tras comprobar la estructura de las tablas <code>Equipo</code> y <code>Jugador</code>, se pide realizar las siguientes consultas:</p> <ol> <li>Lista el nombre de todos los equipos que hay en la tabla <code>Equipo</code>.</li> <li>Lista los nombres y los presupuestos de todos los equipos.</li> <li>Lista todas las columnas de la tabla <code>Equipo</code>.</li> <li>Lista el nombre de los jugadores junto con su altura.</li> <li>Recupera todas las posibilidades de posiciones que tienen los jugadores (ej: Portero, Defensa...).</li> <li>Lista el nombre y la altura en cent\u00edmetros (altura * 100) de todos los jugadores.</li> <li>Lista el nombre de los equipos, el presupuesto en euros y tambi\u00e9n en d\u00f3lares estadounidenses (asumiendo 1\u20ac = 1.1$).</li> <li>A partir de la consulta anterior, utiliza los siguientes alias para las columnas: nombre de equipo, euros, d\u00f3lares.</li> </ol>"},{"location":"temas/04/actividades.html#ac402","title":"AC402","text":"Ejercicio AC402 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3a, CE3b // 5p <p>Sobre la base de datos <code>liga_futbol</code>, y haciendo uso de funciones, realiza las siguientes consultas:</p> <ol> <li>Lista los nombres y sus ciudades de todos los equipos de la tabla <code>Equipo</code>, convirtiendo los nombres a may\u00fascula.</li> <li>Lista los nombres y los apellidos de todos los jugadores, convirtiendo los nombres a min\u00fasculas.</li> <li>Lista el nombre de todos los jugadores en una columna, y en otra columna recupera en may\u00fasculas las 3 primeras letras de su posici\u00f3n.</li> <li>Lista el dorsal del jugador y el c\u00f3digo de su equipo, as\u00ed como un c\u00f3digo formado por los datos de estos campos unidos (ej: <code>RMA-10</code>).</li> <li>Lista el nombre completo de los jugadores concatenando nombre y apellidos, y calcula la longitud total de su nombre completo.</li> <li>Lista los nombres, el presupuesto y el presupuesto incrementado un 10% de todos los equipos, redondeando el resultado.</li> <li>Lista los nombres de los jugadores y su altura truncada a 1 decimal (ej: 1.8).</li> <li>Muestra el nombre de los jugadores, su altura, y una categor\u00eda de altura: <code>Bajo</code> si mide menos de 1.75, <code>Medio</code> si mide entre 1.75 y 1.85, y <code>Alto</code> si mide m\u00e1s de 1.85.</li> </ol>"},{"location":"temas/04/actividades.html#ac403","title":"AC403","text":"Ejercicio AC403 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3b // 5p <p>Sobre la base de datos <code>liga_futbol</code>, realiza las siguientes consultas:</p> <ol> <li>Lista, para cada jugador, adem\u00e1s de su nombre, en campos separados, el d\u00eda, el mes y el a\u00f1o de su nacimiento.</li> <li>Listado de jugadores, con su nombre, fecha de nacimiento y edad actual (calculada con <code>TIMESTAMPDIFF</code> o similar).</li> <li>Para cada equipo, necesitamos su nombre, su a\u00f1o de fundaci\u00f3n y cu\u00e1ntos a\u00f1os lleva existiendo hasta la actualidad.</li> <li>Crea un listado con el nombre de los equipos y genera un c\u00f3digo aleatorio para cada uno.</li> <li>Listado de jugadores ordenado por posici\u00f3n (alfab\u00e9ticamente) y dentro de esta por altura descendente.</li> <li>Listado del nombre y presupuesto de los equipos (con formato num\u00e9rico apropiado) ordenado por presupuesto de mayor a menor.</li> <li>Lista los tres jugadores m\u00e1s j\u00f3venes de la base de datos.</li> <li>Recupera el equipo con el presupuesto m\u00e1s alto.</li> </ol>"},{"location":"temas/04/actividades.html#ar604","title":"AR604","text":"Ejercicio AR604 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3b // 5p <p>Sobre la base de datos <code>tienda_informatica</code>, realiza las siguientes consultas:</p> <ol> <li>Lista el nombre de todos los productos que hay en la tabla <code>producto</code>.</li> <li>Lista los nombres y los precios de todos los productos de la tabla <code>producto</code>.</li> <li>Lista todas las columnas de la tabla <code>producto</code>.</li> <li>Lista el nombre de los productos, el precio en euros y el precio en d\u00f3lares estadounidenses (USD).</li> <li>Lista el nombre de los productos, el precio en euros y el precio en d\u00f3lares estadounidenses (USD). Utiliza los siguientes alias para las columnas: <code>nombre de producto</code>, <code>euros</code>, <code>d\u00f3lares</code>.</li> <li>Lista los nombres y los precios de todos los productos de la tabla <code>producto</code>, convirtiendo los nombres a may\u00fascula.</li> <li>Lista los nombres y los precios de todos los productos de la tabla <code>producto</code>, convirtiendo los nombres a min\u00fascula.</li> <li>Lista el nombre de todos los fabricantes en una columna, y en otra columna obtenga en may\u00fasculas los dos primeros caracteres del nombre del fabricante.</li> <li>Lista los nombres y los precios de todos los productos de la tabla <code>producto</code>, redondeando el valor del precio.</li> <li>Lista los nombres y los precios de todos los productos de la tabla <code>producto</code>, truncando el valor del precio para mostrarlo sin ninguna cifra decimal.</li> <li>Lista el identificador de los fabricantes que tienen productos en la tabla <code>producto</code>.</li> <li>Lista el identificador de los fabricantes que tienen productos en la tabla <code>producto</code>, eliminando los identificadores que aparecen repetidos.</li> <li>Lista los nombres de los fabricantes ordenados de forma ascendente.</li> <li>Lista los nombres de los fabricantes ordenados de forma descendente.</li> <li>Lista los nombres de los productos ordenados en primer lugar por el nombre de forma ascendente y en segundo lugar por el precio de forma descendente.</li> <li>Devuelve una lista con las 5 primeras filas de la tabla <code>fabricante</code>.</li> <li>Devuelve una lista con 2 filas a partir de la cuarta fila de la tabla <code>fabricante</code>. La cuarta fila tambi\u00e9n se debe incluir en la respuesta.</li> <li>Lista el nombre y el precio del producto m\u00e1s barato. (Utilice solamente las cl\u00e1usulas <code>ORDER BY</code> y <code>LIMIT</code>)</li> <li>Lista el nombre y el precio del producto m\u00e1s caro. (Utilice solamente las cl\u00e1usulas <code>ORDER BY</code> y <code>LIMIT</code>)</li> </ol>"},{"location":"temas/04/actividades.html#ar405","title":"AR405","text":"Ejercicio AR405 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3b // 5p <p>Sobre la base de datos <code>Gesti\u00f3n de empleados</code>, realiza las siguientes consultas:</p> <ol> <li>Lista el primer apellido de todos los empleados.</li> <li>Lista el primer apellido de los empleados eliminando los apellidos que est\u00e9n repetidos.</li> <li>Lista todas las columnas de la tabla empleado.</li> <li>Lista el nombre y los apellidos de todos los empleados.</li> <li>Lista el identificador de los departamentos de los empleados que aparecen en la tabla empleado.</li> <li>Lista el identificador de los departamentos de los empleados que aparecen en la tabla empleado, eliminando los identificadores que aparecen repetidos.</li> <li>Lista el nombre y apellidos de los empleados en una \u00fanica columna.</li> <li>Lista el nombre y apellidos de los empleados en una \u00fanica columna, convirtiendo todos los caracteres en may\u00fascula.</li> <li>Lista el nombre y apellidos de los empleados en una \u00fanica columna, convirtiendo todos los caracteres en min\u00fascula.</li> <li>Lista el identificador de los empleados junto al nif, pero el nif deber\u00e1 aparecer en dos columnas, una mostrar\u00e1 \u00fanicamente los d\u00edgitos del nif y la otra la letra.</li> <li>Lista el nombre de cada departamento y el valor del presupuesto actual del que dispone. Para calcular este dato tendr\u00e1 que restar al valor del presupuesto inicial (columna presupuesto) los gastos que se han generado (columna gastos). Tenga en cuenta que en algunos casos pueden existir valores negativos. Utilice un alias apropiado para la nueva columna columna que est\u00e1 calculando.</li> <li>Lista el nombre de los departamentos y el valor del presupuesto actual ordenado de forma ascendente.</li> <li>Lista el nombre de todos los departamentos ordenados de forma ascendente.</li> <li>Lista el nombre de todos los departamentos ordenados de forma descendente.</li> <li>Lista los apellidos y el nombre de todos los empleados, ordenados de forma alfab\u00e9tica tendiendo en cuenta en primer lugar sus apellidos y luego su nombre.</li> <li>Devuelve una lista con el nombre y el presupuesto, de los 3 departamentos que tienen mayor presupuesto.</li> <li>Devuelve una lista con el nombre y el presupuesto, de los 3 departamentos que tienen menor presupuesto.</li> <li>Devuelve una lista con el nombre y el gasto, de los 2 departamentos que tienen mayor gasto.</li> <li>Devuelve una lista con el nombre y el gasto, de los 2 departamentos que tienen menor gasto.</li> <li>Devuelve una lista con 5 filas a partir de la tercera fila de la tabla empleado. La tercera fila se debe incluir en la respuesta. La respuesta debe incluir todas las columnas de la tabla empleado.  </li> </ol>"},{"location":"temas/04/actividades.html#ac406","title":"AC406","text":"Ejercicio AC406 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3b // 5p <p>Sobre la base de datos <code>liga_futbol</code>, realiza las siguientes consultas:</p> <ol> <li>Recupera el nombre, apellidos y posici\u00f3n del jugador con dorsal <code>10</code> del equipo con c\u00f3digo <code>RMA</code> (o el c\u00f3digo que corresponda al Real Madrid).</li> <li>Listar sin repeticiones la ciudad de todos los equipos que se fundaron antes del a\u00f1o 1950.</li> <li>Listar el nombre de los jugadores que no tienen asignado un dorsal (o cuyo dorsal es NULL, si aplica).</li> <li>Listar el nombre y ciudad de los equipos que no sean de <code>Madrid</code> ni de <code>Barcelona</code>.</li> <li>Listar el nombre y altura de los jugadores que midan menos de 1.70 o m\u00e1s de 1.95 metros.</li> <li>Listar el nombre de los jugadores cuya posici\u00f3n no sea ni <code>Portero</code>, ni <code>Defensa</code>.</li> <li>Listar el nombre de los jugadores que tengan en su apellido la secuencia de letras <code>ez</code>.</li> <li>Listar el nombre y presupuesto de los equipos que tienen un presupuesto menor a 50 millones pero se fundaron antes de 1980.</li> <li> <p>Listar el nombre de los jugadores que son <code>Delantero</code> o <code>Medio</code> y que:</p> <p>a) Miden m\u00e1s de 1.85; o b) Tienen menos de 20 a\u00f1os.</p> </li> </ol>"},{"location":"temas/04/actividades.html#ac407","title":"AC407","text":"Ejercicio AC407 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3b // 5p <p>Explica qu\u00e9 recuperan las siguientes consultas (en lenguaje natural, no leyendo la consulta):</p> <pre><code>SELECT CodEmp, ROUND(SalEmp, 2) FROM empleado WHERE SalEmp &gt; 2500000;\nSELECT SUM(NumHij) FROM hijo;\nSELECT CodHab, DesHab FROM habilidad WHERE LOWER(DesHab) LIKE '%gesti\u00f3n%';\nSELECT AVG(SalEmp) FROM empleado WHERE NumHi &gt;= 1;\nSELECT NomEmp, TIMESTAMPDIFF(YEAR, FecInEmp, CURDATE()) FROM empleado WHERE TIMESTAMPDIFF(YEAR, FecInEmp, CURDATE()) &gt; 25;\nSELECT CodCen, NomCen FROM centro WHERE PobCen = \"Elche\" ORDER BY NomCen DESC;\nSELECT COUNT(*) FROM departamento WHERE PreAnu &gt; 20000000;\nSELECT CodEmp, NomEmp, COALESCE(ExTelEmp, NumHi, \"0000\") from empleado;\nSELECT CodHab, DesHab, CHAR_LENGTH(DesHab) FROM habilidad WHERE CodHab LIKE 'A%';\n</code></pre>"},{"location":"temas/04/actividades.html#ar408","title":"AR408","text":"Ejercicio AR408 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3b // 5p <p>Sobre la base de datos <code>tienda_informatica</code>, realiza las siguientes consultas:</p> <ol> <li>Lista el nombre de todos los productos del fabricante cuyo identificador de fabricante es igual a 2.</li> <li>Lista el nombre de los productos que tienen un precio menor o igual a 120\u20ac.</li> <li>Lista el nombre de los productos que tienen un precio mayor o igual a 400\u20ac.</li> <li>Lista el nombre de los productos que no tienen un precio mayor o igual a 400\u20ac.</li> <li>Lista todos los productos que tengan un precio entre 80\u20ac y 300\u20ac. Sin utilizar el operador <code>BETWEEN</code>. </li> <li>Lista todos los productos que tengan un precio entre 60\u20ac y 200\u20ac. Utilizando el operador <code>BETWEEN</code>.</li> <li>Lista todos los productos que tengan un precio mayor que 200\u20ac y que el identificador de fabricante sea igual a 6. </li> <li>Lista todos los productos donde el identificador de fabricante sea 1, 3 o 5. Sin utilizar el operador <code>IN</code>. </li> <li>Lista todos los productos donde el identificador de fabricante sea 1, 3 o 5. Utilizando el operador <code>IN</code>.</li> <li>Lista el nombre y el precio de los productos en c\u00e9ntimos (Habr\u00e1 que multiplicar por 100 el valor del precio). Cree un alias para la columna que contiene el precio que se llame <code>c\u00e9ntimos</code>.</li> <li>Lista los nombres de los fabricantes cuyo nombre empiece por la letra <code>S</code>.</li> <li>Lista los nombres de los fabricantes cuyo nombre termine por la vocal <code>e</code>.</li> <li>Lista los nombres de los fabricantes cuyo nombre contenga el car\u00e1cter <code>w</code>.</li> <li>Lista los nombres de los fabricantes cuyo nombre sea de 4 caracteres.</li> <li>Devuelve una lista con el nombre de todos los productos que contienen la cadena <code>Port\u00e1til</code> en el nombre.</li> <li>Devuelve una lista con el nombre de todos los productos que contienen la cadena <code>Monitor</code> en el nombre y tienen un precio inferior a 215 \u20ac.</li> <li>Lista el nombre y el precio de todos los productos que tengan un precio mayor o igual a 180\u20ac. Ordene el resultado en primer lugar por el precio (en orden descendente) y en segundo lugar por el nombre (en orden ascendente).</li> </ol>"},{"location":"temas/04/actividades.html#ap409","title":"AP409","text":"Ejercicio AP409 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3b // 5p <p>Sobre la base de datos <code>Gestion de empleados</code>, realiza las siguientes consultas:</p> <ol> <li>Devuelve una lista con el nombre de los departamentos y el presupuesto, de aquellos que tienen un presupuesto mayor o igual a 150000 euros.</li> <li>Devuelve una lista con el nombre de los departamentos y el gasto, de aquellos que tienen menos de 5000 euros de gastos.</li> <li>Devuelve una lista con el nombre de los departamentos y el presupuesto, de aquellos que tienen un presupuesto entre 100000 y 200000 euros. Sin utilizar el operador <code>BETWEEN</code>.</li> <li>Devuelve una lista con el nombre de los departamentos que no tienen un presupuesto entre 100000 y 200000 euros. Sin utilizar el operador <code>BETWEEN</code>.</li> <li>Devuelve una lista con el nombre de los departamentos que tienen un presupuesto entre 100000 y 200000 euros. Utilizando el operador <code>BETWEEN</code>.</li> <li>Devuelve una lista con el nombre de los departamentos que no tienen un presupuesto entre 100000 y 200000 euros. Utilizando el operador <code>BETWEEN</code>.</li> <li>Devuelve una lista con el nombre de los departamentos, gastos y presupuesto, de aquellos departamentos donde los gastos sean mayores que el presupuesto del que disponen.</li> <li>Devuelve una lista con el nombre de los departamentos, gastos y presupuesto, de aquellos departamentos donde los gastos sean menores que el presupuesto del que disponen.</li> <li>Devuelve una lista con el nombre de los departamentos, gastos y presupuesto, de aquellos departamentos donde los gastos sean iguales al presupuesto del que disponen.</li> <li>Lista todos los datos de los empleados cuyo segundo apellido sea <code>NULL</code>.</li> <li>Lista todos los datos de los empleados cuyo segundo apellido no sea <code>NULL</code>.</li> <li>Lista todos los datos de los empleados cuyo segundo apellido sea <code>L\u00f3pez</code>.</li> <li>Lista todos los datos de los empleados cuyo segundo apellido sea <code>D\u00edaz</code> o <code>Moreno</code>. Sin utilizar el operador <code>IN</code>.</li> <li>Lista todos los datos de los empleados cuyo segundo apellido sea <code>D\u00edaz</code> o <code>Moreno</code>. Utilizando el operador <code>IN</code>.</li> <li>Lista los nombres, apellidos y nif de los empleados que trabajan en el departamento <code>3</code>.</li> <li>Lista los nombres, apellidos y nif de los empleados que trabajan en los departamentos <code>2</code>, <code>4</code> o <code>5</code>.</li> </ol>"},{"location":"temas/04/actividades.html#ac410","title":"AC410","text":"Ejercicio AC410 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3c // 5p <p>Sobre la base de datos <code>liga_futbol</code>, y utilizando composiciones internas, realiza las siguientes consultas:</p> <ol> <li>Muestra para cada jugador, su nombre, apellidos y el nombre del equipo al que pertenece.</li> <li>Muestra para cada equipo, su nombre y el nombre del estadio donde juega.</li> <li>Muestra para cada jugador, su nombre, el nombre de su equipo y el nombre de su estadio.</li> <li>Muestra el nombre del equipo, la ciudad y el nombre de su estadio, del equipo que tenga el presupuesto m\u00e1s alto.</li> <li>Listar los jugadores del equipo <code>Real Madrid</code> (utilizando el nombre del equipo en la condici\u00f3n, no el c\u00f3digo).</li> <li>Listar el nombre del jugador y el nombre de su mentor (tabla <code>Jugador</code> con auto-referencia a <code>mentorID</code>), para aquellos jugadores que tengan mentor.</li> <li> <p>Usando operadores de conjuntos :</p> <ol> <li>Equipos que tienen jugadores registrados.</li> <li>Equipos que no tienen jugadores registrados (si hubiese).</li> </ol> </li> <li> <p>Recupera los jugadores que juegan en equipos de la ciudad de <code>Sevilla</code>.</p> </li> <li> <p>Recupera los equipos que tienen jugadores que juegan en la posici\u00f3n de <code>Portero</code>.</p> </li> <li>Recupera todos los jugadores que son capitaneados/mentorizados por otro jugador (tienen <code>mentorID</code> no nulo).</li> </ol>"},{"location":"temas/04/actividades.html#ap411","title":"AP411","text":"Ejercicio AP411 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3c // 5p <p>Sobre la base de datos <code>liga_futbol</code>, y utilizando composiciones externas, realiza las siguientes consultas:</p> <ol> <li>Listar el nombre de todos los estadios y, si se ha jugado alg\u00fan partido en ellos, la fecha y el c\u00f3digo del partido. Deben aparecer todos los estadios.</li> <li>Listar el nombre de todos los \u00e1rbitros y el c\u00f3digo de los partidos que han arbitrado. Incluir a los \u00e1rbitros que no han dirigido ning\u00fan encuentro.</li> <li>Listar el nombre de todos los patrocinadores y el nombre de los equipos a los que patrocinan. Incluir aquellos patrocinadores que actualmente no tienen contrato con ning\u00fan equipo.</li> <li>Mostrar el nombre de los equipos que no tienen ning\u00fan patrocinador.</li> <li>Listar el nombre de todos los jugadores y, si han jugado alg\u00fan partido, los minutos jugados. Deben aparecer todos los jugadores, tengan o no referencias en las estad\u00edsticas.</li> <li>Mostrar el nombre de los jugadores que no han participado en ning\u00fan partido (no tienen registros en la tabla de estad\u00edsticas).</li> <li>Listar el nombre de todos los jugadores y el nombre de su mentor. Deben aparecer todos los jugadores, indicando <code>NULL</code> (o vac\u00edo) si no tienen mentor.</li> <li>Listar el nombre de todos los jugadores y el nombre de sus \"pupilos\" (jugadores a los que mentorizan). Deben aparecer todos los jugadores, incluso si no son mentores de nadie.</li> <li>Listar el nombre de todos los equipos y el nombre de su entrenador. Asegurarse de mostrar todos los equipos, incluso si no tienen entrenador registrado.</li> <li>Listar todas las jornadas de la base de datos y la cantidad de partidos asociados a ellas. Si alguna jornada no tiene partidos, debe aparecer con 0.</li> <li>Listar el nombre de todos los equipos y la suma total de los montos de sus contratos de patrocinio. Si un equipo no tiene patrocinadores, debe aparecer con un total de 0.</li> </ol>"},{"location":"temas/04/actividades.html#ac412","title":"AC412","text":"Ejercicio AC412 Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3c // 5p <p>Sobre la base de datos <code>liga_futbol</code>, y utilizando operaciones de conjuntos (<code>UNION</code>, <code>INTERSECT</code>, <code>EXCEPT</code> o sus equivalentes), realiza las siguientes consultas:</p> <ol> <li>Elabora un listado \u00fanico que contenga los nombres de todas las ciudades donde hay un equipo registrado y las ciudades donde se ubica alg\u00fan estadio.</li> <li>Genera una lista con los nombres y apellidos de todas las personas registradas en la base de datos: jugadores, entrenadores y \u00e1rbitros. Indica en una columna adicional el tipo de persona ('Jugador', 'Entrenador', 'Arbitro').</li> <li>Obt\u00e9n la lista de los c\u00f3digos de los equipos que han jugado alg\u00fan partido como local y que tambi\u00e9n han jugado alg\u00fan partido como visitante.</li> <li>Obt\u00e9n la lista de los c\u00f3digos de los equipos que han jugado como local en alg\u00fan partido, pero que no han jugado como visitante en ning\u00fan encuentro.</li> <li>Muestra los nombres de los estadios en los que se ha jugado alg\u00fan partido con clima 'Soleado' o donde la asistencia ha superado los 70,000 espectadores (utiliza la uni\u00f3n de conjuntos).</li> <li>Lista los identificadores de los jugadores que han marcado alg\u00fan gol y que tambi\u00e9n han recibido alguna tarjeta amarilla.</li> <li>Lista los identificadores de los jugadores que han marcado alg\u00fan gol pero que no han recibido ninguna tarjeta roja.</li> <li>Muestra una lista de todos los apellidos presentes en la tabla <code>Jugador</code> y en la tabla <code>Entrenador</code>, eliminando los duplicados.</li> <li>Obt\u00e9n los identificadores de los \u00e1rbitros que han pitado alg\u00fan partido en la jornada 1 y que tambi\u00e9n han pitado alg\u00fan partido en la jornada 2.</li> <li>Lista los nombres de los equipos que tienen un presupuesto superior a 100 millones unido a los equipos que se fundaron antes del a\u00f1o 1950.</li> <li>Devuelve un listado de todos los posibles resultados clim\u00e1ticos registrados en los partidos y todas las posiciones posibles de los jugadores (usando las columnas correspondientes), para ver la variedad de t\u00e9rminos usados en la BD.</li> </ol>"},{"location":"temas/04/actividades.html#aa413","title":"AA413","text":"Ejercicio AA413: Actividad de Ampliaci\u00f3n Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3c // 5p <p>Sobre la base de datos <code>liga_futbol</code>:</p> <ol> <li>Transferencias caras: Lista el nombre completo del jugador (Nombre + \" \" + Apellido), el nombre del equipo de origen, el nombre del equipo de destino, y el costo del traspaso, para todos los traspasos que costaron m\u00e1s de 5.000.000 (asume la unidad monetaria de la BD) y ocurrieron antes del a\u00f1o 2024. Ordena los resultados por el costo de mayor a menor.</li> <li>Partidos de Apertura: Lista el c\u00f3digo del partido, la fecha (formato d\u00eda/mes/a\u00f1o), el nombre del estadio, y el nombre del \u00e1rbitro para todos los partidos de la 'Jornada 1' de cualquier temporada. Utiliza <code>DATE_FORMAT</code> para la fecha.</li> <li>Expulsiones: Muestra el nombre y apellido del jugador, el nombre de su equipo y los minutos jugados, para aquellos registros de partido (<code>EstadisticaPartido</code>) donde el jugador haya recibido alguna tarjeta roja. Incluye tambi\u00e9n el nombre del \u00e1rbitro que dirigi\u00f3 ese encuentro.</li> <li>Condiciones Adversas: Lista los nombres de los dos equipos que se enfrentaron (Local vs Visitante) y el nombre del estadio, para todos los partidos donde el clima registrado contenga la palabra 'Lluvia' (usa <code>LIKE</code>) y el estadio tenga c\u00e9sped natural.</li> <li>Cadena de Mando: Lista el nombre del jugador pupilo, su fecha de nacimiento, el nombre de su mentor, y la fecha de nacimiento del mentor. Filtra para mostrar solo aquellos casos donde el mentor es m\u00e1s joven que el pupilo (\u00a1Curioso caso!).</li> <li>Patrocinadores Principales: Lista el nombre del equipo, el nombre de la empresa patrocinadora y el monto total del contrato. Muestra solo los contratos firmados en el a\u00f1o actual (usa <code>YEAR</code> y <code>CURDATE</code> o un a\u00f1o fijo reciente) y cuya duraci\u00f3n sea superior a 12 meses.</li> <li>El Gran Duelo: Recupera la fecha (<code>fechaHora</code>) y el nombre del estadio de todos los partidos en los que se enfrentaron el equipo 'Real Madrid' y el equipo 'FC Barcelona' (en cualquier orden, local o visitante). Debes hacer los joins con la tabla <code>Equipo</code> dos veces.</li> <li>Estadios Vac\u00edos: Muestra el nombre de todos los estadios de la ciudad de 'Madrid' donde no se ha jugado nunca un partido registrado en la base de datos (utiliza <code>LEFT JOIN</code> y comprueba nulos en la tabla <code>Partido</code>).</li> <li>Agenda Deportiva: Genera un listado \u00fanico (usando <code>UNION</code>) que contenga una columna con el nombre completo (Nombre + \" \" + Apellido) y otra columna con el rol ('Jugador' o '\u00c1rbitro') de todas las personas registradas en esas dos tablas. Ordena el resultado por el nombre completo.</li> <li>Vencimiento de Patrocinios: Para los contratos de patrocinio firmados a partir del a\u00f1o 2023, calcula la fecha exacta de finalizaci\u00f3n del contrato sumando la <code>duracionMeses</code> a la <code>fechaFirma</code> (funci\u00f3n <code>DATE_ADD</code> o <code>DATE_ADD(fecha, INTERVAL duracion MONTH)</code>). Muestra el nombre del equipo, el nombre del patrocinador y la fecha calculada de vencimiento.</li> <li>Fichajes Interurbanos: Muestra el nombre del jugador y la fecha del traspaso de aquellos fichajes (<code>HistorialTraspaso</code>) donde el equipo de origen y el equipo de destino pertenecen a ciudades diferentes.</li> <li>Formato Oficial: Muestra para todos los jugadores su nombre completo en formato \"APELLIDO, Nombre\" (todo el apellido en may\u00fasculas y el nombre tal cual est\u00e1 en la BD). Usa funciones de cadena (<code>UPPER</code>, <code>CONCAT</code>).</li> <li>\u00c1rbitros Veteranos: Lista el nombre y los a\u00f1os de experiencia de los \u00e1rbitros que llevan m\u00e1s de 10 a\u00f1os arbitrando. Calcula los a\u00f1os usando <code>TIMESTAMPDIFF</code> con la <code>fechaInicioArbitraje</code> y la fecha actual (<code>CURDATE</code>).</li> <li>Equipos Desamparados: Utilizando una combinaci\u00f3n externa (<code>LEFT JOIN</code>), lista el nombre de todos los equipos que no tienen ning\u00fan contrato de patrocinio activo actualmente.</li> <li>Partidos de Fin de Semana: Lista el c\u00f3digo del partido, el d\u00eda de la semana (por nombre, ej: 'Saturday', 'Sunday' o \u00edndice, seg\u00fan la funci\u00f3n usada como <code>DAYNAME</code>) y la fecha, para aquellos partidos que se jugaron en S\u00e1bado o Domingo.</li> <li>Mentor\u00eda Inversa: Lista el nombre del jugador y el nombre de su mentor para aquellos casos donde el mentor mide menos (altura) que el jugador mentorizado.</li> <li>Categor\u00eda de Estadios: Muestra el nombre del estadio, su ciudad y una categor\u00eda de capacidad calculada con <code>CASE</code>. Si la capacidad es mayor a 80.000 es 'Estadio Ol\u00edmpico', si est\u00e1 entre 40.000 y 80.000 es 'Estadio Grande', y si es menor es 'Estadio Local'. Une con la tabla <code>Equipo</code> para mostrar tambi\u00e9n el nombre del equipo titular, ordenando por capacidad descendente.</li> <li>Evaluaci\u00f3n de Asistencia: Muestra el c\u00f3digo del partido, la fecha (formateada d\u00eda-mes-a\u00f1o) y una columna 'Nivel de Asistencia' que indique 'Lleno Total' si la <code>asistencia</code> supera el 95% de la <code>capacidad</code> del estadio, 'Buena Entrada' si supera el 70% y 'Baja' en caso contrario. Requiere unir <code>Partido</code> con <code>Estadio</code>.</li> <li>Fichajes Gal\u00e1cticos: Lista el nombre del jugador, el equipo de origen, el equipo de destino y el costo del traspaso. A\u00f1ade una columna 'Tipo de Fichaje' que sea: 'Gratis' (si costo es 0 o NULL), 'Accesible' (menor a 1 mill\u00f3n), 'Estrella' (entre 1 y 50 millones) o 'Gal\u00e1ctico' (mayor a 50 millones). Utiliza <code>IFNULL</code> o <code>COALESCE</code> para manejar los nulos en el costo antes del <code>CASE</code> si fuera necesario.</li> </ol>"},{"location":"temas/04/actividades.html#ac414","title":"AC414","text":"Ejercicio AC414: Actividad de Consolidaci\u00f3n Criterios de Evaluaci\u00f3n Ponderaci\u00f3n RABD.3 // CE3c // 5p <p>Utilizando la base de datos <code>Universidad_A</code>, realiza los siguientes ejercicios:</p> <p>Consultas sobre una tabla</p> <ol> <li> <p>Devuelve un listado con el primer apellido, segundo apellido y el nombre de todos los alumnos. El listado deber\u00e1 estar ordenado alfab\u00e9ticamente de menor a mayor por el primer apellido, segundo apellido y nombre.</p> </li> <li> <p>Averigua el nombre y los dos apellidos de los alumnos que no han dado de alta su n\u00famero de tel\u00e9fono en la base de datos.</p> </li> <li> <p>Devuelve el listado de los alumnos que nacieron en <code>1999</code>.</p> </li> <li> <p>Devuelve el listado de profesores que no han dado de alta su n\u00famero de tel\u00e9fono en la base de datos y adem\u00e1s su nif termina en <code>K</code>.</p> </li> <li> <p>Devuelve el listado de las asignaturas que se imparten en el primer cuatrimestre, en el tercer curso del grado que tiene el identificador <code>7</code>.</p> </li> </ol> <p>Consultas multitabla (Composici\u00f3n interna)</p> <ol> <li> <p>Devuelve un listado con los datos de todas las alumnas que se han matriculado alguna vez en el <code>Grado en Ingenier\u00eda Inform\u00e1tica (Plan 2015)</code>.</p> </li> <li> <p>Devuelve un listado con todas las asignaturas ofertadas en el <code>Grado en Ingenier\u00eda Inform\u00e1tica (Plan 2015)</code>.</p> </li> <li> <p>Devuelve un listado de los profesores junto con el nombre del departamento al que est\u00e1n vinculados. El listado debe devolver cuatro columnas, primer apellido, segundo apellido, nombre y nombre del departamento. El resultado estar\u00e1 ordenado alfab\u00e9ticamente de menor a mayor por los apellidos y el nombre.</p> </li> <li> <p>Devuelve un listado con el nombre de las asignaturas, a\u00f1o de inicio y a\u00f1o de fin del curso escolar del alumno con nif <code>26902806M</code>.</p> </li> <li> <p>Devuelve un listado con el nombre de todos los departamentos que tienen profesores que imparten alguna asignatura en el <code>Grado en Ingenier\u00eda Inform\u00e1tica (Plan 2015)</code>.</p> </li> <li> <p>Devuelve un listado con todos los alumnos que se han matriculado en alguna asignatura durante el curso escolar 2018/2019.</p> </li> </ol> <p>Consultas multitabla (Composici\u00f3n externa)</p> <p>Resuelva todas las consultas utilizando las cl\u00e1usulas <code>LEFT JOIN</code> y <code>RIGHT JOIN</code>.</p> <ol> <li> <p>Devuelve un listado con los nombres de todos los profesores y los departamentos que tienen vinculados. El listado tambi\u00e9n debe mostrar aquellos profesores que no tienen ning\u00fan departamento asociado. El listado debe devolver cuatro columnas, nombre del departamento, primer apellido, segundo apellido y nombre del profesor. El resultado estar\u00e1 ordenado alfab\u00e9ticamente de menor a mayor por el nombre del departamento, apellidos y el nombre.</p> </li> <li> <p>Devuelve un listado con los profesores que no est\u00e1n asociados a un departamento.</p> </li> <li> <p>Devuelve un listado con los departamentos que no tienen profesores asociados.</p> </li> <li> <p>Devuelve un listado con los profesores que no imparten ninguna asignatura.</p> </li> <li> <p>Devuelve un listado con las asignaturas que no tienen un profesor asignado.</p> </li> <li> <p>Devuelve un listado con todos los departamentos que tienen alguna asignatura que no se haya impartido en ning\u00fan curso escolar. El resultado debe mostrar el nombre del departamento y el nombre de la asignatura que no se haya impartido nunca.</p> </li> </ol>"},{"location":"temas/04/res/UniversidadA.html","title":"Base de Datos: Universidad","text":""},{"location":"temas/04/res/UniversidadA.html#base-de-datos-universidad","title":"Base de Datos: Universidad","text":""},{"location":"temas/04/res/UniversidadA.html#modelo-entidad-relacion","title":"Modelo Entidad-Relaci\u00f3n","text":"Datos de prueba <pre><code>DROP DATABASE IF EXISTS universidad;\nCREATE DATABASE universidad CHARACTER SET utf8mb4;\nUSE universidad;\n\nCREATE TABLE departamento (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(50) NOT NULL\n);\n\nCREATE TABLE persona (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nif VARCHAR(9) UNIQUE,\n    nombre VARCHAR(25) NOT NULL,\n    apellido1 VARCHAR(50) NOT NULL,\n    apellido2 VARCHAR(50),\n    ciudad VARCHAR(25) NOT NULL,\n    direccion VARCHAR(50) NOT NULL,\n    telefono VARCHAR(9),\n    fecha_nacimiento DATE NOT NULL,\n    sexo ENUM('H', 'M') NOT NULL,\n    tipo ENUM('profesor', 'alumno') NOT NULL\n);\n\nCREATE TABLE profesor (\n    id_profesor INT UNSIGNED PRIMARY KEY,\n    id_departamento INT UNSIGNED NOT NULL,\n    FOREIGN KEY (id_profesor) REFERENCES persona(id),\n    FOREIGN KEY (id_departamento) REFERENCES departamento(id)\n);\n\nCREATE TABLE grado (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL\n);\n\nCREATE TABLE asignatura (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    creditos FLOAT UNSIGNED NOT NULL,\n    tipo ENUM('b\u00e1sica', 'obligatoria', 'optativa') NOT NULL,\n    curso TINYINT UNSIGNED NOT NULL,\n    cuatrimestre TINYINT UNSIGNED NOT NULL,\n    id_profesor INT UNSIGNED,\n    id_grado INT UNSIGNED NOT NULL,\n    FOREIGN KEY(id_profesor) REFERENCES profesor(id_profesor),\n    FOREIGN KEY(id_grado) REFERENCES grado(id)\n);\n\nCREATE TABLE curso_escolar (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    anyo_inicio YEAR NOT NULL,\n    anyo_fin YEAR NOT NULL\n);\n\nCREATE TABLE alumno_se_matricula_asignatura (\n    id_alumno INT UNSIGNED NOT NULL,\n    id_asignatura INT UNSIGNED NOT NULL,\n    id_curso_escolar INT UNSIGNED NOT NULL,\n    PRIMARY KEY (id_alumno, id_asignatura, id_curso_escolar),\n    FOREIGN KEY (id_alumno) REFERENCES persona(id),\n    FOREIGN KEY (id_asignatura) REFERENCES asignatura(id),\n    FOREIGN KEY (id_curso_escolar) REFERENCES curso_escolar(id)\n);\n</code></pre>"},{"location":"temas/04/res/UniversidadA.html#datos-de-la-base-de-datos","title":"Datos de la Base de Datos","text":"<pre><code>/* Departamento */\nINSERT INTO departamento VALUES (1, 'Inform\u00e1tica');\nINSERT INTO departamento VALUES (2, 'Matem\u00e1ticas');\nINSERT INTO departamento VALUES (3, 'Econom\u00eda y Empresa');\nINSERT INTO departamento VALUES (4, 'Educaci\u00f3n');\nINSERT INTO departamento VALUES (5, 'Agronom\u00eda');\nINSERT INTO departamento VALUES (6, 'Qu\u00edmica y F\u00edsica');\nINSERT INTO departamento VALUES (7, 'Filolog\u00eda');\nINSERT INTO departamento VALUES (8, 'Derecho');\nINSERT INTO departamento VALUES (9, 'Biolog\u00eda y Geolog\u00eda');\n\n/* Persona */\nINSERT INTO persona VALUES (1, '26902806M', 'Salvador', 'S\u00e1nchez', 'P\u00e9rez', 'Almer\u00eda', 'C/ Real del barrio alto', '950254837', '1991/03/28', 'H', 'alumno');\nINSERT INTO persona VALUES (2, '89542419S', 'Juan', 'Saez', 'Vega', 'Almer\u00eda', 'C/ Mercurio', '618253876', '1992/08/08', 'H', 'alumno');\nINSERT INTO persona VALUES (3, '11105554G', 'Zoe', 'Ramirez', 'Gea', 'Almer\u00eda', 'C/ Marte', '618223876', '1979/08/19', 'M', 'profesor');\nINSERT INTO persona VALUES (4, '17105885A', 'Pedro', 'Heller', 'Pagac', 'Almer\u00eda', 'C/ Estrella fugaz', NULL, '2000/10/05', 'H', 'alumno');\nINSERT INTO persona VALUES (5, '38223286T', 'David', 'Schmidt', 'Fisher', 'Almer\u00eda', 'C/ Venus', '678516294', '1978/01/19', 'H', 'profesor');\nINSERT INTO persona VALUES (6, '04233869Y', 'Jos\u00e9', 'Koss', 'Bayer', 'Almer\u00eda', 'C/ J\u00fapiter', '628349590', '1998/01/28', 'H', 'alumno');\nINSERT INTO persona VALUES (7, '97258166K', 'Ismael', 'Strosin', 'Turcotte', 'Almer\u00eda', 'C/ Neptuno', NULL, '1999/05/24', 'H', 'alumno');\nINSERT INTO persona VALUES (8, '79503962T', 'Cristina', 'Lemke', 'Rutherford', 'Almer\u00eda', 'C/ Saturno', '669162534', '1977/08/21', 'M', 'profesor');\nINSERT INTO persona VALUES (9, '82842571K', 'Ram\u00f3n', 'Herzog', 'Tremblay', 'Almer\u00eda', 'C/ Urano', '626351429', '1996/11/21', 'H', 'alumno');\nINSERT INTO persona VALUES (10, '61142000L', 'Esther', 'Spencer', 'Lakin', 'Almer\u00eda', 'C/ Plut\u00f3n', NULL, '1977/05/19', 'M', 'profesor');\nINSERT INTO persona VALUES (11, '46900725E', 'Daniel', 'Herman', 'Pacocha', 'Almer\u00eda', 'C/ Andarax', '679837625', '1997/04/26', 'H', 'alumno');\nINSERT INTO persona VALUES (12, '85366986W', 'Carmen', 'Streich', 'Hirthe', 'Almer\u00eda', 'C/ Almanzora', NULL, '1971-04-29', 'M', 'profesor');\nINSERT INTO persona VALUES (13, '73571384L', 'Alfredo', 'Stiedemann', 'Morissette', 'Almer\u00eda', 'C/ Guadalquivir', '950896725', '1980/02/01', 'H', 'profesor');\nINSERT INTO persona VALUES (14, '82937751G', 'Manolo', 'Hamill', 'Kozey', 'Almer\u00eda', 'C/ Duero', '950263514', '1977/01/02', 'H', 'profesor');\nINSERT INTO persona VALUES (15, '80502866Z', 'Alejandro', 'Kohler', 'Schoen', 'Almer\u00eda', 'C/ Tajo', '668726354', '1980/03/14', 'H', 'profesor');\nINSERT INTO persona VALUES (16, '10485008K', 'Antonio', 'Fahey', 'Considine', 'Almer\u00eda', 'C/ Sierra de los Filabres', NULL, '1982/03/18', 'H', 'profesor');\nINSERT INTO persona VALUES (17, '85869555K', 'Guillermo', 'Ruecker', 'Upton', 'Almer\u00eda', 'C/ Sierra de G\u00e1dor', NULL, '1973/05/05', 'H', 'profesor');\nINSERT INTO persona VALUES (18, '04326833G', 'Micaela', 'Monahan', 'Murray', 'Almer\u00eda', 'C/ Veleta', '662765413', '1976/02/25', 'H', 'profesor');\nINSERT INTO persona VALUES (19, '11578526G', 'Inma', 'Lakin', 'Yundt', 'Almer\u00eda', 'C/ Picos de Europa', '678652431', '1998/09/01', 'M', 'alumno');\nINSERT INTO persona VALUES (20, '79221403L', 'Francesca', 'Schowalter', 'Muller', 'Almer\u00eda', 'C/ Quinto pino', NULL, '1980/10/31', 'H', 'profesor');\nINSERT INTO persona VALUES (21, '79089577Y', 'Juan', 'Guti\u00e9rrez', 'L\u00f3pez', 'Almer\u00eda', 'C/ Los pinos', '678652431', '1998/01/01', 'H', 'alumno');\nINSERT INTO persona VALUES (22, '41491230N', 'Antonio', 'Dom\u00ednguez', 'Guerrero', 'Almer\u00eda', 'C/ Cabo de Gata', '626652498', '1999/02/11', 'H', 'alumno');\nINSERT INTO persona VALUES (23, '64753215G', 'Irene', 'Hern\u00e1ndez', 'Mart\u00ednez', 'Almer\u00eda', 'C/ Zapillo', '628452384', '1996/03/12', 'M', 'alumno');\nINSERT INTO persona VALUES (24, '85135690V', 'Sonia', 'Gea', 'Ruiz', 'Almer\u00eda', 'C/ Mercurio', '678812017', '1995/04/13', 'M', 'alumno');\n\n/* Profesor */\nINSERT INTO profesor VALUES (3, 1);\nINSERT INTO profesor VALUES (5, 2);\nINSERT INTO profesor VALUES (8, 3);\nINSERT INTO profesor VALUES (10, 4);\nINSERT INTO profesor VALUES (12, 4);\nINSERT INTO profesor VALUES (13, 6);\nINSERT INTO profesor VALUES (14, 1);\nINSERT INTO profesor VALUES (15, 2);\nINSERT INTO profesor VALUES (16, 3);\nINSERT INTO profesor VALUES (17, 4);\nINSERT INTO profesor VALUES (18, 5);\nINSERT INTO profesor VALUES (20, 6);\n\n/* Grado */\nINSERT INTO grado VALUES (1, 'Grado en Ingenier\u00eda Agr\u00edcola (Plan 2015)');\nINSERT INTO grado VALUES (2, 'Grado en Ingenier\u00eda El\u00e9ctrica (Plan 2014)');\nINSERT INTO grado VALUES (3, 'Grado en Ingenier\u00eda Electr\u00f3nica Industrial (Plan 2010)');\nINSERT INTO grado VALUES (4, 'Grado en Ingenier\u00eda Inform\u00e1tica (Plan 2015)');\nINSERT INTO grado VALUES (5, 'Grado en Ingenier\u00eda Mec\u00e1nica (Plan 2010)');\nINSERT INTO grado VALUES (6, 'Grado en Ingenier\u00eda Qu\u00edmica Industrial (Plan 2010)');\nINSERT INTO grado VALUES (7, 'Grado en Biotecnolog\u00eda (Plan 2015)');\nINSERT INTO grado VALUES (8, 'Grado en Ciencias Ambientales (Plan 2009)');\nINSERT INTO grado VALUES (9, 'Grado en Matem\u00e1ticas (Plan 2010)');\nINSERT INTO grado VALUES (10, 'Grado en Qu\u00edmica (Plan 2009)');\n\n/* Asignatura */\nINSERT INTO asignatura VALUES (1, '\u00c1lgegra lineal y matem\u00e1tica discreta', 6, 'b\u00e1sica', 1, 1, 3, 4);\nINSERT INTO asignatura VALUES (2, 'C\u00e1lculo', 6, 'b\u00e1sica', 1, 1, 14, 4);\nINSERT INTO asignatura VALUES (3, 'F\u00edsica para inform\u00e1tica', 6, 'b\u00e1sica', 1, 1, 3, 4);\nINSERT INTO asignatura VALUES (4, 'Introducci\u00f3n a la programaci\u00f3n', 6, 'b\u00e1sica', 1, 1, 14, 4);\nINSERT INTO asignatura VALUES (5, 'Organizaci\u00f3n y gesti\u00f3n de empresas', 6, 'b\u00e1sica', 1, 1, 3, 4);\nINSERT INTO asignatura VALUES (6, 'Estad\u00edstica', 6, 'b\u00e1sica', 1, 2, 14, 4);\nINSERT INTO asignatura VALUES (7, 'Estructura y tecnolog\u00eda de computadores', 6, 'b\u00e1sica', 1, 2, 3, 4);\nINSERT INTO asignatura VALUES (8, 'Fundamentos de electr\u00f3nica', 6, 'b\u00e1sica', 1, 2, 14, 4);\nINSERT INTO asignatura VALUES (9, 'L\u00f3gica y algor\u00edtmica', 6, 'b\u00e1sica', 1, 2, 3, 4);\nINSERT INTO asignatura VALUES (10, 'Metodolog\u00eda de la programaci\u00f3n', 6, 'b\u00e1sica', 1, 2, 14, 4);\nINSERT INTO asignatura VALUES (11, 'Arquitectura de Computadores', 6, 'b\u00e1sica', 2, 1, 3, 4);\nINSERT INTO asignatura VALUES (12, 'Estructura de Datos y Algoritmos I', 6, 'obligatoria', 2, 1, 3, 4);\nINSERT INTO asignatura VALUES (13, 'Ingenier\u00eda del Software', 6, 'obligatoria', 2, 1, 14, 4);\nINSERT INTO asignatura VALUES (14, 'Sistemas Inteligentes', 6, 'obligatoria', 2, 1, 3, 4);\nINSERT INTO asignatura VALUES (15, 'Sistemas Operativos', 6, 'obligatoria', 2, 1, 14, 4);\nINSERT INTO asignatura VALUES (16, 'Bases de Datos', 6, 'b\u00e1sica', 2, 2, 14, 4);\nINSERT INTO asignatura VALUES (17, 'Estructura de Datos y Algoritmos II', 6, 'obligatoria', 2, 2, 14, 4);\nINSERT INTO asignatura VALUES (18, 'Fundamentos de Redes de Computadores', 6 ,'obligatoria', 2, 2, 3, 4);\nINSERT INTO asignatura VALUES (19, 'Planificaci\u00f3n y Gesti\u00f3n de Proyectos Inform\u00e1ticos', 6, 'obligatoria', 2, 2, 3, 4);\nINSERT INTO asignatura VALUES (20, 'Programaci\u00f3n de Servicios Software', 6, 'obligatoria', 2, 2, 14, 4);\nINSERT INTO asignatura VALUES (21, 'Desarrollo de interfaces de usuario', 6, 'obligatoria', 3, 1, 14, 4);\nINSERT INTO asignatura VALUES (22, 'Ingenier\u00eda de Requisitos', 6, 'optativa', 3, 1, NULL, 4);\nINSERT INTO asignatura VALUES (23, 'Integraci\u00f3n de las Tecnolog\u00edas de la Informaci\u00f3n en las Organizaciones', 6, 'optativa', 3, 1, NULL, 4);\nINSERT INTO asignatura VALUES (24, 'Modelado y Dise\u00f1o del Software 1', 6, 'optativa', 3, 1, NULL, 4);\nINSERT INTO asignatura VALUES (25, 'Multiprocesadores', 6, 'optativa', 3, 1, NULL, 4);\nINSERT INTO asignatura VALUES (26, 'Seguridad y cumplimiento normativo', 6, 'optativa', 3, 1, NULL, 4);\nINSERT INTO asignatura VALUES (27, 'Sistema de Informaci\u00f3n para las Organizaciones', 6, 'optativa', 3, 1, NULL, 4); \nINSERT INTO asignatura VALUES (28, 'Tecnolog\u00edas web', 6, 'optativa', 3, 1, NULL, 4);\nINSERT INTO asignatura VALUES (29, 'Teor\u00eda de c\u00f3digos y criptograf\u00eda', 6, 'optativa', 3, 1, NULL, 4);\nINSERT INTO asignatura VALUES (30, 'Administraci\u00f3n de bases de datos', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (31, 'Herramientas y M\u00e9todos de Ingenier\u00eda del Software', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (32, 'Inform\u00e1tica industrial y rob\u00f3tica', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (33, 'Ingenier\u00eda de Sistemas de Informaci\u00f3n', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (34, 'Modelado y Dise\u00f1o del Software 2', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (35, 'Negocio Electr\u00f3nico', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (36, 'Perif\u00e9ricos e interfaces', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (37, 'Sistemas de tiempo real', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (38, 'Tecnolog\u00edas de acceso a red', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (39, 'Tratamiento digital de im\u00e1genes', 6, 'optativa', 3, 2, NULL, 4);\nINSERT INTO asignatura VALUES (40, 'Administraci\u00f3n de redes y sistemas operativos', 6, 'optativa', 4, 1, NULL, 4);\nINSERT INTO asignatura VALUES (41, 'Almacenes de Datos', 6, 'optativa', 4, 1, NULL, 4);\nINSERT INTO asignatura VALUES (42, 'Fiabilidad y Gesti\u00f3n de Riesgos', 6, 'optativa', 4, 1, NULL, 4);\nINSERT INTO asignatura VALUES (43, 'L\u00edneas de Productos Software', 6, 'optativa', 4, 1, NULL, 4);\nINSERT INTO asignatura VALUES (44, 'Procesos de Ingenier\u00eda del Software 1', 6, 'optativa', 4, 1, NULL, 4);\nINSERT INTO asignatura VALUES (45, 'Tecnolog\u00edas multimedia', 6, 'optativa', 4, 1, NULL, 4);\nINSERT INTO asignatura VALUES (46, 'An\u00e1lisis y planificaci\u00f3n de las TI', 6, 'optativa', 4, 2, NULL, 4);\nINSERT INTO asignatura VALUES (47, 'Desarrollo R\u00e1pido de Aplicaciones', 6, 'optativa', 4, 2, NULL, 4);\nINSERT INTO asignatura VALUES (48, 'Gesti\u00f3n de la Calidad y de la Innovaci\u00f3n Tecnol\u00f3gica', 6, 'optativa', 4, 2, NULL, 4);\nINSERT INTO asignatura VALUES (49, 'Inteligencia del Negocio', 6, 'optativa', 4, 2, NULL, 4);\nINSERT INTO asignatura VALUES (50, 'Procesos de Ingenier\u00eda del Software 2', 6, 'optativa', 4, 2, NULL, 4);\nINSERT INTO asignatura VALUES (51, 'Seguridad Inform\u00e1tica', 6, 'optativa', 4, 2, NULL, 4);\nINSERT INTO asignatura VALUES (52, 'Biologia celular', 6, 'b\u00e1sica', 1, 1, NULL, 7);\nINSERT INTO asignatura VALUES (53, 'F\u00edsica', 6, 'b\u00e1sica', 1, 1, NULL, 7);\nINSERT INTO asignatura VALUES (54, 'Matem\u00e1ticas I', 6, 'b\u00e1sica', 1, 1, NULL, 7);\nINSERT INTO asignatura VALUES (55, 'Qu\u00edmica general', 6, 'b\u00e1sica', 1, 1, NULL, 7);\nINSERT INTO asignatura VALUES (56, 'Qu\u00edmica org\u00e1nica', 6, 'b\u00e1sica', 1, 1, NULL, 7);\nINSERT INTO asignatura VALUES (57, 'Biolog\u00eda vegetal y animal', 6, 'b\u00e1sica', 1, 2, NULL, 7);\nINSERT INTO asignatura VALUES (58, 'Bioqu\u00edmica', 6, 'b\u00e1sica', 1, 2, NULL, 7);\nINSERT INTO asignatura VALUES (59, 'Gen\u00e9tica', 6, 'b\u00e1sica', 1, 2, NULL, 7);\nINSERT INTO asignatura VALUES (60, 'Matem\u00e1ticas II', 6, 'b\u00e1sica', 1, 2, NULL, 7);\nINSERT INTO asignatura VALUES (61, 'Microbiolog\u00eda', 6, 'b\u00e1sica', 1, 2, NULL, 7);\nINSERT INTO asignatura VALUES (62, 'Bot\u00e1nica agr\u00edcola', 6, 'obligatoria', 2, 1, NULL, 7);\nINSERT INTO asignatura VALUES (63, 'Fisiolog\u00eda vegetal', 6, 'obligatoria', 2, 1, NULL, 7);\nINSERT INTO asignatura VALUES (64, 'Gen\u00e9tica molecular', 6, 'obligatoria', 2, 1, NULL, 7);\nINSERT INTO asignatura VALUES (65, 'Ingenier\u00eda bioqu\u00edmica', 6, 'obligatoria', 2, 1, NULL, 7);\nINSERT INTO asignatura VALUES (66, 'Termodin\u00e1mica y cin\u00e9tica qu\u00edmica aplicada', 6, 'obligatoria', 2, 1, NULL, 7);\nINSERT INTO asignatura VALUES (67, 'Biorreactores', 6, 'obligatoria', 2, 2, NULL, 7);\nINSERT INTO asignatura VALUES (68, 'Biotecnolog\u00eda microbiana', 6, 'obligatoria', 2, 2, NULL, 7);\nINSERT INTO asignatura VALUES (69, 'Ingenier\u00eda gen\u00e9tica', 6, 'obligatoria', 2, 2, NULL, 7);\nINSERT INTO asignatura VALUES (70, 'Inmunolog\u00eda', 6, 'obligatoria', 2, 2, NULL, 7);\nINSERT INTO asignatura VALUES (71, 'Virolog\u00eda', 6, 'obligatoria', 2, 2, NULL, 7);\nINSERT INTO asignatura VALUES (72, 'Bases moleculares del desarrollo vegetal', 4.5, 'obligatoria', 3, 1, NULL, 7);\nINSERT INTO asignatura VALUES (73, 'Fisiolog\u00eda animal', 4.5, 'obligatoria', 3, 1, NULL, 7);\nINSERT INTO asignatura VALUES (74, 'Metabolismo y bios\u00edntesis de biomol\u00e9culas', 6, 'obligatoria', 3, 1, NULL, 7);\nINSERT INTO asignatura VALUES (75, 'Operaciones de separaci\u00f3n', 6, 'obligatoria', 3, 1, NULL, 7);\nINSERT INTO asignatura VALUES (76, 'Patolog\u00eda molecular de plantas', 4.5, 'obligatoria', 3, 1, NULL, 7);\nINSERT INTO asignatura VALUES (77, 'T\u00e9cnicas instrumentales b\u00e1sicas', 4.5, 'obligatoria', 3, 1, NULL, 7);\nINSERT INTO asignatura VALUES (78, 'Bioinform\u00e1tica', 4.5, 'obligatoria', 3, 2, NULL, 7);\nINSERT INTO asignatura VALUES (79, 'Biotecnolog\u00eda de los productos hortofrut\u00edculas', 4.5, 'obligatoria', 3, 2, NULL, 7);\nINSERT INTO asignatura VALUES (80, 'Biotecnolog\u00eda vegetal', 6, 'obligatoria', 3, 2, NULL, 7);\nINSERT INTO asignatura VALUES (81, 'Gen\u00f3mica y prote\u00f3mica', 4.5, 'obligatoria', 3, 2, NULL, 7);\nINSERT INTO asignatura VALUES (82, 'Procesos biotecnol\u00f3gicos', 6, 'obligatoria', 3, 2, NULL, 7);\nINSERT INTO asignatura VALUES (83, 'T\u00e9cnicas instrumentales avanzadas', 4.5, 'obligatoria', 3, 2, NULL, 7);\n\n/* Curso escolar */\nINSERT INTO curso_escolar VALUES (1, 2014, 2015);\nINSERT INTO curso_escolar VALUES (2, 2015, 2016);\nINSERT INTO curso_escolar VALUES (3, 2016, 2017);\nINSERT INTO curso_escolar VALUES (4, 2017, 2018);\nINSERT INTO curso_escolar VALUES (5, 2018, 2019);\n\n/* Alumno se matricula en asignatura */\nINSERT INTO alumno_se_matricula_asignatura VALUES (1, 1, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1, 2, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1, 3, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (2, 1, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (2, 2, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (2, 3, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4, 1, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4, 2, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4, 3, 1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 1, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 2, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 3, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 4, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 5, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 6, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 7, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 8, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 9, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (24, 10, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 1, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 2, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 3, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 4, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 5, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 6, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 7, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 8, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 9, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (23, 10, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 1, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 2, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 3, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 4, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 5, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 6, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 7, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 8, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 9, 5);\nINSERT INTO alumno_se_matricula_asignatura VALUES (19, 10, 5);\n</code></pre>"},{"location":"temas/04/res/UniversidadB.html","title":"Base de datos Universidad (Modelo B)","text":""},{"location":"temas/04/res/UniversidadB.html#base-de-datos-universidad-modelo-b","title":"Base de datos Universidad (Modelo B)","text":""},{"location":"temas/04/res/UniversidadB.html#diagrama-entidad-relacion","title":"Diagrama Entidad Relaci\u00f3n","text":"Script SQL <pre><code>DROP DATABASE IF EXISTS universidad;\nCREATE DATABASE universidad CHARACTER SET utf8mb4;\nUSE universidad;\n\nCREATE TABLE departamento (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(50) NOT NULL\n);\n\nCREATE TABLE alumno (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nif VARCHAR(9) UNIQUE,\n    nombre VARCHAR(25) NOT NULL,\n    apellido1 VARCHAR(50) NOT NULL,\n    apellido2 VARCHAR(50),\n    ciudad VARCHAR(25) NOT NULL,\n    direccion VARCHAR(50) NOT NULL,\n    telefono VARCHAR(9),\n    fecha_nacimiento DATE NOT NULL,\n    sexo ENUM('H', 'M') NOT NULL\n);\n\nCREATE TABLE profesor (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nif VARCHAR(9) UNIQUE,\n    nombre VARCHAR(25) NOT NULL,\n    apellido1 VARCHAR(50) NOT NULL,\n    apellido2 VARCHAR(50),\n    ciudad VARCHAR(25) NOT NULL,\n    direccion VARCHAR(50) NOT NULL,\n    telefono VARCHAR(9),\n    fecha_nacimiento DATE NOT NULL,\n    sexo ENUM('H', 'M') NOT NULL,\n    id_departamento INT UNSIGNED NOT NULL,\n    FOREIGN KEY (id_departamento) REFERENCES departamento(id)\n);\n\nCREATE TABLE grado (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL\n);\n\nCREATE TABLE asignatura (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    creditos FLOAT UNSIGNED NOT NULL,\n    tipo ENUM('b\u00e1sica', 'obligatoria', 'optativa') NOT NULL,\n    curso TINYINT UNSIGNED NOT NULL,\n    cuatrimestre TINYINT UNSIGNED NOT NULL,\n    id_profesor INT UNSIGNED,\n    id_grado INT UNSIGNED NOT NULL,\n    FOREIGN KEY(id_profesor) REFERENCES profesor(id),\n    FOREIGN KEY(id_grado) REFERENCES grado(id)\n);\n\nCREATE TABLE curso_escolar (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    anyo_inicio YEAR NOT NULL,\n    anyo_fin YEAR NOT NULL\n);\n\nCREATE TABLE alumno_se_matricula_asignatura (\n    id_alumno INT UNSIGNED NOT NULL,\n    id_asignatura INT UNSIGNED NOT NULL,\n    id_curso_escolar INT UNSIGNED NOT NULL,\n    PRIMARY KEY (id_alumno, id_asignatura, id_curso_escolar),\n    FOREIGN KEY (id_alumno) REFERENCES alumno(id),\n    FOREIGN KEY (id_asignatura) REFERENCES asignatura(id),\n    FOREIGN KEY (id_curso_escolar) REFERENCES curso_escolar(id)\n);\n</code></pre> Datos de prueba <pre><code>/* Departamento */\nINSERT INTO departamento VALUES (1,'Inform\u00e1tica');\nINSERT INTO departamento VALUES (2,'Matem\u00e1ticas');\nINSERT INTO departamento VALUES (3,'Econom\u00eda y Empresa');\nINSERT INTO departamento VALUES (4,'Educaci\u00f3n');\nINSERT INTO departamento VALUES (5,'Agronom\u00eda');\nINSERT INTO departamento VALUES (6,'Qu\u00edmica y F\u00edsica');\nINSERT INTO departamento VALUES (7,'Filolog\u00eda');\nINSERT INTO departamento VALUES (8,'Derecho');\nINSERT INTO departamento VALUES (9,'Biolog\u00eda y Geolog\u00eda');\n\n/* Alumno */\nINSERT INTO alumno VALUES (1,'89542419S','Juan','Saez','Vega','Almer\u00eda','C/ Mercurio','618253876','1992-08-08','H');\nINSERT INTO alumno VALUES (2,'26902806M','Salvador','S\u00e1nchez','P\u00e9rez','Almer\u00eda','C/ Real del barrio alto','950254837','1991-03-28','H');\nINSERT INTO alumno VALUES (4,'17105885A','Pedro','Heller','Pagac','Almer\u00eda','C/ Estrella fugaz',NULL,'2000-10-05','H');\nINSERT INTO alumno VALUES (6,'04233869Y','Jos\u00e9','Koss','Bayer','Almer\u00eda','C/ J\u00fapiter','628349590','1998-01-28','H');\nINSERT INTO alumno VALUES (7,'97258166K','Ismael','Strosin','Turcotte','Almer\u00eda','C/ Neptuno',NULL,'1999-05-24','H');\nINSERT INTO alumno VALUES (9,'82842571K','Ram\u00f3n','Herzog','Tremblay','Almer\u00eda','C/ Urano','626351429','1996-11-21','H');\nINSERT INTO alumno VALUES (11,'46900725E','Daniel','Herman','Pacocha','Almer\u00eda','C/ Andarax','679837625','1997-04-26','H');\nINSERT INTO alumno VALUES (19,'11578526G','Inma','Lakin','Yundt','Almer\u00eda','C/ Picos de Europa','678652431','1998-09-01','M');\nINSERT INTO alumno VALUES (21,'79089577Y','Juan','Guti\u00e9rrez','L\u00f3pez','Almer\u00eda','C/ Los pinos','678652431','1998-01-01','H');\nINSERT INTO alumno VALUES (22,'41491230N','Antonio','Dom\u00ednguez','Guerrero','Almer\u00eda','C/ Cabo de Gata','626652498','1999-02-11','H');\nINSERT INTO alumno VALUES (23,'64753215G','Irene','Hern\u00e1ndez','Mart\u00ednez','Almer\u00eda','C/ Zapillo','628452384','1996-03-12','M');\nINSERT INTO alumno VALUES (24,'85135690V','Sonia','Gea','Ruiz','Almer\u00eda','C/ Mercurio','678812017','1995-04-13','M');\n\n/* Profesor */\nINSERT INTO profesor VALUES (3,'11105554G','Zoe','Ramirez','Gea','Almer\u00eda','C/ Marte','618223876','1979-08-19','M',1);\nINSERT INTO profesor VALUES (5,'38223286T','David','Schmidt','Fisher','Almer\u00eda','C/ Venus','678516294','1978-01-19','H',2);\nINSERT INTO profesor VALUES (8,'79503962T','Cristina','Lemke','Rutherford','Almer\u00eda','C/ Saturno','669162534','1977-08-21','M',3);\nINSERT INTO profesor VALUES (10,'61142000L','Esther','Spencer','Lakin','Almer\u00eda','C/ Plut\u00f3n',NULL,'1977-05-19','M',4);\nINSERT INTO profesor VALUES (12,'85366986W','Carmen','Streich','Hirthe','Almer\u00eda','C/ Almanzora',NULL,'1971-04-29','M',4);\nINSERT INTO profesor VALUES (13,'73571384L','Alfredo','Stiedemann','Morissette','Almer\u00eda','C/ Guadalquivir','950896725','1980-02-01','H',6);\nINSERT INTO profesor VALUES (14,'82937751G','Manolo','Hamill','Kozey','Almer\u00eda','C/ Duero','950263514','1977-01-02','H',1);\nINSERT INTO profesor VALUES (15,'80502866Z','Alejandro','Kohler','Schoen','Almer\u00eda','C/ Tajo','668726354','1980-03-14','H',2);\nINSERT INTO profesor VALUES (16,'10485008K','Antonio','Fahey','Considine','Almer\u00eda','C/ Sierra de los Filabres',NULL,'1982-03-18','H',3);\nINSERT INTO profesor VALUES (17,'85869555K','Guillermo','Ruecker','Upton','Almer\u00eda','C/ Sierra de G\u00e1dor',NULL,'1973-05-05','H',4);\nINSERT INTO profesor VALUES (18,'04326833G','Micaela','Monahan','Murray','Almer\u00eda','C/ Veleta','662765413','1976-02-25','H',5);\nINSERT INTO profesor VALUES (20,'79221403L','Francesca','Schowalter','Muller','Almer\u00eda','C/ Quinto pino',NULL,'1980-10-31','H',6);\nINSERT INTO profesor VALUES (21,'13175769N','Pepe','S\u00e1nchez','Ruiz','Almer\u00eda','C/ Quinto pino',NULL,'1980-10-16','H',1);\nINSERT INTO profesor VALUES (22,'98816696W','Juan','Guerrero','Mart\u00ednez','Almer\u00eda','C/ Quinto pino',NULL,'1980-11-21','H',1);\nINSERT INTO profesor VALUES (23,'77194445M','Mar\u00eda','Dom\u00ednguez','Hern\u00e1ndez','Almer\u00eda','C/ Quinto pino',NULL,'1980-12-13','M',2);\n\n/* Grado */\nINSERT INTO grado VALUES (1,'Grado en Ingenier\u00eda Agr\u00edcola (Plan 2015)');\nINSERT INTO grado VALUES (2,'Grado en Ingenier\u00eda El\u00e9ctrica (Plan 2014)');\nINSERT INTO grado VALUES (3,'Grado en Ingenier\u00eda Electr\u00f3nica Industrial (Plan 2010)');\nINSERT INTO grado VALUES (4,'Grado en Ingenier\u00eda Inform\u00e1tica (Plan 2015)');\nINSERT INTO grado VALUES (5,'Grado en Ingenier\u00eda Mec\u00e1nica (Plan 2010)');\nINSERT INTO grado VALUES (6,'Grado en Ingenier\u00eda Qu\u00edmica Industrial (Plan 2010)');\nINSERT INTO grado VALUES (7,'Grado en Biotecnolog\u00eda (Plan 2015)');\nINSERT INTO grado VALUES (8,'Grado en Ciencias Ambientales (Plan 2009)');\nINSERT INTO grado VALUES (9,'Grado en Matem\u00e1ticas (Plan 2010)');\nINSERT INTO grado VALUES (10,'Grado en Qu\u00edmica (Plan 2009)');\n\n/* Asignatura */\nINSERT INTO asignatura VALUES (1,'\u00c1lgegra lineal y matem\u00e1tica discreta',6,'b\u00e1sica',1,1,22,4);\nINSERT INTO asignatura VALUES (2,'C\u00e1lculo',6,'b\u00e1sica',1,1,22,4);\nINSERT INTO asignatura VALUES (3,'F\u00edsica para inform\u00e1tica',6,'b\u00e1sica',1,1,21,4);\nINSERT INTO asignatura VALUES (4,'Introducci\u00f3n a la programaci\u00f3n',6,'b\u00e1sica',1,1,3,4);\nINSERT INTO asignatura VALUES (5,'Organizaci\u00f3n y gesti\u00f3n de empresas',6,'b\u00e1sica',1,1,22,4);\nINSERT INTO asignatura VALUES (6,'Estad\u00edstica',6,'b\u00e1sica',1,2,14,4);\nINSERT INTO asignatura VALUES (7,'Estructura y tecnolog\u00eda de computadores',6,'b\u00e1sica',1,2,14,4);\nINSERT INTO asignatura VALUES (8,'Fundamentos de electr\u00f3nica',6,'b\u00e1sica',1,2,3,4);\nINSERT INTO asignatura VALUES (9,'L\u00f3gica y algor\u00edtmica',6,'b\u00e1sica',1,2,22,4);\nINSERT INTO asignatura VALUES (10,'Metodolog\u00eda de la programaci\u00f3n',6,'b\u00e1sica',1,2,14,4);\nINSERT INTO asignatura VALUES (11,'Arquitectura de Computadores',6,'b\u00e1sica',2,1,3,4);\nINSERT INTO asignatura VALUES (12,'Estructura de Datos y Algoritmos I',6,'obligatoria',2,1,3,4);\nINSERT INTO asignatura VALUES (13,'Ingenier\u00eda del Software',6,'obligatoria',2,1,14,4);\nINSERT INTO asignatura VALUES (14,'Sistemas Inteligentes',6,'obligatoria',2,1,3,4);\nINSERT INTO asignatura VALUES (15,'Sistemas Operativos',6,'obligatoria',2,1,14,4);\nINSERT INTO asignatura VALUES (16,'Bases de Datos',6,'b\u00e1sica',2,2,14,4);\nINSERT INTO asignatura VALUES (17,'Estructura de Datos y Algoritmos II',6,'obligatoria',2,2,14,4);\nINSERT INTO asignatura VALUES (18,'Fundamentos de Redes de Computadores',6,'obligatoria',2,2,3,4);\nINSERT INTO asignatura VALUES (19,'Planificaci\u00f3n y Gesti\u00f3n de Proyectos Inform\u00e1ticos',6,'obligatoria',2,2,3,4);\nINSERT INTO asignatura VALUES (20,'Programaci\u00f3n de Servicios Software',6,'obligatoria',2,2,14,4);\nINSERT INTO asignatura VALUES (21,'Desarrollo de interfaces de usuario',6,'obligatoria',3,1,14,4);\nINSERT INTO asignatura VALUES (22,'Ingenier\u00eda de Requisitos',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (23,'Integraci\u00f3n de las Tecnolog\u00edas de la Informaci\u00f3n en las Organizaciones',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (24,'Modelado y Dise\u00f1o del Software 1',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (25,'Multiprocesadores',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (26,'Seguridad y cumplimiento normativo',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (27,'Sistema de Informaci\u00f3n para las Organizaciones',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (28,'Tecnolog\u00edas web',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (29,'Teor\u00eda de c\u00f3digos y criptograf\u00eda',6,'optativa',3,1,NULL,4);\nINSERT INTO asignatura VALUES (30,'Administraci\u00f3n de bases de datos',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (31,'Herramientas y M\u00e9todos de Ingenier\u00eda del Software',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (32,'Inform\u00e1tica industrial y rob\u00f3tica',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (33,'Ingenier\u00eda de Sistemas de Informaci\u00f3n',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (34,'Modelado y Dise\u00f1o del Software 2',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (35,'Negocio Electr\u00f3nico',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (36,'Perif\u00e9ricos e interfaces',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (37,'Sistemas de tiempo real',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (38,'Tecnolog\u00edas de acceso a red',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (39,'Tratamiento digital de im\u00e1genes',6,'optativa',3,2,NULL,4);\nINSERT INTO asignatura VALUES (40,'Administraci\u00f3n de redes y sistemas operativos',6,'optativa',4,1,NULL,4);\nINSERT INTO asignatura VALUES (41,'Almacenes de Datos',6,'optativa',4,1,NULL,4);\nINSERT INTO asignatura VALUES (42,'Fiabilidad y Gesti\u00f3n de Riesgos',6,'optativa',4,1,NULL,4);\nINSERT INTO asignatura VALUES (43,'L\u00edneas de Productos Software',6,'optativa',4,1,NULL,4);\nINSERT INTO asignatura VALUES (44,'Procesos de Ingenier\u00eda del Software 1',6,'optativa',4,1,NULL,4);\nINSERT INTO asignatura VALUES (45,'Tecnolog\u00edas multimedia',6,'optativa',4,1,NULL,4);\nINSERT INTO asignatura VALUES (46,'An\u00e1lisis y planificaci\u00f3n de las TI',6,'optativa',4,2,NULL,4);\nINSERT INTO asignatura VALUES (47,'Desarrollo R\u00e1pido de Aplicaciones',6,'optativa',4,2,NULL,4);\nINSERT INTO asignatura VALUES (48,'Gesti\u00f3n de la Calidad y de la Innovaci\u00f3n Tecnol\u00f3gica',6,'optativa',4,2,NULL,4);\nINSERT INTO asignatura VALUES (49,'Inteligencia del Negocio',6,'optativa',4,2,NULL,4);\nINSERT INTO asignatura VALUES (50,'Procesos de Ingenier\u00eda del Software 2',6,'optativa',4,2,NULL,4);\nINSERT INTO asignatura VALUES (51,'Seguridad Inform\u00e1tica',6,'optativa',4,2,NULL,4);\nINSERT INTO asignatura VALUES (52,'Biologia celular',6,'b\u00e1sica',1,1,NULL,7);\nINSERT INTO asignatura VALUES (53,'F\u00edsica',6,'b\u00e1sica',1,1,NULL,7);\nINSERT INTO asignatura VALUES (54,'Matem\u00e1ticas I',6,'b\u00e1sica',1,1,NULL,7);\nINSERT INTO asignatura VALUES (55,'Qu\u00edmica general',6,'b\u00e1sica',1,1,NULL,7);\nINSERT INTO asignatura VALUES (56,'Qu\u00edmica org\u00e1nica',6,'b\u00e1sica',1,1,NULL,7);\nINSERT INTO asignatura VALUES (57,'Biolog\u00eda vegetal y animal',6,'b\u00e1sica',1,2,NULL,7);\nINSERT INTO asignatura VALUES (58,'Bioqu\u00edmica',6,'b\u00e1sica',1,2,NULL,7);\nINSERT INTO asignatura VALUES (59,'Gen\u00e9tica',6,'b\u00e1sica',1,2,NULL,7);\nINSERT INTO asignatura VALUES (60,'Matem\u00e1ticas II',6,'b\u00e1sica',1,2,NULL,7);\nINSERT INTO asignatura VALUES (61,'Microbiolog\u00eda',6,'b\u00e1sica',1,2,NULL,7);\nINSERT INTO asignatura VALUES (62,'Bot\u00e1nica agr\u00edcola',6,'obligatoria',2,1,NULL,7);\nINSERT INTO asignatura VALUES (63,'Fisiolog\u00eda vegetal',6,'obligatoria',2,1,NULL,7);\nINSERT INTO asignatura VALUES (64,'Gen\u00e9tica molecular',6,'obligatoria',2,1,NULL,7);\nINSERT INTO asignatura VALUES (65,'Ingenier\u00eda bioqu\u00edmica',6,'obligatoria',2,1,NULL,7);\nINSERT INTO asignatura VALUES (66,'Termodin\u00e1mica y cin\u00e9tica qu\u00edmica aplicada',6,'obligatoria',2,1,NULL,7);\nINSERT INTO asignatura VALUES (67,'Biorreactores',6,'obligatoria',2,2,NULL,7);\nINSERT INTO asignatura VALUES (68,'Biotecnolog\u00eda microbiana',6,'obligatoria',2,2,NULL,7);\nINSERT INTO asignatura VALUES (69,'Ingenier\u00eda gen\u00e9tica',6,'obligatoria',2,2,NULL,7);\nINSERT INTO asignatura VALUES (70,'Inmunolog\u00eda',6,'obligatoria',2,2,NULL,7);\nINSERT INTO asignatura VALUES (71,'Virolog\u00eda',6,'obligatoria',2,2,NULL,7);\nINSERT INTO asignatura VALUES (72,'Bases moleculares del desarrollo vegetal',4.5,'obligatoria',3,1,NULL,7);\nINSERT INTO asignatura VALUES (73,'Fisiolog\u00eda animal',4.5,'obligatoria',3,1,NULL,7);\nINSERT INTO asignatura VALUES (74,'Metabolismo y bios\u00edntesis de biomol\u00e9culas',6,'obligatoria',3,1,NULL,7);\nINSERT INTO asignatura VALUES (75,'Operaciones de separaci\u00f3n',6,'obligatoria',3,1,NULL,7);\nINSERT INTO asignatura VALUES (76,'Patolog\u00eda molecular de plantas',4.5,'obligatoria',3,1,NULL,7);\nINSERT INTO asignatura VALUES (77,'T\u00e9cnicas instrumentales b\u00e1sicas',4.5,'obligatoria',3,1,NULL,7);\nINSERT INTO asignatura VALUES (78,'Bioinform\u00e1tica',4.5,'obligatoria',3,2,NULL,7);\nINSERT INTO asignatura VALUES (79,'Biotecnolog\u00eda de los productos hortofrut\u00edculas',4.5,'obligatoria',3,2,NULL,7);\nINSERT INTO asignatura VALUES (80,'Biotecnolog\u00eda vegetal',6,'obligatoria',3,2,NULL,7);\nINSERT INTO asignatura VALUES (81,'Gen\u00f3mica y prote\u00f3mica',4.5,'obligatoria',3,2,NULL,7);\nINSERT INTO asignatura VALUES (82,'Procesos biotecnol\u00f3gicos',6,'obligatoria',3,2,NULL,7);\nINSERT INTO asignatura VALUES (83,'T\u00e9cnicas instrumentales avanzadas',4.5,'obligatoria',3,2,NULL,7);\n\n/* Curso escolar */\nINSERT INTO curso_escolar VALUES (1,2014,2015);\nINSERT INTO curso_escolar VALUES (2,2015,2016);\nINSERT INTO curso_escolar VALUES (3,2016,2017);\nINSERT INTO curso_escolar VALUES (4,2017,2018);\n\n/* Alumno se matricula en asignatura */\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,1,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,1,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,1,3);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,1,4);\nINSERT INTO alumno_se_matricula_asignatura VALUES (2,1,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,1,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,1,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,2,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,2,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,2,3);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,2,4);\nINSERT INTO alumno_se_matricula_asignatura VALUES (2,2,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,2,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,2,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,3,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,3,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,3,3);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,3,4);\nINSERT INTO alumno_se_matricula_asignatura VALUES (2,3,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,3,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,3,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,4,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,4,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,5,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,5,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,6,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,6,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,7,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,7,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,8,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,8,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,9,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,9,2);\nINSERT INTO alumno_se_matricula_asignatura VALUES (1,10,1);\nINSERT INTO alumno_se_matricula_asignatura VALUES (4,10,2);\n</code></pre>"},{"location":"temas/04/res/gestion_ventas.html","title":"Base de Datos: Gesti\u00f3n de Ventas","text":""},{"location":"temas/04/res/gestion_ventas.html#base-de-datos-gestion-de-ventas","title":"Base de Datos: Gesti\u00f3n de Ventas","text":""},{"location":"temas/04/res/gestion_ventas.html#modelo-entidad-relacion","title":"Modelo Entidad-Relaci\u00f3n","text":"Datos de prueba <pre><code>DROP DATABASE IF EXISTS ventas;\nCREATE DATABASE ventas CHARACTER SET utf8mb4;\nUSE ventas;\n\nCREATE TABLE cliente (\n  id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n  nombre VARCHAR(100) NOT NULL,\n  apellido1 VARCHAR(100) NOT NULL,\n  apellido2 VARCHAR(100),\n  ciudad VARCHAR(100),\n  categoria INT UNSIGNED\n);\n\nCREATE TABLE comercial (\n  id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n  nombre VARCHAR(100) NOT NULL,\n  apellido1 VARCHAR(100) NOT NULL,\n  apellido2 VARCHAR(100),\n  comision FLOAT\n);\n\nCREATE TABLE pedido (\n  id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n  total DOUBLE NOT NULL,\n  fecha DATE,\n  id_cliente INT UNSIGNED NOT NULL,\n  id_comercial INT UNSIGNED NOT NULL,\n  FOREIGN KEY (id_cliente) REFERENCES cliente(id),\n  FOREIGN KEY (id_comercial) REFERENCES comercial(id)\n);\n\nINSERT INTO cliente VALUES(1, 'Aar\u00f3n', 'Rivero', 'G\u00f3mez', 'Almer\u00eda', 100);\nINSERT INTO cliente VALUES(2, 'Adela', 'Salas', 'D\u00edaz', 'Granada', 200);\nINSERT INTO cliente VALUES(3, 'Adolfo', 'Rubio', 'Flores', 'Sevilla', NULL);\nINSERT INTO cliente VALUES(4, 'Adri\u00e1n', 'Su\u00e1rez', NULL, 'Ja\u00e9n', 300);\nINSERT INTO cliente VALUES(5, 'Marcos', 'Loyola', 'M\u00e9ndez', 'Almer\u00eda', 200);\nINSERT INTO cliente VALUES(6, 'Mar\u00eda', 'Santana', 'Moreno', 'C\u00e1diz', 100);\nINSERT INTO cliente VALUES(7, 'Pilar', 'Ruiz', NULL, 'Sevilla', 300);\nINSERT INTO cliente VALUES(8, 'Pepe', 'Ruiz', 'Santana', 'Huelva', 200);\nINSERT INTO cliente VALUES(9, 'Guillermo', 'L\u00f3pez', 'G\u00f3mez', 'Granada', 225);\nINSERT INTO cliente VALUES(10, 'Daniel', 'Santana', 'Loyola', 'Sevilla', 125);\n\nINSERT INTO comercial VALUES(1, 'Daniel', 'S\u00e1ez', 'Vega', 0.15);\nINSERT INTO comercial VALUES(2, 'Juan', 'G\u00f3mez', 'L\u00f3pez', 0.13);\nINSERT INTO comercial VALUES(3, 'Diego','Flores', 'Salas', 0.11);\nINSERT INTO comercial VALUES(4, 'Marta','Herrera', 'Gil', 0.14);\nINSERT INTO comercial VALUES(5, 'Antonio','Carretero', 'Ortega', 0.12);\nINSERT INTO comercial VALUES(6, 'Manuel','Dom\u00ednguez', 'Hern\u00e1ndez', 0.13);\nINSERT INTO comercial VALUES(7, 'Antonio','Vega', 'Hern\u00e1ndez', 0.11);\nINSERT INTO comercial VALUES(8, 'Alfredo','Ruiz', 'Flores', 0.05);\n\nINSERT INTO pedido VALUES(1, 150.5, '2017-10-05', 5, 2);\nINSERT INTO pedido VALUES(2, 270.65, '2016-09-10', 1, 5);\nINSERT INTO pedido VALUES(3, 65.26, '2017-10-05', 2, 1);\nINSERT INTO pedido VALUES(4, 110.5, '2016-08-17', 8, 3);\nINSERT INTO pedido VALUES(5, 948.5, '2017-09-10', 5, 2);\nINSERT INTO pedido VALUES(6, 2400.6, '2016-07-27', 7, 1);\nINSERT INTO pedido VALUES(7, 5760, '2015-09-10', 2, 1);\nINSERT INTO pedido VALUES(8, 1983.43, '2017-10-10', 4, 6);\nINSERT INTO pedido VALUES(9, 2480.4, '2016-10-10', 8, 3);\nINSERT INTO pedido VALUES(10, 250.45, '2015-06-27', 8, 2);\nINSERT INTO pedido VALUES(11, 75.29, '2016-08-17', 3, 7);\nINSERT INTO pedido VALUES(12, 3045.6, '2017-04-25', 2, 1);\nINSERT INTO pedido VALUES(13, 545.75, '2019-01-25', 6, 1);\nINSERT INTO pedido VALUES(14, 145.82, '2017-02-02', 6, 1);\nINSERT INTO pedido VALUES(15, 370.85, '2019-03-11', 1, 5);\nINSERT INTO pedido VALUES(16, 2389.23, '2019-03-11', 1, 5);\n</code></pre>"},{"location":"temas/04/res/jardineria.html","title":"Base de Datos: Jardiner\u00eda","text":""},{"location":"temas/04/res/jardineria.html#base-de-datos-jardineria","title":"Base de Datos: Jardiner\u00eda","text":""},{"location":"temas/04/res/jardineria.html#modelo-entidad-relacion","title":"Modelo Entidad-Relaci\u00f3n","text":"Script de creaci\u00f3n de la base de datos <pre><code>DROP DATABASE IF EXISTS jardineria;\nCREATE DATABASE jardineria CHARACTER SET utf8mb4;\nUSE jardineria;\n\nCREATE TABLE oficina (\n  codigo_oficina VARCHAR(10) NOT NULL,\n  ciudad VARCHAR(30) NOT NULL,\n  pais VARCHAR(50) NOT NULL,\n  region VARCHAR(50) DEFAULT NULL,\n  codigo_postal VARCHAR(10) NOT NULL,\n  telefono VARCHAR(20) NOT NULL,\n  linea_direccion1 VARCHAR(50) NOT NULL,\n  linea_direccion2 VARCHAR(50) DEFAULT NULL,\n  PRIMARY KEY (codigo_oficina)\n);\n\nCREATE TABLE empleado (\n  codigo_empleado INTEGER NOT NULL,\n  nombre VARCHAR(50) NOT NULL,\n  apellido1 VARCHAR(50) NOT NULL,\n  apellido2 VARCHAR(50) DEFAULT NULL,\n  extension VARCHAR(10) NOT NULL,\n  email VARCHAR(100) NOT NULL,\n  codigo_oficina VARCHAR(10) NOT NULL,\n  codigo_jefe INTEGER DEFAULT NULL,\n  puesto VARCHAR(50) DEFAULT NULL,\n  PRIMARY KEY (codigo_empleado),\n  FOREIGN KEY (codigo_oficina) REFERENCES oficina (codigo_oficina),\n  FOREIGN KEY (codigo_jefe) REFERENCES empleado (codigo_empleado)\n);\n\nCREATE TABLE gama_producto (\n  gama VARCHAR(50) NOT NULL,\n  descripcion_texto TEXT,\n  descripcion_html TEXT,\n  imagen VARCHAR(256),\n  PRIMARY KEY (gama)\n);\n\nCREATE TABLE cliente (\n  codigo_cliente INTEGER NOT NULL,\n  nombre_cliente VARCHAR(50) NOT NULL,\n  nombre_contacto VARCHAR(30) DEFAULT NULL,\n  apellido_contacto VARCHAR(30) DEFAULT NULL,\n  telefono VARCHAR(15) NOT NULL,\n  fax VARCHAR(15) NOT NULL,\n  linea_direccion1 VARCHAR(50) NOT NULL,\n  linea_direccion2 VARCHAR(50) DEFAULT NULL,\n  ciudad VARCHAR(50) NOT NULL,\n  region VARCHAR(50) DEFAULT NULL,\n  pais VARCHAR(50) DEFAULT NULL,\n  codigo_postal VARCHAR(10) DEFAULT NULL,\n  codigo_empleado_rep_ventas INTEGER DEFAULT NULL,\n  limite_credito NUMERIC(15,2) DEFAULT NULL,\n  PRIMARY KEY (codigo_cliente),\n  FOREIGN KEY (codigo_empleado_rep_ventas) REFERENCES empleado (codigo_empleado)\n);\n\nCREATE TABLE pedido (\n  codigo_pedido INTEGER NOT NULL,\n  fecha_pedido date NOT NULL,\n  fecha_esperada date NOT NULL,\n  fecha_entrega date DEFAULT NULL,\n  estado VARCHAR(15) NOT NULL,\n  comentarios TEXT,\n  codigo_cliente INTEGER NOT NULL,\n  PRIMARY KEY (codigo_pedido),\n  FOREIGN KEY (codigo_cliente) REFERENCES cliente (codigo_cliente)\n);\n\nCREATE TABLE producto (\n  codigo_producto VARCHAR(15) NOT NULL,\n  nombre VARCHAR(70) NOT NULL,\n  gama VARCHAR(50) NOT NULL,\n  dimensiones VARCHAR(25) NULL,\n  proveedor VARCHAR(50) DEFAULT NULL,\n  descripcion text NULL,\n  cantidad_en_stock SMALLINT NOT NULL,\n  precio_venta NUMERIC(15,2) NOT NULL,\n  precio_proveedor NUMERIC(15,2) DEFAULT NULL,\n  PRIMARY KEY (codigo_producto),\n  FOREIGN KEY (gama) REFERENCES gama_producto (gama)\n);\n\nCREATE TABLE detalle_pedido (\n  codigo_pedido INTEGER NOT NULL,\n  codigo_producto VARCHAR(15) NOT NULL,\n  cantidad INTEGER NOT NULL,\n  precio_unidad NUMERIC(15,2) NOT NULL,\n  numero_linea SMALLINT NOT NULL,\n  PRIMARY KEY (codigo_pedido, codigo_producto),\n  FOREIGN KEY (codigo_pedido) REFERENCES pedido (codigo_pedido),\n  FOREIGN KEY (codigo_producto) REFERENCES producto (codigo_producto)\n);\n\nCREATE TABLE pago (\n  codigo_cliente INTEGER NOT NULL,\n  forma_pago VARCHAR(40) NOT NULL,\n  id_transaccion VARCHAR(50) NOT NULL,\n  fecha_pago date NOT NULL,\n  total NUMERIC(15,2) NOT NULL,\n  PRIMARY KEY (codigo_cliente, id_transaccion),\n  FOREIGN KEY (codigo_cliente) REFERENCES cliente (codigo_cliente)\n);\n</code></pre>"},{"location":"temas/04/res/liga_futbol.html","title":"Base de Datos: Liga de F\u00fatbol","text":""},{"location":"temas/04/res/liga_futbol.html#base-de-datos-liga-de-futbol","title":"Base de Datos: Liga de F\u00fatbol","text":""},{"location":"temas/04/res/liga_futbol.html#modelo-entidad-relacion","title":"Modelo Entidad-Relaci\u00f3n","text":"Script para MySQL <pre><code>DROP DATABASE IF EXISTS LigaFutbol;\nCREATE DATABASE LigaFutbol CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\nUSE LigaFutbol;\n\n-- 1. Estadio\nCREATE TABLE Estadio (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(100) NOT NULL,\n    capacidad INT UNSIGNED NOT NULL,\n    ciudad VARCHAR(100) NOT NULL,\n    direccion VARCHAR(255),\n    a\u00f1oInauguracion YEAR,\n    tieneCespedNatural BOOLEAN DEFAULT TRUE\n);\n\n-- 2. Equipo\nCREATE TABLE Equipo (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    codigo VARCHAR(10) UNIQUE NOT NULL,\n    nombre VARCHAR(100) NOT NULL,\n    a\u00f1oFundacion INT,\n    presupuesto DECIMAL(15, 2) CHECK (presupuesto &gt;= 0),\n    webOficial TEXT,\n    estadioID INT UNSIGNED UNIQUE NOT NULL,\n    FOREIGN KEY (estadioID) REFERENCES Estadio(id)\n);\n\n-- 3. Entrenador\nCREATE TABLE Entrenador (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    dni VARCHAR(20) UNIQUE NOT NULL,\n    nombre VARCHAR(50) NOT NULL,\n    apellido VARCHAR(50) NOT NULL,\n    salario DOUBLE,\n    fechaNacimiento DATE,\n    equipoID INT UNSIGNED UNIQUE NOT NULL,\n    FOREIGN KEY (equipoID) REFERENCES Equipo(id)\n);\n\n-- 4. Jugador\n-- Relaci\u00f3n reflexiva: mentorID\nCREATE TABLE Jugador (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    numeroLicencia VARCHAR(20) UNIQUE NOT NULL,\n    nombre VARCHAR(50) NOT NULL,\n    apellido VARCHAR(50) NOT NULL,\n    dorsal INT UNSIGNED,\n    posicion ENUM('Portero', 'Defensa', 'Centrocampista', 'Delantero') NOT NULL,\n    fechaNacimiento DATE NOT NULL,\n    altura FLOAT,\n    peso DOUBLE,\n    equipoID INT UNSIGNED NOT NULL,\n    mentorID INT UNSIGNED,\n    FOREIGN KEY (equipoID) REFERENCES Equipo(id),\n    FOREIGN KEY (mentorID) REFERENCES Jugador(id)\n);\n\n-- 5. Arbitro\n-- experienciaAnios es calculado (virtual via Generated Column)\nCREATE TABLE Arbitro (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    numeroColegiado INT UNIQUE NOT NULL,\n    nombre VARCHAR(50) NOT NULL,\n    apellido VARCHAR(50) NOT NULL,\n    fechaInicioArbitraje DATE NOT NULL,\n    categoria VARCHAR(50)\n);\n\n-- 6. Temporada\nCREATE TABLE Temporada (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombre VARCHAR(50) NOT NULL, -- Ej: \"2024-2025\"\n    fechaInicio DATE NOT NULL,\n    fechaFin DATE NOT NULL,\n    esActiva BOOLEAN DEFAULT TRUE\n);\n\n-- 7. Jornada\nCREATE TABLE Jornada (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    numero INT NOT NULL,\n    fechaInicio DATE,\n    temporadaID INT UNSIGNED NOT NULL,\n    FOREIGN KEY (temporadaID) REFERENCES Temporada(id)\n);\n\n-- 8. Partido\n-- Relaciona Equipos (Local/Visitante), Arbitro, Jornada, Estadio\nCREATE TABLE Partido (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    codigo VARCHAR(20) UNIQUE NOT NULL,\n    fechaHora DATETIME NOT NULL,\n    clima VARCHAR(50),\n    asistencia INT UNSIGNED,\n    equipoLocalID INT UNSIGNED NOT NULL,\n    equipoVisitanteID INT UNSIGNED NOT NULL,\n    arbitroID INT UNSIGNED NOT NULL,\n    jornadaID INT UNSIGNED NOT NULL,\n    estadioID INT UNSIGNED NOT NULL,\n    FOREIGN KEY (equipoLocalID) REFERENCES Equipo(id),\n    FOREIGN KEY (equipoVisitanteID) REFERENCES Equipo(id),\n    FOREIGN KEY (arbitroID) REFERENCES Arbitro(id),\n    FOREIGN KEY (jornadaID) REFERENCES Jornada(id),\n    FOREIGN KEY (estadioID) REFERENCES Estadio(id),\n    CHECK (equipoLocalID &lt;&gt; equipoVisitanteID)\n);\n\n-- 9. EstadisticaPartido\n-- Relaci\u00f3n M:N entre Jugador y Partido con atributos\nCREATE TABLE EstadisticaPartido (\n    jugadorID INT UNSIGNED NOT NULL,\n    partidoID INT UNSIGNED NOT NULL,\n    minutosJugados INT DEFAULT 0,\n    goles INT DEFAULT 0,\n    asistencias INT DEFAULT 0,\n    tarjetasAmarilla INT DEFAULT 0,\n    tarjetasRoja INT DEFAULT 0,\n    PRIMARY KEY (jugadorID, partidoID),\n    FOREIGN KEY (jugadorID) REFERENCES Jugador(id),\n    FOREIGN KEY (partidoID) REFERENCES Partido(id)\n);\n\n-- 10. Patrocinador\nCREATE TABLE Patrocinador (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    nombreEmpresa VARCHAR(100) NOT NULL,\n    sector VARCHAR(50),\n    tipoContrato VARCHAR(50),\n    emailContacto VARCHAR(150)\n);\n\n-- 11. ContratoPatrocinio\n-- Relaci\u00f3n M:N entre Equipo y Patrocinador\nCREATE TABLE ContratoPatrocinio (\n    equipoID INT UNSIGNED NOT NULL,\n    patrocinadorID INT UNSIGNED NOT NULL,\n    fechaFirma DATE NOT NULL,\n    duracionMeses INT NOT NULL,\n    montoTotal DECIMAL(15, 2) NOT NULL,\n    ubicacionLogo VARCHAR(100),\n    PRIMARY KEY (equipoID, patrocinadorID),\n    FOREIGN KEY (equipoID) REFERENCES Equipo(id),\n    FOREIGN KEY (patrocinadorID) REFERENCES Patrocinador(id)\n);\n\n-- 12. HistorialTraspaso\nCREATE TABLE HistorialTraspaso (\n    id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n    jugadorID INT UNSIGNED NOT NULL,\n    equipoOrigenID INT UNSIGNED NOT NULL,\n    equipoDestinoID INT UNSIGNED NOT NULL,\n    fechaTraspaso DATE NOT NULL,\n    costo DECIMAL(15, 2),\n    FOREIGN KEY (jugadorID) REFERENCES Jugador(id),\n    FOREIGN KEY (equipoOrigenID) REFERENCES Equipo(id),\n    FOREIGN KEY (equipoDestinoID) REFERENCES Equipo(id)\n);\n</code></pre> Datos de prueba <pre><code>USE LigaFutbol;\n\nSET FOREIGN_KEY_CHECKS = 0;\nTRUNCATE TABLE EstadisticaPartido;\nTRUNCATE TABLE Partido;\nTRUNCATE TABLE Jornada;\nTRUNCATE TABLE HistorialTraspaso;\nTRUNCATE TABLE ContratoPatrocinio;\nTRUNCATE TABLE Patrocinador;\nTRUNCATE TABLE Arbitro;\nTRUNCATE TABLE Jugador;\nTRUNCATE TABLE Entrenador;\nTRUNCATE TABLE Equipo;\nTRUNCATE TABLE Estadio;\nTRUNCATE TABLE Temporada;\nSET FOREIGN_KEY_CHECKS = 1;\n\n-- 1. Temporadas\nINSERT INTO Temporada (id, nombre, fechaInicio, fechaFin, esActiva) VALUES\n(1, '2022-2023', '2022-08-12', '2023-06-04', FALSE),\n(2, '2023-2024', '2023-08-11', '2024-05-26', FALSE),\n(3, '2024-2025', '2024-08-15', '2025-05-25', TRUE);\n\n-- 2. Estadios\nINSERT INTO Estadio (id, nombre, capacidad, ciudad, direccion, a\u00f1oInauguracion, tieneCespedNatural) VALUES\n(1, 'Santiago Bernabeu', 81044, 'Madrid', 'Av. de Concha Espina 1', 1947, TRUE),\n(2, 'Spotify Camp Nou', 99354, 'Barcelona', 'C. d''Aristides Maillol 12', 1957, TRUE),\n(3, 'Civitas Metropolitano', 70460, 'Madrid', 'Av. de Luis Aragones 4', 2017, TRUE),\n(4, 'San Mames', 53289, 'Bilbao', 'Rafael Moreno Pitxitxi', 2013, TRUE),\n(5, 'Reale Arena', 39500, 'San Sebastian', 'Anoeta Pasealekua 1', 1993, TRUE),\n(6, 'Benito Villamarin', 60721, 'Sevilla', 'Av. de Heliopolis', 1929, TRUE),\n(7, 'Ramon Sanchez-Pizjuan', 43883, 'Sevilla', 'C. Sevilla Futbol Club', 1958, TRUE),\n(8, 'Mestalla', 49430, 'Valencia', 'Av. de Suecia', 1923, TRUE),\n(9, 'Estadio de la Ceramica', 23500, 'Villarreal', 'C. Blasco Ibanez 2', 1923, TRUE),\n(10, 'Montilivi', 14624, 'Girona', 'Av. Montilivi', 1970, TRUE);\n\n-- 3. Equipos\nINSERT INTO Equipo (id, codigo, nombre, a\u00f1oFundacion, presupuesto, webOficial, estadioID) VALUES\n(1, 'RMA', 'Real Madrid CF', 1902, 750000000.00, 'www.realmadrid.com', 1),\n(2, 'FCB', 'FC Barcelona', 1899, 600000000.00, 'www.fcbarcelona.com', 2),\n(3, 'ATM', 'Atletico de Madrid', 1903, 300000000.00, 'www.atleticodemadrid.com', 3),\n(4, 'ATH', 'Athletic Club', 1898, 120000000.00, 'www.athletic-club.eus', 4),\n(5, 'RSO', 'Real Sociedad', 1909, 110000000.00, 'www.realsociedad.eus', 5),\n(6, 'BET', 'Real Betis Balompie', 1907, 95000000.00, 'www.realbetisbalompie.es', 6),\n(7, 'SEV', 'Sevilla FC', 1890, 150000000.00, 'www.sevillafc.es', 7),\n(8, 'VAL', 'Valencia CF', 1919, 80000000.00, 'www.valenciacf.com', 8),\n(9, 'VIL', 'Villarreal CF', 1923, 100000000.00, 'www.villarrealcf.es', 9),\n(10, 'GIR', 'Girona FC', 1930, 55000000.00, 'www.gironafc.cat', 10);\n\n-- 4. Entrenadores\nINSERT INTO Entrenador (dni, nombre, apellido, salario, fechaNacimiento, equipoID) VALUES\n('11111111A', 'Carlo', 'Ancelotti', 11000000, '1959-06-10', 1),\n('22222222B', 'Hansi', 'Flick', 9000000, '1965-02-24', 2),\n('33333333C', 'Diego', 'Simeone', 20000000, '1970-04-28', 3),\n('44444444D', 'Ernesto', 'Valverde', 4000000, '1964-02-09', 4),\n('55555555E', 'Imanol', 'Alguacil', 2500000, '1971-07-04', 5),\n('66666666F', 'Manuel', 'Pellegrini', 5000000, '1953-09-16', 6),\n('77777777G', 'Xavier', 'Garcia Pimienta', 2000000, '1974-08-03', 7),\n('88888888H', 'Ruben', 'Baraja', 1500000, '1975-07-11', 8),\n('99999999I', 'Marcelino', 'Garcia Toral', 3000000, '1965-08-14', 9),\n('00000000J', 'Michel', 'Sanchez', 2000000, '1975-10-30', 10);\n\n-- 5. Jugadores (15 por equipo, SIN ACENTOS)\n-- Real Madrid (id=1)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID, mentorID) VALUES\n('RMA01', 'Thibaut', 'Courtois', 1, 'Portero', '1992-05-11', 2.00, 96, 1, NULL),\n('RMA02', 'Daniel', 'Carvajal', 2, 'Defensa', '1992-01-11', 1.73, 73, 1, NULL),\n('RMA03', 'Eder', 'Militao', 3, 'Defensa', '1998-01-18', 1.86, 78, 1, NULL),\n('RMA04', 'David', 'Alaba', 4, 'Defensa', '1992-06-24', 1.80, 78, 1, NULL),\n('RMA05', 'Jude', 'Bellingham', 5, 'Centrocampista', '2003-06-29', 1.86, 75, 1, NULL),\n('RMA07', 'Vinicius', 'Junior', 7, 'Delantero', '2000-07-12', 1.76, 73, 1, NULL),\n('RMA08', 'Federico', 'Valverde', 8, 'Centrocampista', '1998-07-22', 1.82, 78, 1, NULL),\n('RMA09', 'Kylian', 'Mbappe', 9, 'Delantero', '1998-12-20', 1.78, 73, 1, NULL),\n('RMA10', 'Luka', 'Modric', 10, 'Centrocampista', '1985-09-09', 1.72, 66, 1, NULL),\n('RMA11', 'Rodrygo', 'Goes', 11, 'Delantero', '2001-01-09', 1.74, 64, 1, NULL),\n('RMA14', 'Aurelien', 'Tchouameni', 14, 'Centrocampista', '2000-01-27', 1.87, 81, 1, NULL),\n('RMA15', 'Arda', 'Guler', 15, 'Centrocampista', '2005-02-25', 1.75, 69, 1, 9), -- Mentor Modric\n('RMA16', 'Endrick', 'Felipe', 16, 'Delantero', '2006-07-21', 1.73, 70, 1, 6), -- Mentor Vinicius\n('RMA22', 'Antonio', 'Rudiger', 22, 'Defensa', '1993-03-03', 1.90, 85, 1, NULL),\n('RMA23', 'Ferland', 'Mendy', 23, 'Defensa', '1995-06-08', 1.80, 73, 1, NULL);\n\n-- FC Barcelona (id=2)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID, mentorID) VALUES\n('FCB01', 'Marc-Andre', 'ter Stegen', 1, 'Portero', '1992-04-30', 1.87, 85, 2, NULL),\n('FCB02', 'Pau', 'Cubarsi', 2, 'Defensa', '2007-01-22', 1.84, 76, 2, NULL),\n('FCB03', 'Alejandro', 'Balde', 3, 'Defensa', '2003-10-18', 1.75, 69, 2, NULL),\n('FCB04', 'Ronald', 'Araujo', 4, 'Defensa', '1999-03-07', 1.88, 79, 2, NULL),\n('FCB06', 'Pablo', 'Gavi', 6, 'Centrocampista', '2004-08-05', 1.73, 70, 2, NULL),\n('FCB08', 'Pedro', 'Gonzalez', 8, 'Centrocampista', '2002-11-25', 1.74, 60, 2, NULL),\n('FCB09', 'Robert', 'Lewandowski', 9, 'Delantero', '1988-08-21', 1.85, 80, 2, NULL),\n('FCB10', 'Ansu', 'Fati', 10, 'Delantero', '2002-10-31', 1.78, 66, 2, NULL),\n('FCB11', 'Raphinha', 'Dias', 11, 'Delantero', '1996-12-14', 1.76, 68, 2, NULL),\n('FCB13', 'Inaki', 'Pena', 13, 'Portero', '1999-03-02', 1.84, 78, 2, 16),\n('FCB19', 'Lamine', 'Yamal', 19, 'Delantero', '2007-07-13', 1.80, 65, 2, 22), -- Mentor Lewandowski\n('FCB20', 'Dani', 'Olmo', 20, 'Centrocampista', '1998-05-07', 1.78, 72, 2, NULL),\n('FCB21', 'Frenkie', 'de Jong', 21, 'Centrocampista', '1997-05-12', 1.80, 74, 2, NULL),\n('FCB23', 'Jules', 'Kounde', 23, 'Defensa', '1998-11-12', 1.80, 75, 2, NULL),\n('FCB24', 'Eric', 'Garcia', 24, 'Defensa', '2001-01-09', 1.82, 76, 2, NULL);\n\n-- Atletico Madrid (id=3)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID, mentorID) VALUES\n('ATM01', 'Jan', 'Oblak', 1, 'Portero', '1993-01-07', 1.88, 87, 3, NULL),\n('ATM02', 'Jose', 'Gimenez', 2, 'Defensa', '1995-01-20', 1.85, 80, 3, NULL),\n('ATM03', 'Cesar', 'Azpilicueta', 3, 'Defensa', '1989-08-28', 1.78, 76, 3, NULL),\n('ATM04', 'Conor', 'Gallagher', 4, 'Centrocampista', '2000-02-06', 1.82, 74, 3, NULL),\n('ATM05', 'Rodrigo', 'De Paul', 5, 'Centrocampista', '1994-05-24', 1.80, 70, 3, NULL),\n('ATM06', 'Koke', 'Resurreccion', 6, 'Centrocampista', '1992-01-08', 1.76, 77, 3, NULL),\n('ATM07', 'Antoine', 'Griezmann', 7, 'Delantero', '1991-03-21', 1.76, 73, 3, NULL),\n('ATM09', 'Alexander', 'Sorloth', 9, 'Delantero', '1995-12-05', 1.95, 90, 3, NULL),\n('ATM10', 'Angel', 'Correa', 10, 'Delantero', '1995-03-09', 1.71, 70, 3, NULL),\n('ATM14', 'Marcos', 'Llorente', 14, 'Centrocampista', '1995-01-30', 1.84, 74, 3, NULL),\n('ATM16', 'Nahuel', 'Molina', 16, 'Defensa', '1998-04-06', 1.75, 70, 3, 33), -- Mentor Azpilicueta\n('ATM19', 'Julian', 'Alvarez', 19, 'Delantero', '2000-01-31', 1.70, 71, 3, 37), -- Mentor Griezmann\n('ATM20', 'Axel', 'Witsel', 20, 'Centrocampista', '1989-01-12', 1.86, 81, 3, NULL),\n('ATM23', 'Reinildo', 'Mandava', 23, 'Defensa', '1994-01-21', 1.80, 73, 3, NULL),\n('ATM24', 'Robin', 'Le Normand', 24, 'Defensa', '1996-11-11', 1.87, 81, 3, NULL);\n\n-- Athletic Club (id=4)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID) VALUES\n('ATH01', 'Unai', 'Simon', 1, 'Portero', '1997-06-11', 1.90, 88, 4),\n('ATH02', 'Andoni', 'Gorosabel', 2, 'Defensa', '1996-08-04', 1.74, 70, 4),\n('ATH03', 'Dani', 'Vivian', 3, 'Defensa', '1999-07-05', 1.84, 78, 4),\n('ATH04', 'Aitor', 'Paredes', 4, 'Defensa', '2000-04-29', 1.86, 80, 4),\n('ATH05', 'Yeray', 'Alvarez', 5, 'Defensa', '1995-01-24', 1.82, 78, 4),\n('ATH06', 'Mikel', 'Vesga', 6, 'Centrocampista', '1993-04-08', 1.91, 85, 4),\n('ATH08', 'Oihan', 'Sancet', 8, 'Centrocampista', '2000-04-25', 1.88, 77, 4),\n('ATH09', 'Inaki', 'Williams', 9, 'Delantero', '1994-06-15', 1.86, 79, 4),\n('ATH10', 'Nico', 'Williams', 10, 'Delantero', '2002-07-12', 1.81, 67, 4),\n('ATH11', 'Alvaro', 'Djalo', 11, 'Delantero', '1999-08-16', 1.75, 72, 4),\n('ATH12', 'Gorka', 'Guruzeta', 12, 'Delantero', '1996-09-12', 1.88, 79, 4),\n('ATH18', 'Oscar', 'de Marcos', 18, 'Defensa', '1989-04-14', 1.82, 77, 4),\n('ATH21', 'Ander', 'Herrera', 21, 'Centrocampista', '1989-08-14', 1.82, 71, 4),\n('ATH24', 'Benat', 'Prados', 24, 'Centrocampista', '2001-02-08', 1.79, 74, 4),\n('ATH29', 'Unai', 'Gomez', 29, 'Centrocampista', '2003-05-25', 1.83, 75, 4);\n\n-- Real Sociedad (id=5)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID) VALUES\n('RSO01', 'Alex', 'Remiro', 1, 'Portero', '1995-03-24', 1.92, 83, 5),\n('RSO04', 'Martin', 'Zubimendi', 4, 'Centrocampista', '1999-02-02', 1.81, 74, 5),\n('RSO05', 'Igor', 'Zubeldia', 5, 'Defensa', '1997-03-30', 1.81, 78, 5),\n('RSO06', 'Aritz', 'Elustondo', 6, 'Defensa', '1994-03-28', 1.82, 76, 5),\n('RSO07', 'Ander', 'Barrenetxea', 7, 'Delantero', '2001-12-27', 1.78, 75, 5),\n('RSO08', 'Arsen', 'Zakharyan', 8, 'Centrocampista', '2003-05-26', 1.83, 74, 5),\n('RSO09', 'Orri', 'Oskarsson', 9, 'Delantero', '2004-08-29', 1.86, 78, 5),\n('RSO10', 'Mikel', 'Oyarzabal', 10, 'Delantero', '1997-04-21', 1.81, 79, 5),\n('RSO11', 'Sheraldo', 'Becker', 11, 'Delantero', '1995-02-09', 1.80, 75, 5),\n('RSO14', 'Takefusa', 'Kubo', 14, 'Delantero', '2001-06-04', 1.73, 67, 5),\n('RSO17', 'Sergio', 'Gomez', 17, 'Defensa', '2000-09-04', 1.71, 68, 5),\n('RSO18', 'Hamari', 'Traore', 18, 'Defensa', '1992-01-27', 1.75, 71, 5),\n('RSO21', 'Nayef', 'Aguerd', 21, 'Defensa', '1996-03-30', 1.88, 76, 5),\n('RSO23', 'Brais', 'Mendez', 23, 'Centrocampista', '1997-01-07', 1.84, 76, 5),\n('RSO24', 'Luka', 'Sucic', 24, 'Centrocampista', '2002-09-08', 1.85, 75, 5);\n\n-- Real Betis (id=6)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID) VALUES\n('BET01', 'Rui', 'Silva', 1, 'Portero', '1994-02-07', 1.91, 84, 6),\n('BET02', 'Hector', 'Bellerin', 2, 'Defensa', '1995-03-19', 1.78, 74, 6),\n('BET03', 'Diego', 'Llorente', 3, 'Defensa', '1993-08-16', 1.86, 75, 6),\n('BET05', 'Marc', 'Bartra', 5, 'Defensa', '1991-01-15', 1.84, 73, 6),\n('BET06', 'Natan', 'Bernardo', 6, 'Defensa', '2001-02-06', 1.88, 86, 6),\n('BET08', 'Vitor', 'Roque', 8, 'Delantero', '2005-02-28', 1.72, 70, 6),\n('BET09', 'Chimy', 'Avila', 9, 'Delantero', '1994-02-06', 1.72, 81, 6),\n('BET10', 'Abde', 'Ezzalzouli', 10, 'Delantero', '2001-12-17', 1.77, 72, 6),\n('BET11', 'Cedric', 'Bakambu', 11, 'Delantero', '1991-04-11', 1.82, 76, 6),\n('BET13', 'Adrian', 'San Miguel', 13, 'Portero', '1987-01-03', 1.90, 80, 6),\n('BET16', 'Sergi', 'Altimira', 16, 'Centrocampista', '2001-08-25', 1.88, 78, 6),\n('BET18', 'Pablo', 'Fornals', 18, 'Centrocampista', '1996-02-22', 1.78, 67, 6),\n('BET20', 'Giovani', 'Lo Celso', 20, 'Centrocampista', '1996-04-09', 1.77, 68, 6),\n('BET21', 'Marc', 'Roca', 21, 'Centrocampista', '1996-11-26', 1.84, 76, 6),\n('BET22', 'Isco', 'Alarcon', 22, 'Centrocampista', '1992-04-21', 1.76, 79, 6);\n\n-- Sevilla FC (id=7)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID) VALUES\n('SEV01', 'Alvaro', 'Fernandez', 1, 'Portero', '1998-04-13', 1.86, 75, 7),\n('SEV03', 'Adria', 'Pedrosa', 3, 'Defensa', '1998-05-13', 1.72, 69, 7),\n('SEV04', 'Kike', 'Salas', 4, 'Defensa', '2002-04-23', 1.88, 83, 7),\n('SEV06', 'Nemanja', 'Gudel', 6, 'Centrocampista', '1991-11-16', 1.87, 82, 7),\n('SEV07', 'Isaac', 'Romero', 7, 'Delantero', '2000-05-18', 1.84, 78, 7),\n('SEV09', 'Kelechi', 'Iheanacho', 9, 'Delantero', '1996-10-03', 1.85, 82, 7),\n('SEV10', 'Suso', 'Fernandez', 10, 'Centrocampista', '1993-11-19', 1.77, 70, 7),\n('SEV11', 'Dodi', 'Lukebakio', 11, 'Delantero', '1997-09-24', 1.87, 77, 7),\n('SEV12', 'Albert', 'Sambi Lokonga', 12, 'Centrocampista', '1999-10-22', 1.83, 76, 7),\n('SEV13', 'Orjan', 'Nyland', 13, 'Portero', '1990-09-10', 1.92, 90, 7),\n('SEV14', 'Peque', 'Fernandez', 14, 'Delantero', '2002-10-04', 1.72, 65, 7),\n('SEV16', 'Jesus', 'Navas', 16, 'Defensa', '1985-11-21', 1.70, 60, 7),\n('SEV17', 'Saul', 'Niguez', 17, 'Centrocampista', '1994-11-21', 1.84, 77, 7),\n('SEV22', 'Loic', 'Bade', 22, 'Defensa', '2000-04-11', 1.91, 89, 7),\n('SEV23', 'Marcao', 'Teixeira', 23, 'Defensa', '1996-06-05', 1.85, 84, 7);\n\n-- Valencia CF (id=8)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID, mentorID) VALUES\n('VAL01', 'Jaume', 'Domenech', 1, 'Portero', '1990-11-05', 1.88, 75, 8, NULL),\n('VAL03', 'Cristhian', 'Mosquera', 3, 'Defensa', '2004-06-27', 1.91, 85, 8, NULL),\n('VAL05', 'Enzo', 'Barrenechea', 5, 'Centrocampista', '2001-05-22', 1.86, 76, 8, NULL),\n('VAL06', 'Hugo', 'Guillamon', 6, 'Centrocampista', '2000-01-31', 1.78, 69, 8, NULL),\n('VAL07', 'Sergi', 'Canos', 7, 'Delantero', '1997-02-02', 1.78, 75, 8, NULL),\n('VAL08', 'Javi', 'Guerra', 8, 'Centrocampista', '2003-05-13', 1.87, 75, 8, NULL),\n('VAL09', 'Hugo', 'Duro', 9, 'Delantero', '1999-11-10', 1.80, 76, 8, NULL),\n('VAL10', 'Andre', 'Almeida', 10, 'Centrocampista', '2000-05-30', 1.76, 68, 8, NULL),\n('VAL11', 'Rafa', 'Mir', 11, 'Delantero', '1997-06-18', 1.91, 86, 8, NULL),\n('VAL12', 'Thierry', 'Correia', 12, 'Defensa', '1999-03-09', 1.76, 69, 8, NULL),\n('VAL13', 'Giorgi', 'Mamardashvili', 13, 'Portero', '2000-09-29', 1.99, 90, 8, NULL),\n('VAL14', 'Jose', 'Gaya', 14, 'Defensa', '1995-05-25', 1.72, 66, 8, NULL),\n('VAL15', 'Cesar', 'Tarrega', 15, 'Defensa', '2002-02-26', 1.93, 85, 8, 117), -- Mentor Gaya\n('VAL16', 'Diego', 'Lopez', 16, 'Delantero', '2002-05-13', 1.74, 65, 8, NULL),\n('VAL18', 'Pepelu', 'Garcia', 18, 'Centrocampista', '1998-08-11', 1.86, 78, 8, NULL);\n\n-- Villarreal CF (id=9)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID) VALUES\n('VIL02', 'Logan', 'Costa', 2, 'Defensa', '2001-04-01', 1.90, 85, 9),\n('VIL03', 'Raul', 'Albiol', 3, 'Defensa', '1985-09-04', 1.90, 82, 9),\n('VIL04', 'Eric', 'Bailly', 4, 'Defensa', '1994-04-12', 1.87, 77, 9),\n('VIL07', 'Gerard', 'Moreno', 7, 'Delantero', '1992-04-07', 1.80, 77, 9),\n('VIL08', 'Juan', 'Foyth', 8, 'Defensa', '1998-01-12', 1.87, 85, 9),\n('VIL10', 'Dani', 'Parejo', 10, 'Centrocampista', '1989-04-16', 1.82, 74, 9),\n('VIL11', 'Ilias', 'Akhomach', 11, 'Delantero', '2004-04-16', 1.75, 65, 9),\n('VIL13', 'Diego', 'Conde', 13, 'Portero', '1998-10-28', 1.88, 80, 9),\n('VIL14', 'Santi', 'Comesana', 14, 'Centrocampista', '1996-10-05', 1.84, 75, 9),\n('VIL15', 'Thierno', 'Barry', 15, 'Delantero', '2002-10-21', 1.95, 86, 9),\n('VIL16', 'Alex', 'Baena', 16, 'Centrocampista', '2001-07-20', 1.74, 70, 9),\n('VIL17', 'Kiko', 'Femenia', 17, 'Defensa', '1991-02-02', 1.76, 73, 9),\n('VIL18', 'Pape', 'Gueye', 18, 'Centrocampista', '1999-01-24', 1.89, 79, 9),\n('VIL19', 'Nicolas', 'Pepe', 19, 'Delantero', '1995-05-29', 1.83, 73, 9),\n('VIL21', 'Yeremy', 'Pino', 21, 'Delantero', '2002-10-20', 1.72, 65, 9);\n\n-- Girona FC (id=10)\nINSERT INTO Jugador (numeroLicencia, nombre, apellido, dorsal, posicion, fechaNacimiento, altura, peso, equipoID) VALUES\n('GIR01', 'Juan', 'Carlos', 1, 'Portero', '1988-01-20', 1.88, 82, 10),\n('GIR03', 'Miguel', 'Gutierrez', 3, 'Defensa', '2001-07-27', 1.80, 73, 10),\n('GIR04', 'Arnau', 'Martinez', 4, 'Defensa', '2003-04-25', 1.81, 74, 10),\n('GIR05', 'David', 'Lopez', 5, 'Defensa', '1989-10-09', 1.85, 78, 10),\n('GIR07', 'Cristhian', 'Stuani', 7, 'Delantero', '1986-10-12', 1.86, 78, 10),\n('GIR08', 'Viktor', 'Tsygankov', 8, 'Delantero', '1997-11-15', 1.78, 73, 10),\n('GIR09', 'Abel', 'Ruiz', 9, 'Delantero', '2000-01-28', 1.82, 73, 10),\n('GIR10', 'Yaser', 'Asprilla', 10, 'Centrocampista', '2003-11-19', 1.79, 70, 10),\n('GIR11', 'Arnaut', 'Danjuma', 11, 'Delantero', '1997-01-31', 1.78, 74, 10),\n('GIR13', 'Paulo', 'Gazzaniga', 13, 'Portero', '1992-01-02', 1.96, 90, 10),\n('GIR14', 'Oriol', 'Romeu', 14, 'Centrocampista', '1991-09-24', 1.83, 83, 10),\n('GIR16', 'Alejandro', 'Frances', 16, 'Defensa', '2002-08-01', 1.83, 78, 10),\n('GIR17', 'Daley', 'Blind', 17, 'Defensa', '1990-03-09', 1.80, 72, 10),\n('GIR20', 'Bryan', 'Gil', 20, 'Delantero', '2001-02-11', 1.75, 60, 10),\n('GIR23', 'Ivan', 'Martin', 23, 'Centrocampista', '1999-02-14', 1.78, 70, 10);\n\n-- 6. Arbitros\nINSERT INTO Arbitro (numeroColegiado, nombre, apellido, fechaInicioArbitraje, categoria) VALUES\n(1001, 'Jesus', 'Gil Manzano', '2012-08-25', 'Internacional'),\n(1002, 'Cesar', 'Soto Grado', '2019-08-17', 'Primera Division'),\n(1003, 'Jose Maria', 'Sanchez Martinez', '2015-08-29', 'Internacional'),\n(1004, 'Alejandro', 'Hernandez Hernandez', '2012-08-20', 'Internacional'),\n(1005, 'Juan', 'Martinez Munuera', '2013-08-17', 'Internacional');\n\n-- 7. Jornadas y Partidos\n-- T3: 2024-2025. 7 Jornadas completas (35 partidos)\nINSERT INTO Jornada (id, numero, fechaInicio, temporadaID) VALUES\n(1, 1, '2024-08-15', 3), \n(2, 2, '2024-08-24', 3), \n(3, 3, '2024-08-31', 3),\n(4, 4, '2024-09-15', 3),\n(5, 5, '2024-09-22', 3),\n(6, 6, '2024-09-29', 3),\n(7, 7, '2024-10-06', 3),\n(101, 11, '2023-10-28', 2), -- 23/24 Clasico (ID forzado lejos para no colisionar)\n(102, 32, '2024-04-21', 2), -- 23/24 Clasico Vuelta\n(103, 4, '2022-09-03', 1), -- 22/23\n(104, 26, '2023-03-19', 1); -- 22/23\n\n-- Partidos Temporada 24/25\n-- Jornada 1\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(1, 'P2425-01', '2024-08-15 19:00:00', 'Soleado', 48000, 4, 10, 2, 1, 4), -- ATH-GIR\n(2, 'P2425-02', '2024-08-15 21:30:00', 'Caluroso', 55000, 6, 7, 1, 1, 6), -- BET-SEV\n(3, 'P2425-03', '2024-08-16 21:30:00', 'Despejado', 21000, 9, 3, 3, 1, 9), -- VIL-ATM\n(4, 'P2425-04', '2024-08-17 21:30:00', 'Humedo', 45000, 8, 2, 4, 1, 8), -- VAL-FCB\n(5, 'P2425-05', '2024-08-18 21:00:00', 'Lluvia leve', 38000, 5, 1, 5, 1, 5); -- RSO-RMA\n\n-- Jornada 2\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(6, 'P2425-06', '2024-08-24 17:00:00', 'Soleado', 78000, 1, 8, 1, 2, 1), -- RMA-VAL\n(7, 'P2425-07', '2024-08-24 19:00:00', 'Soleado', 49000, 2, 4, 2, 2, 2), -- FCB-ATH\n(8, 'P2425-08', '2024-08-25 21:30:00', 'Despejado', 60000, 3, 10, 3, 2, 3), -- ATM-GIR\n(9, 'P2425-09', '2024-08-23 21:30:00', 'Caluroso', 41000, 7, 9, 4, 2, 7), -- SEV-VIL\n(10, 'P2425-10', '2024-08-25 19:00:00', 'Soleado', 52000, 6, 5, 5, 2, 6); -- BET-RSO\n\n-- Jornada 3\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(11, 'P2425-11', '2024-08-31 17:00:00', 'Despejado', 71000, 1, 6, 2, 3, 1), -- RMA-BET\n(12, 'P2425-12', '2024-08-31 19:00:00', 'Soleado', 45000, 2, 9, 3, 3, 2), -- FCB-VIL\n(13, 'P2425-13', '2024-09-01 21:00:00', 'Lluvia', 61000, 3, 4, 4, 3, 3), -- ATM-ATH\n(14, 'P2425-14', '2024-09-01 19:00:00', 'Nublado', 32000, 5, 7, 5, 3, 5), -- RSO-SEV\n(15, 'P2425-15', '2024-09-01 17:00:00', 'Soleado', 13500, 10, 8, 1, 3, 10); -- GIR-VAL\n\n-- Jornada 4\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(16, 'P2425-16', '2024-09-15 21:00:00', 'Fresco', 53000, 4, 1, 1, 4, 4), -- ATH-RMA\n(17, 'P2425-17', '2024-09-14 21:00:00', 'Soleado', 95000, 2, 3, 5, 4, 2), -- FCB-ATM\n(18, 'P2425-18', '2024-09-15 17:00:00', 'Soleado', 20000, 9, 5, 2, 4, 9), -- VIL-RSO\n(19, 'P2425-19', '2024-09-14 19:00:00', 'Caluroso', 40000, 7, 10, 3, 4, 7), -- SEV-GIR\n(20, 'P2425-20', '2024-09-16 21:00:00', 'Lluvia', 42000, 8, 6, 4, 4, 8); -- VAL-BET\n\n-- Jornada 5\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(21, 'P2425-21', '2024-09-22 21:00:00', 'Despejado', 78500, 1, 2, 2, 5, 1), -- RMA-FCB (Clasico)\n(22, 'P2425-22', '2024-09-21 21:00:00', 'Frio', 65000, 3, 8, 1, 5, 3), -- ATM-VAL\n(23, 'P2425-23', '2024-09-22 19:00:00', 'LLuvioso', 38000, 5, 4, 3, 5, 5), -- RSO-ATH (Derbi Vasco)\n(24, 'P2425-24', '2024-09-21 19:00:00', 'Soleado', 54000, 6, 9, 4, 5, 6), -- BET-VIL\n(25, 'P2425-25', '2024-09-23 21:00:00', 'Viento', 14000, 10, 7, 5, 5, 10); -- GIR-SEV\n\n-- Jornada 6\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(26, 'P2425-26', '2024-09-29 21:00:00', 'Soleado', 79000, 1, 3, 3, 6, 1), -- RMA-ATM (Derbi)\n(27, 'P2425-27', '2024-09-28 19:00:00', 'Nublado', 46000, 2, 5, 4, 6, 2), -- FCB-RSO\n(28, 'P2425-28', '2024-09-29 17:00:00', 'Lluvia', 50000, 4, 6, 5, 6, 4), -- ATH-BET\n(29, 'P2425-29', '2024-09-28 21:00:00', 'Despejado', 22000, 9, 10, 1, 6, 9), -- VIL-GIR\n(30, 'P2425-30', '2024-09-30 21:00:00', 'Fresco', 41000, 8, 7, 2, 6, 8); -- VAL-SEV\n\n-- Jornada 7\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(31, 'P2425-31', '2024-10-06 21:00:00', 'Soleado', 43000, 7, 1, 2, 7, 7), -- SEV-RMA\n(32, 'P2425-32', '2024-10-05 19:00:00', 'Despejado', 14500, 10, 2, 3, 7, 10), -- GIR-FCB\n(33, 'P2425-33', '2024-10-06 19:00:00', 'Viento', 62000, 3, 6, 1, 7, 3), -- ATM-BET\n(34, 'P2425-34', '2024-10-05 21:00:00', 'Lluvia', 51000, 4, 9, 5, 7, 4), -- ATH-VIL\n(35, 'P2425-35', '2024-10-07 21:00:00', 'Frio', 36000, 5, 8, 4, 7, 5); -- RSO-VAL\n\n-- Partidos Historicos\nINSERT INTO Partido (id, codigo, fechaHora, clima, asistencia, equipoLocalID, equipoVisitanteID, arbitroID, jornadaID, estadioID) VALUES\n(36, 'P2324-01', '2023-10-28 16:15:00', 'Nublado', 50112, 2, 1, 1, 101, 2), -- FCB-RMA (Clasico J11)\n(37, 'P2324-02', '2024-04-21 21:00:00', 'Despejado', 79300, 1, 2, 2, 102, 1), -- RMA-FCB (Clasico J32)\n(38, 'P2324-03', '2023-09-24 21:00:00', 'Lluvioso', 60000, 3, 1, 3, 101, 3), -- ATM-RMA (Derbi)\n(39, 'P2324-04', '2024-02-04 21:00:00', 'Frio', 76000, 1, 3, 4, 102, 1), -- RMA-ATM\n(40, 'P2223-01', '2022-10-16 16:15:00', 'Soleado', 75000, 1, 2, 1, 103, 1),\n(41, 'P2223-02', '2023-03-19 21:00:00', 'Frio', 90000, 2, 1, 2, 104, 2),\n(42, 'P2223-03', '2022-11-06 21:00:00', 'Lluvia', 50000, 6, 7, 3, 103, 6), -- BET-SEV\n(43, 'P2223-04', '2023-05-21 21:00:00', 'Caluroso', 40000, 7, 6, 4, 104, 7); -- SEV-BET\n\n-- 10. Patrocinadores\nINSERT INTO Patrocinador (id, nombreEmpresa, sector, tipoContrato, emailContacto) VALUES\n(1, 'Emirates', 'Aerolinea', 'Principal', 'contact@emirates.com'),\n(2, 'Spotify', 'Tecnologia', 'Principal', 'partners@spotify.com'),\n(3, 'Riyadh Air', 'Aerolinea', 'Principal', 'sponsorship@riyadhair.com'),\n(4, 'Kutxabank', 'Banca', 'Principal', 'info@kutxabank.es'),\n(5, 'Yasuda Group', 'Inversion', 'Principal', 'contact@yasuda.jp'),\n(6, 'Hummel', 'Deportivo', 'Tecnico', 'info@hummel.net'),\n(7, 'JD Sports', 'Retail', 'Manga', 'marketing@jdsports.com'),\n(8, 'Puma', 'Deportivo', 'Tecnico', 'puma@puma.com'),\n(9, 'Pamesa Ceramica', 'Industria', 'Principal', 'info@pamesa.com'),\n(10, 'Etihad Airways', 'Aerolinea', 'Principal', 'sponsorship@etihad.com'),\n(11, 'Nike', 'Deportivo', 'Tecnico', 'nike@nike.com'),\n(12, 'Adidas', 'Deportivo', 'Tecnico', 'adidas@adidas.com'),\n(13, 'Coca-Cola', 'Bebidas', 'Patrocinador Oficial', 'coke@coca-cola.com'),\n(14, 'Mahou', 'Bebidas', 'Patrocinador Oficial', 'mahou@mahou.es'),\n(15, 'CaixaBank', 'Banca', 'Patrocinador Oficial', 'info@caixabank.es');\n\n\n-- 11. Contratos de Patrocinio\nINSERT INTO ContratoPatrocinio (equipoID, patrocinadorID, fechaFirma, duracionMeses, montoTotal, ubicacionLogo) VALUES\n(1, 1, '2023-03-21', 36, 10463442.00, 'Camiseta Frontal'),\n(1, 12, '2022-02-27', 36, 36287089.00, 'Camiseta Frontal'),\n(1, 14, '2024-08-17', 36, 40623242.00, 'Manga'),\n(2, 2, '2023-05-28', 24, 27672095.00, 'Manga'),\n(2, 11, '2022-08-18', 24, 21596673.00, 'Web'),\n(2, 13, '2024-04-17', 12, 37311345.00, 'Pantalon'),\n(3, 3, '2023-02-07', 36, 42205995.00, 'Camiseta Frontal'),\n(3, 11, '2024-08-28', 24, 16787572.00, 'Camiseta Frontal'),\n(3, 15, '2022-04-22', 24, 43450422.00, 'Valla Publicitaria'),\n(4, 4, '2022-03-09', 48, 37385755.00, 'Web'),\n(4, 12, '2024-08-03', 24, 41393233.00, 'Manga'),\n(5, 5, '2022-07-14', 36, 35678816.00, 'Pantalon'),\n(5, 12, '2024-09-15', 48, 43509186.00, 'Pantalon'),\n(6, 6, '2023-02-18', 12, 4335688.00, 'Manga'),\n(6, 13, '2024-02-04', 36, 8085560.00, 'Pantalon'),\n(7, 7, '2024-04-25', 48, 18647713.00, 'Camiseta Frontal'),\n(7, 12, '2022-06-08', 24, 8153001.00, 'Web'),\n(8, 8, '2023-06-23', 48, 41533415.00, 'Valla Publicitaria'),\n(8, 13, '2022-12-13', 24, 2867275.00, 'Web'),\n(9, 9, '2022-06-02', 36, 8603882.00, 'Manga'),\n(9, 12, '2024-01-11', 48, 26100838.00, 'Valla Publicitaria'),\n(10, 10, '2024-12-15', 24, 19962689.00, 'Camiseta Frontal'),\n(10, 8, '2023-12-21', 24, 13667573.00, 'Manga');\n\n\n-- 12. Historial de Traspasos (30 registros)\nINSERT INTO HistorialTraspaso (jugadorID, equipoOrigenID, equipoDestinoID, fechaTraspaso, costo) VALUES\n(136, 6, 10, '2020-08-12', 0.00),\n(70, 7, 5, '2024-08-19', 0.00),\n(52, 5, 4, '2024-07-22', 50000000.00),\n(120, 1, 8, '2020-09-01', 94000000.00),\n(148, 5, 10, '2020-06-02', 75000000.00),\n(114, 2, 8, '2022-07-23', 0.00),\n(98, 4, 7, '2020-09-01', 40000000.00),\n(133, 5, 9, '2022-09-01', 16000000.00),\n(150, 6, 10, '2021-06-25', 29000000.00),\n(90, 8, 6, '2020-06-15', 44000000.00),\n(5, 3, 1, '2022-08-23', 66000000.00),\n(43, 10, 3, '2021-09-01', 2000000.00),\n(56, 5, 4, '2022-06-01', 95000000.00),\n(147, 8, 10, '2020-07-07', 0.00),\n(19, 6, 2, '2020-08-18', 28000000.00),\n(47, 7, 4, '2024-09-01', 0.00),\n(144, 5, 10, '2020-06-03', 15000000.00),\n(112, 4, 8, '2020-08-16', 80000000.00),\n(28, 7, 2, '2021-06-17', 55000000.00),\n(72, 4, 5, '2022-08-05', 0.00),\n(143, 7, 10, '2021-06-26', 24000000.00),\n(51, 2, 4, '2023-08-03', 87000000.00),\n(49, 3, 4, '2023-06-14', 71000000.00),\n(101, 1, 7, '2022-08-17', 63000000.00),\n(104, 8, 7, '2020-08-21', 87000000.00),\n(79, 7, 6, '2021-06-19', 10000000.00),\n(14, 4, 1, '2020-07-03', 40000000.00),\n(126, 2, 9, '2023-08-14', 37000000.00),\n(38, 6, 3, '2022-07-16', 81000000.00),\n(55, 7, 4, '2022-06-07', 79000000.00);\n\n\n    INSERT INTO EstadisticaPartido (jugadorID, partidoID, minutosJugados, goles, asistencias, tarjetasAmarilla, tarjetasRoja) VALUES\n(58, 1, 90, 0, 0, 1, 0),\n(51, 1, 90, 0, 0, 0, 0),\n(60, 1, 90, 0, 0, 0, 0),\n(59, 1, 90, 0, 0, 0, 0),\n(52, 1, 90, 0, 0, 0, 0),\n(53, 1, 90, 0, 0, 0, 0),\n(50, 1, 90, 0, 0, 0, 0),\n(49, 1, 90, 0, 0, 1, 0),\n(57, 1, 90, 0, 0, 0, 0),\n(47, 1, 90, 0, 0, 0, 0),\n(54, 1, 90, 0, 0, 0, 0),\n(46, 1, 10, 0, 0, 1, 0),\n(55, 1, 21, 0, 0, 0, 0),\n(56, 1, 27, 0, 0, 0, 0),\n(146, 1, 90, 0, 0, 0, 0),\n(145, 1, 90, 0, 0, 0, 0),\n(141, 1, 90, 0, 0, 0, 0),\n(150, 1, 90, 0, 0, 0, 0),\n(143, 1, 90, 0, 0, 0, 0),\n(149, 1, 90, 0, 0, 0, 0),\n(142, 1, 90, 0, 0, 0, 0),\n(138, 1, 90, 0, 0, 0, 0),\n(140, 1, 90, 0, 0, 0, 0),\n(136, 1, 90, 0, 0, 0, 0),\n(148, 1, 90, 0, 0, 0, 0),\n(137, 1, 18, 0, 0, 0, 0),\n(139, 1, 20, 0, 0, 0, 0),\n(144, 1, 21, 0, 0, 1, 0),\n(77, 2, 90, 1, 0, 0, 0),\n(85, 2, 90, 1, 0, 0, 0),\n(76, 2, 90, 0, 0, 1, 0),\n(82, 2, 90, 0, 0, 0, 0),\n(80, 2, 90, 0, 0, 0, 0),\n(83, 2, 90, 0, 0, 0, 0),\n(87, 2, 90, 0, 0, 0, 0),\n(90, 2, 90, 0, 0, 1, 0),\n(89, 2, 90, 0, 0, 0, 0),\n(79, 2, 90, 0, 1, 0, 0),\n(84, 2, 90, 0, 0, 0, 0),\n(86, 2, 21, 1, 0, 0, 0),\n(81, 2, 18, 0, 0, 0, 0),\n(78, 2, 14, 0, 0, 1, 0),\n(95, 2, 90, 0, 0, 0, 0),\n(98, 2, 90, 0, 0, 0, 0),\n(103, 2, 90, 0, 0, 0, 0),\n(102, 2, 90, 0, 0, 0, 0),\n(96, 2, 90, 0, 0, 0, 0),\n(101, 2, 90, 0, 0, 0, 0),\n(105, 2, 90, 0, 0, 0, 0),\n(93, 2, 90, 0, 0, 0, 0),\n(100, 2, 90, 0, 0, 0, 0),\n(91, 2, 90, 0, 0, 0, 0),\n(94, 2, 90, 0, 0, 0, 0),\n(104, 2, 29, 0, 0, 0, 0),\n(92, 2, 29, 0, 0, 0, 0),\n(99, 2, 18, 0, 0, 0, 0),\n(135, 3, 90, 1, 0, 0, 0),\n(124, 3, 90, 0, 0, 0, 0),\n(121, 3, 90, 0, 0, 0, 0),\n(133, 3, 90, 0, 0, 0, 0),\n(126, 3, 90, 0, 0, 0, 0),\n(122, 3, 90, 0, 0, 0, 0),\n(123, 3, 90, 1, 0, 0, 0),\n(129, 3, 90, 0, 0, 0, 0),\n(125, 3, 90, 0, 0, 1, 0),\n(134, 3, 90, 1, 0, 0, 0),\n(128, 3, 90, 0, 0, 0, 0),\n(130, 3, 29, 0, 0, 0, 0),\n(131, 3, 24, 0, 0, 0, 0),\n(127, 3, 22, 0, 1, 0, 0),\n(31, 3, 90, 0, 0, 0, 0),\n(37, 3, 90, 0, 1, 0, 0),\n(44, 3, 90, 0, 0, 0, 0),\n(39, 3, 90, 0, 0, 0, 0),\n(43, 3, 90, 0, 0, 1, 0),\n(41, 3, 90, 0, 0, 0, 0),\n(33, 3, 90, 0, 0, 1, 0),\n(38, 3, 90, 0, 0, 0, 0),\n(36, 3, 90, 0, 0, 1, 0),\n(45, 3, 90, 0, 0, 0, 0),\n(42, 3, 90, 0, 0, 0, 0),\n(32, 3, 15, 0, 1, 0, 0),\n(40, 3, 29, 2, 0, 1, 0),\n(35, 3, 10, 0, 0, 0, 0),\n(110, 4, 90, 1, 0, 0, 0),\n(116, 4, 90, 0, 0, 1, 0),\n(117, 4, 90, 0, 0, 0, 0),\n(114, 4, 90, 0, 0, 0, 0),\n(119, 4, 90, 0, 0, 0, 0),\n(109, 4, 90, 0, 0, 0, 0),\n(113, 4, 90, 0, 0, 0, 0),\n(118, 4, 90, 0, 0, 0, 0),\n(107, 4, 90, 0, 0, 1, 0),\n(108, 4, 90, 1, 1, 0, 0),\n(106, 4, 90, 0, 0, 0, 0),\n(111, 4, 11, 0, 0, 0, 0),\n(112, 4, 13, 0, 0, 0, 0),\n(120, 4, 22, 0, 0, 0, 0),\n(30, 4, 90, 0, 0, 0, 0),\n(26, 4, 90, 0, 0, 0, 0),\n(23, 4, 90, 0, 0, 0, 0),\n(18, 4, 90, 0, 0, 1, 0),\n(22, 4, 90, 0, 0, 0, 0),\n(24, 4, 90, 0, 0, 0, 0),\n(19, 4, 90, 0, 0, 0, 0),\n(20, 4, 90, 0, 0, 0, 0),\n(28, 4, 90, 0, 0, 0, 0),\n(29, 4, 90, 0, 0, 0, 0),\n(21, 4, 90, 0, 0, 0, 0),\n(17, 4, 27, 0, 0, 0, 0),\n(27, 4, 21, 0, 0, 0, 0),\n(25, 4, 15, 0, 0, 0, 0),\n(68, 5, 90, 1, 0, 0, 0),\n(61, 5, 90, 0, 0, 0, 0),\n(65, 5, 90, 1, 0, 0, 0),\n(71, 5, 90, 0, 0, 0, 0),\n(73, 5, 90, 0, 0, 0, 0),\n(72, 5, 90, 0, 0, 0, 0),\n(74, 5, 90, 0, 0, 0, 0),\n(63, 5, 90, 0, 0, 0, 0),\n(67, 5, 90, 0, 0, 0, 0),\n(66, 5, 90, 0, 1, 0, 0),\n(64, 5, 90, 0, 0, 0, 0),\n(69, 5, 17, 0, 0, 0, 0),\n(75, 5, 19, 0, 0, 0, 0),\n(70, 5, 12, 0, 0, 0, 0),\n(7, 5, 90, 0, 0, 0, 0),\n(15, 5, 90, 0, 0, 1, 0),\n(6, 5, 90, 0, 0, 0, 0),\n(12, 5, 90, 1, 0, 0, 0),\n(11, 5, 90, 1, 0, 1, 0),\n(8, 5, 90, 0, 0, 0, 0),\n(13, 5, 90, 0, 0, 1, 0),\n(1, 5, 90, 0, 0, 0, 0),\n(5, 5, 90, 0, 0, 0, 0),\n(14, 5, 90, 0, 0, 0, 0),\n(10, 5, 90, 0, 0, 1, 0),\n(2, 5, 26, 0, 0, 0, 0),\n(9, 5, 18, 0, 0, 1, 0),\n(3, 5, 29, 0, 0, 0, 0),\n(5, 6, 90, 0, 0, 0, 0),\n(4, 6, 90, 0, 0, 0, 0),\n(7, 6, 90, 0, 0, 0, 0),\n(6, 6, 90, 0, 0, 1, 0),\n(2, 6, 90, 0, 0, 0, 0),\n(9, 6, 90, 1, 0, 0, 0),\n(15, 6, 90, 0, 0, 0, 0),\n(3, 6, 90, 0, 0, 0, 0),\n(8, 6, 90, 0, 0, 0, 0),\n(14, 6, 90, 0, 1, 0, 0),\n(13, 6, 90, 1, 1, 0, 0),\n(10, 6, 26, 0, 0, 0, 0),\n(11, 6, 23, 0, 0, 0, 0),\n(1, 6, 12, 0, 0, 0, 0),\n(106, 6, 90, 0, 0, 1, 0),\n(113, 6, 90, 0, 0, 0, 0),\n(116, 6, 90, 0, 0, 0, 0),\n(112, 6, 90, 0, 0, 0, 0),\n(107, 6, 90, 0, 0, 0, 0),\n(118, 6, 90, 0, 0, 0, 0),\n(117, 6, 90, 0, 0, 0, 0),\n(110, 6, 90, 0, 0, 0, 0),\n(109, 6, 90, 0, 0, 0, 0),\n(120, 6, 90, 0, 0, 0, 0),\n(114, 6, 90, 0, 0, 0, 0),\n(119, 6, 24, 0, 0, 0, 0),\n(111, 6, 25, 0, 0, 0, 0),\n(115, 6, 20, 0, 0, 0, 0),\n(27, 7, 90, 1, 0, 0, 0),\n(28, 7, 90, 0, 0, 0, 0),\n(25, 7, 90, 0, 0, 0, 0),\n(30, 7, 90, 0, 0, 1, 0),\n(18, 7, 90, 0, 0, 0, 0),\n(22, 7, 90, 0, 0, 0, 0),\n(29, 7, 90, 0, 0, 0, 0),\n(19, 7, 90, 0, 0, 0, 0),\n(21, 7, 90, 0, 1, 0, 0),\n(24, 7, 90, 1, 0, 0, 0),\n(23, 7, 90, 0, 0, 0, 0),\n(16, 7, 18, 0, 0, 0, 0),\n(26, 7, 20, 0, 0, 0, 0),\n(20, 7, 30, 0, 0, 0, 0),\n(51, 7, 90, 0, 0, 1, 0),\n(48, 7, 90, 0, 0, 0, 0),\n(59, 7, 90, 0, 0, 0, 0),\n(52, 7, 90, 0, 0, 0, 0),\n(57, 7, 90, 0, 0, 0, 0),\n(46, 7, 90, 0, 0, 0, 0),\n(55, 7, 90, 0, 0, 0, 0),\n(47, 7, 90, 0, 0, 0, 0),\n(53, 7, 90, 0, 0, 0, 0),\n(58, 7, 90, 0, 0, 0, 0),\n(50, 7, 90, 0, 0, 0, 0),\n(56, 7, 10, 0, 0, 0, 0),\n(60, 7, 30, 0, 0, 1, 0),\n(54, 7, 16, 0, 0, 1, 0),\n(31, 8, 90, 0, 0, 0, 0),\n(40, 8, 90, 0, 0, 0, 0),\n(42, 8, 90, 0, 0, 0, 0),\n(37, 8, 90, 0, 0, 0, 0),\n(41, 8, 90, 0, 0, 1, 0),\n(34, 8, 90, 0, 0, 0, 0),\n(39, 8, 90, 0, 0, 0, 0),\n(35, 8, 90, 0, 0, 0, 0),\n(36, 8, 90, 0, 0, 0, 0),\n(33, 8, 90, 0, 0, 0, 0),\n(32, 8, 90, 0, 0, 0, 0),\n(44, 8, 25, 0, 0, 0, 0),\n(43, 8, 11, 0, 0, 0, 0),\n(38, 8, 27, 0, 0, 0, 0),\n(150, 8, 90, 0, 0, 0, 0),\n(139, 8, 90, 1, 0, 0, 0),\n(142, 8, 90, 0, 0, 0, 0),\n(138, 8, 90, 0, 0, 0, 0),\n(137, 8, 90, 0, 0, 0, 0),\n(146, 8, 90, 0, 0, 0, 0),\n(143, 8, 90, 0, 0, 0, 0),\n(145, 8, 90, 0, 0, 0, 0),\n(144, 8, 90, 0, 0, 1, 0),\n(141, 8, 90, 0, 0, 0, 0),\n(147, 8, 90, 0, 0, 0, 0),\n(149, 8, 15, 0, 0, 0, 0),\n(140, 8, 19, 0, 0, 0, 0),\n(148, 8, 17, 0, 0, 0, 0),\n(105, 9, 90, 0, 1, 0, 0),\n(100, 9, 90, 0, 0, 0, 0),\n(102, 9, 90, 0, 0, 1, 0),\n(98, 9, 90, 0, 0, 0, 0),\n(103, 9, 90, 0, 0, 0, 0),\n(104, 9, 90, 0, 0, 0, 0),\n(95, 9, 90, 0, 0, 0, 0),\n(97, 9, 90, 1, 0, 0, 0),\n(92, 9, 90, 0, 0, 1, 0),\n(94, 9, 90, 0, 0, 0, 0),\n(96, 9, 90, 0, 0, 1, 0),\n(101, 9, 23, 0, 0, 0, 0),\n(99, 9, 11, 0, 0, 0, 0),\n(93, 9, 24, 0, 0, 0, 0),\n(131, 9, 90, 0, 0, 0, 0),\n(126, 9, 90, 0, 0, 0, 0),\n(123, 9, 90, 1, 1, 0, 0),\n(127, 9, 90, 0, 0, 0, 0),\n(132, 9, 90, 0, 0, 0, 0),\n(130, 9, 90, 1, 0, 0, 0),\n(122, 9, 90, 0, 0, 0, 0),\n(134, 9, 90, 0, 0, 0, 0),\n(125, 9, 90, 0, 0, 0, 0),\n(128, 9, 90, 0, 0, 1, 0),\n(124, 9, 90, 0, 0, 0, 0),\n(121, 9, 18, 0, 0, 0, 0),\n(129, 9, 16, 0, 0, 0, 0),\n(133, 9, 25, 0, 1, 0, 0),\n(79, 10, 90, 0, 0, 0, 0),\n(83, 10, 90, 0, 0, 0, 0),\n(85, 10, 90, 0, 0, 1, 0),\n(80, 10, 90, 0, 0, 0, 0),\n(82, 10, 90, 0, 1, 0, 0),\n(86, 10, 90, 0, 0, 0, 0),\n(84, 10, 90, 0, 0, 0, 0),\n(81, 10, 90, 2, 0, 0, 0),\n(77, 10, 90, 0, 0, 0, 0),\n(90, 10, 90, 0, 0, 0, 0),\n(78, 10, 90, 1, 0, 0, 0),\n(87, 10, 28, 0, 0, 0, 0),\n(89, 10, 18, 0, 0, 0, 0),\n(76, 10, 30, 0, 0, 1, 0),\n(73, 10, 90, 0, 0, 0, 0),\n(74, 10, 90, 0, 0, 0, 0),\n(67, 10, 90, 0, 0, 0, 0),\n(68, 10, 90, 0, 0, 0, 0),\n(62, 10, 90, 0, 0, 0, 0),\n(69, 10, 90, 0, 0, 0, 0),\n(64, 10, 90, 0, 0, 1, 0),\n(71, 10, 90, 0, 0, 0, 0),\n(66, 10, 90, 0, 0, 0, 0),\n(63, 10, 90, 0, 0, 0, 0),\n(61, 10, 90, 0, 0, 0, 0),\n(70, 10, 13, 0, 0, 0, 0),\n(75, 10, 24, 0, 0, 0, 0),\n(65, 10, 17, 0, 0, 0, 0),\n(3, 11, 90, 0, 0, 1, 0),\n(2, 11, 90, 0, 0, 0, 0),\n(14, 11, 90, 0, 0, 1, 0),\n(4, 11, 90, 0, 0, 1, 0),\n(10, 11, 90, 0, 0, 0, 0),\n(5, 11, 90, 0, 0, 0, 0),\n(6, 11, 90, 0, 0, 1, 0),\n(11, 11, 90, 0, 0, 0, 0),\n(1, 11, 90, 0, 0, 0, 0),\n(8, 11, 90, 0, 0, 0, 0),\n(9, 11, 90, 0, 0, 0, 0),\n(7, 11, 19, 0, 0, 0, 0),\n(15, 11, 22, 0, 0, 0, 0),\n(13, 11, 15, 0, 0, 0, 0),\n(85, 11, 90, 0, 0, 0, 0),\n(87, 11, 90, 0, 0, 1, 0),\n(88, 11, 90, 0, 0, 0, 0),\n(81, 11, 90, 0, 0, 0, 0),\n(77, 11, 90, 0, 0, 0, 0),\n(80, 11, 90, 0, 0, 0, 0),\n(90, 11, 90, 0, 0, 0, 0),\n(83, 11, 90, 0, 0, 1, 0),\n(86, 11, 90, 0, 0, 0, 0),\n(84, 11, 90, 0, 0, 0, 0),\n(79, 11, 90, 0, 0, 0, 0),\n(78, 11, 13, 0, 0, 0, 0),\n(76, 11, 26, 0, 0, 0, 0),\n(89, 11, 23, 0, 0, 0, 0),\n(27, 12, 90, 0, 0, 1, 0),\n(23, 12, 90, 0, 0, 0, 0),\n(19, 12, 90, 0, 0, 0, 0),\n(30, 12, 90, 0, 0, 0, 0),\n(22, 12, 90, 0, 0, 0, 0),\n(17, 12, 90, 0, 0, 1, 0),\n(26, 12, 90, 0, 0, 1, 0),\n(18, 12, 90, 0, 0, 0, 0),\n(20, 12, 90, 0, 0, 0, 0),\n(24, 12, 90, 0, 0, 0, 0),\n(16, 12, 90, 0, 0, 0, 0),\n(28, 12, 16, 0, 0, 0, 0),\n(21, 12, 20, 0, 0, 1, 0),\n(25, 12, 27, 0, 0, 0, 0),\n(135, 12, 90, 0, 0, 1, 0),\n(124, 12, 90, 0, 0, 0, 0),\n(133, 12, 90, 0, 0, 0, 0),\n(122, 12, 90, 0, 0, 0, 0),\n(134, 12, 90, 0, 0, 0, 0),\n(121, 12, 90, 0, 0, 0, 0),\n(132, 12, 90, 0, 0, 0, 0),\n(131, 12, 90, 0, 0, 0, 0),\n(130, 12, 90, 1, 0, 0, 0),\n(128, 12, 90, 0, 0, 0, 0),\n(126, 12, 90, 0, 0, 0, 0),\n(125, 12, 30, 0, 0, 0, 0),\n(127, 12, 28, 0, 1, 0, 0),\n(129, 12, 20, 0, 0, 0, 0),\n(41, 13, 90, 0, 0, 0, 0),\n(34, 13, 90, 0, 0, 0, 0),\n(40, 13, 90, 0, 0, 0, 0),\n(33, 13, 90, 0, 0, 0, 0),\n(38, 13, 90, 0, 0, 0, 0),\n(36, 13, 90, 0, 0, 0, 0),\n(35, 13, 90, 0, 0, 1, 0),\n(44, 13, 90, 0, 0, 0, 0),\n(42, 13, 90, 0, 0, 0, 0),\n(43, 13, 90, 0, 0, 0, 0),\n(37, 13, 90, 0, 0, 1, 0),\n(32, 13, 28, 0, 0, 0, 0),\n(31, 13, 15, 0, 0, 1, 0),\n(45, 13, 15, 0, 0, 1, 0),\n(52, 13, 90, 0, 0, 0, 0),\n(59, 13, 90, 0, 0, 0, 0),\n(57, 13, 90, 0, 0, 1, 0),\n(51, 13, 90, 0, 0, 0, 0),\n(60, 13, 90, 0, 0, 0, 0),\n(49, 13, 90, 0, 0, 0, 0),\n(58, 13, 90, 0, 1, 0, 0),\n(54, 13, 90, 0, 0, 0, 0),\n(56, 13, 90, 0, 0, 0, 0),\n(55, 13, 90, 1, 0, 0, 0),\n(50, 13, 90, 0, 0, 0, 0),\n(48, 13, 21, 0, 0, 0, 0),\n(46, 13, 17, 0, 0, 1, 0),\n(47, 13, 21, 0, 0, 0, 0),\n(66, 14, 90, 0, 0, 0, 0),\n(71, 14, 90, 0, 0, 0, 0),\n(74, 14, 90, 0, 0, 0, 0),\n(72, 14, 90, 0, 0, 0, 0),\n(75, 14, 90, 0, 0, 0, 0),\n(63, 14, 90, 0, 0, 0, 0),\n(73, 14, 90, 0, 0, 1, 0),\n(65, 14, 90, 0, 0, 2, 1),\n(70, 14, 90, 0, 0, 0, 0),\n(61, 14, 90, 0, 0, 0, 0),\n(68, 14, 90, 0, 0, 0, 0),\n(62, 14, 23, 0, 0, 0, 0),\n(69, 14, 26, 0, 0, 0, 0),\n(67, 14, 17, 1, 0, 0, 0),\n(92, 14, 90, 0, 0, 0, 0),\n(91, 14, 90, 0, 0, 0, 0),\n(96, 14, 90, 0, 0, 0, 0),\n(95, 14, 90, 0, 0, 0, 0),\n(104, 14, 90, 0, 0, 0, 0),\n(105, 14, 90, 0, 0, 1, 0),\n(93, 14, 90, 0, 0, 0, 0),\n(100, 14, 90, 0, 0, 0, 0),\n(101, 14, 90, 0, 0, 0, 0),\n(97, 14, 90, 0, 0, 0, 0),\n(102, 14, 90, 0, 0, 0, 0),\n(94, 14, 21, 0, 0, 0, 0),\n(98, 14, 22, 0, 0, 0, 0),\n(103, 14, 10, 0, 0, 0, 0),\n(149, 15, 90, 0, 0, 0, 0),\n(136, 15, 90, 0, 0, 1, 0),\n(139, 15, 90, 0, 1, 0, 0),\n(145, 15, 90, 0, 0, 0, 0),\n(150, 15, 90, 0, 0, 0, 0),\n(146, 15, 90, 0, 0, 0, 0),\n(143, 15, 90, 0, 0, 0, 0),\n(141, 15, 90, 0, 0, 0, 0),\n(144, 15, 90, 0, 0, 0, 0),\n(147, 15, 90, 1, 0, 0, 0),\n(142, 15, 90, 1, 0, 0, 0),\n(138, 15, 25, 0, 0, 0, 0),\n(137, 15, 28, 0, 0, 0, 0),\n(140, 15, 25, 0, 1, 0, 0),\n(108, 15, 90, 0, 0, 0, 0),\n(115, 15, 90, 0, 0, 0, 0),\n(116, 15, 90, 0, 0, 0, 0),\n(112, 15, 90, 0, 0, 0, 0),\n(106, 15, 90, 0, 0, 0, 0),\n(120, 15, 90, 0, 1, 0, 0),\n(114, 15, 90, 0, 0, 0, 0),\n(111, 15, 90, 0, 0, 0, 0),\n(107, 15, 90, 0, 0, 0, 0),\n(118, 15, 90, 1, 0, 1, 0),\n(113, 15, 90, 0, 0, 0, 0),\n(110, 15, 18, 0, 0, 0, 0),\n(109, 15, 14, 0, 0, 0, 0),\n(117, 15, 27, 0, 0, 0, 0),\n(52, 16, 90, 0, 0, 0, 0),\n(55, 16, 90, 0, 0, 0, 0),\n(60, 16, 90, 0, 0, 1, 0),\n(54, 16, 90, 0, 0, 0, 0),\n(57, 16, 90, 0, 0, 0, 0),\n(56, 16, 90, 0, 0, 0, 0),\n(59, 16, 90, 0, 0, 0, 0),\n(50, 16, 90, 0, 0, 1, 0),\n(49, 16, 90, 0, 0, 0, 0),\n(53, 16, 90, 0, 0, 0, 0),\n(51, 16, 90, 0, 0, 0, 0),\n(48, 16, 19, 0, 0, 0, 0),\n(58, 16, 16, 0, 0, 0, 0),\n(46, 16, 20, 0, 0, 0, 0),\n(3, 16, 90, 0, 0, 0, 0),\n(14, 16, 90, 0, 0, 0, 0),\n(9, 16, 90, 0, 0, 0, 0),\n(11, 16, 90, 0, 0, 0, 0),\n(7, 16, 90, 0, 0, 0, 0),\n(1, 16, 90, 0, 0, 0, 0),\n(15, 16, 90, 0, 0, 0, 0),\n(8, 16, 90, 0, 0, 0, 0),\n(6, 16, 90, 0, 0, 0, 0),\n(12, 16, 90, 0, 0, 0, 0),\n(4, 16, 90, 0, 0, 0, 0),\n(13, 16, 14, 0, 0, 0, 0),\n(2, 16, 24, 0, 0, 1, 0),\n(10, 16, 19, 0, 0, 0, 0),\n(28, 17, 90, 0, 0, 0, 0),\n(30, 17, 90, 0, 0, 0, 0),\n(23, 17, 90, 0, 0, 0, 0),\n(18, 17, 90, 0, 0, 0, 0),\n(17, 17, 90, 0, 0, 0, 0),\n(21, 17, 90, 0, 0, 0, 0),\n(24, 17, 90, 0, 0, 0, 0),\n(20, 17, 90, 0, 0, 0, 0),\n(16, 17, 90, 0, 0, 0, 0),\n(22, 17, 90, 0, 0, 0, 0),\n(25, 17, 90, 0, 0, 1, 0),\n(27, 17, 28, 0, 0, 0, 0),\n(26, 17, 25, 0, 0, 0, 0),\n(29, 17, 12, 0, 0, 0, 0),\n(42, 17, 90, 0, 0, 0, 0),\n(32, 17, 90, 0, 0, 0, 0),\n(39, 17, 90, 0, 0, 0, 0),\n(34, 17, 90, 0, 0, 0, 0),\n(45, 17, 90, 0, 0, 0, 0),\n(31, 17, 90, 0, 0, 0, 0),\n(44, 17, 90, 0, 0, 0, 0),\n(41, 17, 90, 0, 0, 1, 0),\n(33, 17, 90, 0, 0, 0, 0),\n(36, 17, 90, 0, 0, 0, 0),\n(37, 17, 90, 0, 0, 0, 0),\n(43, 17, 15, 0, 0, 0, 0),\n(40, 17, 13, 0, 0, 0, 0),\n(38, 17, 20, 0, 0, 0, 0),\n(121, 18, 90, 1, 0, 0, 0),\n(131, 18, 90, 0, 0, 0, 0),\n(132, 18, 90, 1, 0, 0, 0),\n(124, 18, 90, 0, 1, 0, 0),\n(126, 18, 90, 0, 0, 0, 0),\n(125, 18, 90, 0, 1, 0, 0),\n(134, 18, 90, 0, 0, 1, 0),\n(122, 18, 90, 0, 0, 2, 1),\n(135, 18, 90, 1, 0, 0, 0),\n(127, 18, 90, 0, 0, 0, 0),\n(128, 18, 90, 0, 0, 1, 0),\n(130, 18, 19, 0, 0, 0, 0),\n(123, 18, 13, 0, 0, 0, 0),\n(129, 18, 28, 0, 0, 0, 0),\n(61, 18, 90, 0, 0, 0, 0),\n(62, 18, 90, 0, 0, 0, 0),\n(63, 18, 90, 0, 0, 0, 0),\n(72, 18, 90, 0, 0, 0, 0),\n(64, 18, 90, 0, 0, 0, 0),\n(71, 18, 90, 0, 0, 0, 0),\n(66, 18, 90, 0, 0, 0, 0),\n(75, 18, 90, 0, 0, 0, 0),\n(70, 18, 90, 0, 0, 0, 0),\n(73, 18, 90, 0, 0, 0, 0),\n(68, 18, 90, 0, 0, 0, 0),\n(67, 18, 23, 0, 0, 0, 0),\n(74, 18, 17, 0, 0, 0, 0),\n(69, 18, 15, 0, 0, 0, 0),\n(98, 19, 90, 0, 0, 0, 0),\n(93, 19, 90, 0, 0, 0, 0),\n(102, 19, 90, 0, 0, 1, 0),\n(92, 19, 90, 0, 0, 1, 0),\n(94, 19, 90, 0, 0, 0, 0),\n(91, 19, 90, 0, 0, 0, 0),\n(103, 19, 90, 0, 0, 0, 0),\n(105, 19, 90, 0, 0, 0, 0),\n(99, 19, 90, 0, 0, 0, 0),\n(97, 19, 90, 0, 0, 0, 0),\n(104, 19, 90, 0, 0, 0, 0),\n(95, 19, 24, 0, 0, 0, 0),\n(101, 19, 14, 0, 0, 0, 0),\n(100, 19, 23, 0, 0, 0, 0),\n(139, 19, 90, 0, 0, 0, 0),\n(138, 19, 90, 0, 0, 0, 0),\n(149, 19, 90, 0, 0, 0, 0),\n(142, 19, 90, 0, 0, 1, 0),\n(147, 19, 90, 1, 0, 0, 0),\n(143, 19, 90, 0, 0, 0, 0),\n(144, 19, 90, 0, 0, 0, 0),\n(146, 19, 90, 0, 0, 0, 0),\n(148, 19, 90, 0, 0, 0, 0),\n(141, 19, 90, 0, 0, 1, 0),\n(140, 19, 90, 0, 0, 0, 0),\n(145, 19, 12, 0, 0, 0, 0),\n(137, 19, 11, 0, 0, 2, 1),\n(150, 19, 29, 0, 0, 0, 0),\n(114, 20, 90, 0, 0, 0, 0),\n(107, 20, 90, 0, 0, 0, 0),\n(116, 20, 90, 0, 1, 1, 0),\n(106, 20, 90, 0, 0, 0, 0),\n(119, 20, 90, 0, 0, 0, 0),\n(109, 20, 90, 0, 0, 0, 0),\n(108, 20, 90, 0, 0, 0, 0),\n(115, 20, 90, 0, 0, 0, 0),\n(112, 20, 90, 0, 0, 0, 0),\n(111, 20, 90, 0, 0, 0, 0),\n(110, 20, 90, 0, 0, 0, 0),\n(113, 20, 24, 0, 0, 0, 0),\n(118, 20, 30, 1, 0, 0, 0),\n(117, 20, 13, 0, 0, 0, 0),\n(81, 20, 90, 0, 0, 0, 0),\n(76, 20, 90, 0, 0, 0, 0),\n(87, 20, 90, 0, 0, 2, 1),\n(80, 20, 90, 0, 0, 0, 0),\n(85, 20, 90, 0, 0, 0, 0),\n(83, 20, 90, 0, 0, 0, 0),\n(89, 20, 90, 0, 0, 0, 0),\n(88, 20, 90, 0, 0, 1, 0),\n(86, 20, 90, 0, 0, 0, 0),\n(79, 20, 90, 0, 0, 0, 0),\n(77, 20, 90, 0, 0, 0, 0),\n(78, 20, 10, 0, 0, 0, 0),\n(82, 20, 15, 0, 0, 2, 1),\n(90, 20, 20, 0, 0, 0, 0),\n(9, 21, 90, 0, 0, 0, 0),\n(4, 21, 90, 0, 0, 2, 1),\n(8, 21, 90, 0, 0, 0, 0),\n(7, 21, 90, 0, 0, 0, 0),\n(3, 21, 90, 0, 0, 0, 0),\n(6, 21, 90, 0, 0, 0, 0),\n(14, 21, 90, 1, 0, 1, 0),\n(15, 21, 90, 0, 0, 0, 0),\n(2, 21, 90, 0, 0, 0, 0),\n(10, 21, 90, 0, 0, 0, 0),\n(1, 21, 90, 0, 1, 0, 0),\n(11, 21, 14, 0, 0, 0, 0),\n(13, 21, 20, 0, 0, 0, 0),\n(5, 21, 13, 0, 0, 0, 0),\n(26, 21, 90, 0, 0, 0, 0),\n(23, 21, 90, 0, 0, 0, 0),\n(27, 21, 90, 0, 0, 0, 0),\n(16, 21, 90, 0, 0, 0, 0),\n(17, 21, 90, 0, 0, 0, 0),\n(29, 21, 90, 0, 0, 0, 0),\n(20, 21, 90, 0, 0, 0, 0),\n(24, 21, 90, 0, 0, 0, 0),\n(21, 21, 90, 0, 0, 0, 0),\n(28, 21, 90, 0, 0, 1, 0),\n(30, 21, 90, 0, 0, 1, 0),\n(19, 21, 27, 0, 0, 0, 0),\n(22, 21, 20, 0, 0, 1, 0),\n(18, 21, 10, 0, 0, 0, 0),\n(36, 22, 90, 0, 0, 0, 0),\n(35, 22, 90, 0, 0, 0, 0),\n(32, 22, 90, 1, 2, 0, 0),\n(31, 22, 90, 0, 0, 1, 0),\n(34, 22, 90, 0, 0, 0, 0),\n(33, 22, 90, 0, 0, 0, 0),\n(40, 22, 90, 0, 0, 0, 0),\n(38, 22, 90, 0, 0, 0, 0),\n(43, 22, 90, 0, 0, 0, 0),\n(41, 22, 90, 0, 0, 0, 0),\n(42, 22, 90, 1, 0, 0, 0),\n(39, 22, 29, 0, 0, 0, 0),\n(37, 22, 17, 0, 0, 0, 0),\n(44, 22, 14, 0, 0, 0, 0),\n(112, 22, 90, 1, 0, 0, 0),\n(115, 22, 90, 0, 0, 0, 0),\n(118, 22, 90, 0, 0, 0, 0),\n(120, 22, 90, 0, 0, 0, 0),\n(107, 22, 90, 0, 0, 1, 0),\n(110, 22, 90, 0, 0, 0, 0),\n(109, 22, 90, 0, 0, 0, 0),\n(114, 22, 90, 0, 1, 0, 0),\n(113, 22, 90, 0, 0, 0, 0),\n(111, 22, 90, 0, 0, 0, 0),\n(117, 22, 90, 0, 0, 1, 0),\n(116, 22, 16, 0, 0, 0, 0),\n(108, 22, 18, 0, 0, 0, 0),\n(119, 22, 26, 1, 0, 0, 0),\n(71, 23, 90, 0, 0, 0, 0),\n(68, 23, 90, 0, 1, 0, 0),\n(62, 23, 90, 0, 0, 0, 0),\n(70, 23, 90, 0, 0, 0, 0),\n(64, 23, 90, 1, 0, 1, 0),\n(73, 23, 90, 0, 0, 0, 0),\n(66, 23, 90, 0, 0, 0, 0),\n(74, 23, 90, 0, 0, 1, 0),\n(69, 23, 90, 0, 0, 0, 0),\n(61, 23, 90, 0, 0, 0, 0),\n(63, 23, 90, 0, 0, 0, 0),\n(72, 23, 18, 0, 0, 0, 0),\n(75, 23, 15, 0, 0, 0, 0),\n(65, 23, 29, 0, 0, 0, 0),\n(60, 23, 90, 0, 0, 0, 0),\n(52, 23, 90, 0, 0, 0, 0),\n(54, 23, 90, 0, 0, 0, 0),\n(46, 23, 90, 0, 0, 0, 0),\n(49, 23, 90, 0, 0, 0, 0),\n(56, 23, 90, 0, 0, 0, 0),\n(51, 23, 90, 0, 0, 0, 0),\n(48, 23, 90, 0, 0, 0, 0),\n(53, 23, 90, 0, 0, 0, 0),\n(58, 23, 90, 0, 0, 0, 0),\n(47, 23, 90, 0, 0, 0, 0),\n(57, 23, 30, 0, 0, 0, 0),\n(50, 23, 16, 0, 0, 0, 0),\n(55, 23, 16, 0, 0, 0, 0),\n(86, 24, 90, 0, 0, 1, 0),\n(84, 24, 90, 0, 0, 0, 0),\n(78, 24, 90, 0, 0, 0, 0),\n(79, 24, 90, 0, 0, 0, 0),\n(76, 24, 90, 0, 0, 0, 0),\n(88, 24, 90, 0, 0, 0, 0),\n(82, 24, 90, 0, 0, 0, 0),\n(87, 24, 90, 0, 0, 0, 0),\n(89, 24, 90, 0, 0, 0, 0),\n(80, 24, 90, 0, 0, 0, 0),\n(85, 24, 90, 0, 0, 0, 0),\n(83, 24, 22, 0, 0, 0, 0),\n(77, 24, 10, 0, 0, 0, 0),\n(81, 24, 25, 0, 0, 1, 0),\n(125, 24, 90, 0, 0, 0, 0),\n(126, 24, 90, 0, 1, 0, 0),\n(130, 24, 90, 0, 0, 0, 0),\n(128, 24, 90, 0, 0, 0, 0),\n(133, 24, 90, 1, 0, 0, 0),\n(124, 24, 90, 0, 0, 0, 0),\n(122, 24, 90, 0, 0, 0, 0),\n(127, 24, 90, 0, 0, 1, 0),\n(132, 24, 90, 0, 0, 0, 0),\n(129, 24, 90, 0, 0, 0, 0),\n(123, 24, 90, 0, 0, 0, 0),\n(121, 24, 12, 0, 0, 0, 0),\n(131, 24, 22, 0, 0, 0, 0),\n(134, 24, 10, 0, 0, 0, 0),\n(141, 25, 90, 0, 0, 0, 0),\n(142, 25, 90, 0, 0, 0, 0),\n(139, 25, 90, 0, 0, 0, 0),\n(137, 25, 90, 0, 0, 0, 0),\n(150, 25, 90, 0, 0, 0, 0),\n(148, 25, 90, 0, 0, 0, 0),\n(136, 25, 90, 0, 0, 1, 0),\n(146, 25, 90, 0, 0, 1, 0),\n(145, 25, 90, 0, 0, 1, 0),\n(149, 25, 90, 0, 0, 0, 0),\n(143, 25, 90, 0, 0, 0, 0),\n(138, 25, 27, 0, 0, 0, 0),\n(147, 25, 22, 0, 0, 1, 0),\n(140, 25, 12, 0, 0, 0, 0),\n(100, 25, 90, 0, 0, 0, 0),\n(101, 25, 90, 0, 0, 0, 0),\n(102, 25, 90, 0, 0, 0, 0),\n(95, 25, 90, 0, 0, 0, 0),\n(97, 25, 90, 0, 1, 0, 0),\n(104, 25, 90, 0, 0, 0, 0),\n(103, 25, 90, 0, 0, 0, 0),\n(99, 25, 90, 0, 0, 0, 0),\n(94, 25, 90, 0, 0, 0, 0),\n(105, 25, 90, 2, 0, 0, 0),\n(98, 25, 90, 0, 0, 0, 0),\n(91, 25, 30, 0, 1, 0, 0),\n(93, 25, 24, 0, 0, 0, 0),\n(96, 25, 20, 0, 0, 0, 0),\n(11, 26, 90, 0, 0, 0, 0),\n(15, 26, 90, 0, 0, 0, 0),\n(8, 26, 90, 0, 0, 0, 0),\n(12, 26, 90, 0, 0, 1, 0),\n(14, 26, 90, 0, 0, 0, 0),\n(1, 26, 90, 0, 0, 1, 0),\n(4, 26, 90, 0, 0, 0, 0),\n(6, 26, 90, 0, 0, 0, 0),\n(7, 26, 90, 0, 0, 0, 0),\n(5, 26, 90, 0, 0, 0, 0),\n(9, 26, 90, 0, 0, 0, 0),\n(10, 26, 30, 0, 0, 0, 0),\n(13, 26, 10, 0, 0, 0, 0),\n(2, 26, 25, 0, 0, 0, 0),\n(41, 26, 90, 0, 0, 0, 0),\n(35, 26, 90, 0, 0, 0, 0),\n(32, 26, 90, 0, 0, 0, 0),\n(31, 26, 90, 0, 0, 0, 0),\n(36, 26, 90, 0, 0, 0, 0),\n(45, 26, 90, 0, 0, 0, 0),\n(34, 26, 90, 0, 0, 1, 0),\n(39, 26, 90, 0, 0, 0, 0),\n(42, 26, 90, 0, 0, 0, 0),\n(40, 26, 90, 0, 0, 0, 0),\n(37, 26, 90, 0, 0, 0, 0),\n(38, 26, 20, 0, 0, 0, 0),\n(44, 26, 20, 0, 0, 0, 0),\n(43, 26, 22, 0, 0, 1, 0),\n(30, 27, 90, 0, 0, 1, 0),\n(29, 27, 90, 0, 0, 0, 0),\n(23, 27, 90, 0, 0, 0, 0),\n(27, 27, 90, 0, 0, 0, 0),\n(25, 27, 90, 0, 0, 0, 0),\n(21, 27, 90, 0, 0, 0, 0),\n(28, 27, 90, 0, 0, 0, 0),\n(18, 27, 90, 0, 0, 0, 0),\n(22, 27, 90, 0, 0, 0, 0),\n(20, 27, 90, 0, 0, 1, 0),\n(17, 27, 90, 0, 0, 2, 1),\n(24, 27, 13, 0, 0, 0, 0),\n(16, 27, 26, 0, 0, 0, 0),\n(26, 27, 22, 0, 0, 1, 0),\n(63, 27, 90, 0, 0, 0, 0),\n(70, 27, 90, 0, 0, 0, 0),\n(68, 27, 90, 0, 0, 0, 0),\n(69, 27, 90, 0, 0, 0, 0),\n(62, 27, 90, 0, 0, 0, 0),\n(61, 27, 90, 0, 0, 0, 0),\n(74, 27, 90, 0, 0, 0, 0),\n(65, 27, 90, 0, 0, 1, 0),\n(71, 27, 90, 0, 0, 0, 0),\n(64, 27, 90, 0, 0, 0, 0),\n(66, 27, 90, 0, 0, 0, 0),\n(72, 27, 29, 0, 0, 0, 0),\n(75, 27, 21, 0, 0, 0, 0),\n(67, 27, 25, 0, 0, 0, 0),\n(47, 28, 90, 0, 0, 0, 0),\n(52, 28, 90, 0, 0, 0, 0),\n(50, 28, 90, 0, 0, 0, 0),\n(49, 28, 90, 0, 0, 0, 0),\n(51, 28, 90, 0, 0, 0, 0),\n(59, 28, 90, 0, 0, 0, 0),\n(54, 28, 90, 0, 0, 0, 0),\n(60, 28, 90, 0, 0, 0, 0),\n(58, 28, 90, 0, 0, 0, 0),\n(55, 28, 90, 0, 0, 0, 0),\n(48, 28, 90, 0, 0, 1, 0),\n(56, 28, 20, 0, 0, 0, 0),\n(53, 28, 19, 0, 0, 0, 0),\n(46, 28, 30, 0, 0, 0, 0),\n(84, 28, 90, 0, 0, 0, 0),\n(88, 28, 90, 0, 0, 0, 0),\n(87, 28, 90, 0, 0, 0, 0),\n(82, 28, 90, 0, 0, 0, 0),\n(89, 28, 90, 0, 0, 0, 0),\n(86, 28, 90, 0, 0, 0, 0),\n(77, 28, 90, 0, 0, 0, 0),\n(83, 28, 90, 0, 0, 0, 0),\n(76, 28, 90, 0, 0, 0, 0),\n(85, 28, 90, 0, 0, 0, 0),\n(81, 28, 90, 0, 0, 0, 0),\n(80, 28, 11, 0, 0, 1, 0),\n(79, 28, 19, 0, 0, 0, 0),\n(78, 28, 27, 0, 0, 0, 0),\n(132, 29, 90, 1, 1, 0, 0),\n(121, 29, 90, 0, 0, 0, 0),\n(126, 29, 90, 1, 0, 1, 0),\n(125, 29, 90, 0, 0, 1, 0),\n(128, 29, 90, 0, 0, 0, 0),\n(122, 29, 90, 0, 1, 0, 0),\n(124, 29, 90, 0, 0, 1, 0),\n(130, 29, 90, 0, 0, 1, 0),\n(135, 29, 90, 0, 0, 0, 0),\n(129, 29, 90, 0, 0, 0, 0),\n(133, 29, 90, 0, 0, 0, 0),\n(123, 29, 23, 0, 0, 0, 0),\n(127, 29, 27, 1, 0, 0, 0),\n(134, 29, 23, 0, 0, 1, 0),\n(143, 29, 90, 0, 0, 0, 0),\n(136, 29, 90, 0, 0, 0, 0),\n(140, 29, 90, 0, 0, 0, 0),\n(145, 29, 90, 0, 0, 0, 0),\n(142, 29, 90, 0, 0, 0, 0),\n(148, 29, 90, 0, 0, 0, 0),\n(150, 29, 90, 0, 0, 0, 0),\n(144, 29, 90, 0, 0, 0, 0),\n(137, 29, 90, 0, 0, 0, 0),\n(138, 29, 90, 0, 0, 0, 0),\n(149, 29, 90, 0, 0, 0, 0),\n(147, 29, 12, 0, 0, 0, 0),\n(141, 29, 27, 0, 0, 0, 0),\n(139, 29, 27, 0, 0, 0, 0),\n(111, 30, 90, 0, 0, 0, 0),\n(120, 30, 90, 0, 1, 0, 0),\n(119, 30, 90, 0, 0, 0, 0),\n(110, 30, 90, 0, 0, 0, 0),\n(118, 30, 90, 0, 0, 0, 0),\n(109, 30, 90, 1, 0, 0, 0),\n(115, 30, 90, 0, 0, 0, 0),\n(106, 30, 90, 0, 0, 0, 0),\n(107, 30, 90, 0, 0, 0, 0),\n(116, 30, 90, 0, 0, 0, 0),\n(114, 30, 90, 0, 0, 0, 0),\n(117, 30, 12, 0, 0, 0, 0),\n(112, 30, 18, 0, 0, 0, 0),\n(113, 30, 30, 0, 0, 0, 0),\n(93, 30, 90, 0, 0, 0, 0),\n(98, 30, 90, 0, 0, 0, 0),\n(101, 30, 90, 0, 0, 0, 0),\n(92, 30, 90, 0, 0, 0, 0),\n(91, 30, 90, 0, 0, 1, 0),\n(103, 30, 90, 0, 0, 0, 0),\n(94, 30, 90, 0, 0, 0, 0),\n(96, 30, 90, 0, 0, 0, 0),\n(102, 30, 90, 0, 0, 0, 0),\n(97, 30, 90, 0, 0, 0, 0),\n(95, 30, 90, 0, 0, 0, 0),\n(104, 30, 20, 1, 0, 0, 0),\n(100, 30, 15, 0, 0, 1, 0),\n(105, 30, 12, 0, 0, 0, 0),\n(100, 31, 90, 0, 0, 0, 0),\n(104, 31, 90, 0, 0, 0, 0),\n(91, 31, 90, 0, 0, 0, 0),\n(94, 31, 90, 1, 0, 1, 0),\n(98, 31, 90, 1, 0, 0, 0),\n(93, 31, 90, 0, 0, 0, 0),\n(101, 31, 90, 1, 0, 0, 0),\n(97, 31, 90, 0, 0, 0, 0),\n(102, 31, 90, 0, 0, 0, 0),\n(99, 31, 90, 0, 0, 0, 0),\n(103, 31, 90, 0, 0, 1, 0),\n(95, 31, 19, 0, 0, 0, 0),\n(92, 31, 27, 0, 0, 0, 0),\n(105, 31, 23, 0, 2, 0, 0),\n(14, 31, 90, 0, 0, 1, 0),\n(8, 31, 90, 0, 0, 0, 0),\n(6, 31, 90, 0, 0, 0, 0),\n(4, 31, 90, 0, 0, 0, 0),\n(10, 31, 90, 0, 0, 0, 0),\n(5, 31, 90, 0, 0, 0, 0),\n(7, 31, 90, 0, 0, 0, 0),\n(1, 31, 90, 0, 0, 1, 0),\n(9, 31, 90, 0, 0, 0, 0),\n(15, 31, 90, 0, 0, 0, 0),\n(3, 31, 90, 0, 0, 0, 0),\n(12, 31, 12, 0, 0, 0, 0),\n(13, 31, 20, 0, 0, 0, 0),\n(2, 31, 30, 0, 0, 1, 0),\n(139, 32, 90, 0, 1, 0, 0),\n(147, 32, 90, 0, 0, 0, 0),\n(141, 32, 90, 1, 0, 0, 0),\n(137, 32, 90, 0, 0, 0, 0),\n(145, 32, 90, 0, 0, 0, 0),\n(138, 32, 90, 0, 0, 1, 0),\n(143, 32, 90, 0, 0, 0, 0),\n(148, 32, 90, 0, 0, 0, 0),\n(150, 32, 90, 0, 0, 0, 0),\n(144, 32, 90, 0, 0, 1, 0),\n(140, 32, 90, 0, 0, 0, 0),\n(146, 32, 25, 0, 0, 0, 0),\n(142, 32, 15, 0, 0, 0, 0),\n(136, 32, 26, 0, 0, 0, 0),\n(25, 32, 90, 0, 0, 0, 0),\n(21, 32, 90, 0, 0, 0, 0),\n(16, 32, 90, 0, 0, 0, 0),\n(30, 32, 90, 0, 0, 1, 0),\n(17, 32, 90, 1, 0, 1, 0),\n(22, 32, 90, 0, 0, 0, 0),\n(28, 32, 90, 0, 0, 0, 0),\n(27, 32, 90, 0, 0, 1, 0),\n(23, 32, 90, 0, 0, 0, 0),\n(18, 32, 90, 0, 0, 0, 0),\n(26, 32, 90, 0, 1, 0, 0),\n(29, 32, 14, 0, 0, 1, 0),\n(24, 32, 10, 0, 0, 0, 0),\n(20, 32, 10, 0, 0, 0, 0),\n(35, 33, 90, 0, 0, 0, 0),\n(42, 33, 90, 0, 0, 0, 0),\n(31, 33, 90, 0, 0, 0, 0),\n(41, 33, 90, 0, 0, 1, 0),\n(36, 33, 90, 0, 0, 0, 0),\n(37, 33, 90, 0, 0, 1, 0),\n(39, 33, 90, 0, 0, 0, 0),\n(45, 33, 90, 0, 0, 0, 0),\n(32, 33, 90, 0, 0, 0, 0),\n(44, 33, 90, 0, 0, 0, 0),\n(38, 33, 90, 0, 0, 0, 0),\n(33, 33, 26, 0, 0, 0, 0),\n(34, 33, 10, 0, 0, 0, 0),\n(40, 33, 19, 0, 0, 0, 0),\n(89, 33, 90, 0, 0, 0, 0),\n(79, 33, 90, 0, 0, 0, 0),\n(85, 33, 90, 0, 0, 0, 0),\n(78, 33, 90, 0, 0, 0, 0),\n(87, 33, 90, 0, 0, 0, 0),\n(76, 33, 90, 0, 0, 1, 0),\n(86, 33, 90, 0, 0, 0, 0),\n(77, 33, 90, 0, 0, 1, 0),\n(83, 33, 90, 0, 0, 0, 0),\n(90, 33, 90, 0, 0, 0, 0),\n(84, 33, 90, 0, 0, 0, 0),\n(88, 33, 12, 0, 0, 0, 0),\n(81, 33, 24, 0, 0, 0, 0),\n(82, 33, 26, 0, 0, 0, 0),\n(57, 34, 90, 1, 0, 0, 0),\n(56, 34, 90, 0, 1, 0, 0),\n(53, 34, 90, 0, 0, 0, 0),\n(58, 34, 90, 0, 1, 1, 0),\n(54, 34, 90, 0, 0, 0, 0),\n(52, 34, 90, 0, 0, 0, 0),\n(50, 34, 90, 0, 0, 0, 0),\n(46, 34, 90, 0, 0, 0, 0),\n(55, 34, 90, 0, 0, 0, 0),\n(59, 34, 90, 0, 0, 0, 0),\n(48, 34, 90, 2, 0, 0, 0),\n(49, 34, 14, 0, 0, 0, 0),\n(47, 34, 25, 0, 0, 1, 0),\n(60, 34, 23, 0, 0, 0, 0),\n(122, 34, 90, 0, 0, 0, 0),\n(124, 34, 90, 0, 0, 0, 0),\n(135, 34, 90, 0, 0, 0, 0),\n(128, 34, 90, 0, 0, 0, 0),\n(132, 34, 90, 0, 0, 0, 0),\n(123, 34, 90, 0, 0, 0, 0),\n(129, 34, 90, 1, 0, 1, 0),\n(127, 34, 90, 1, 0, 0, 0),\n(126, 34, 90, 0, 0, 0, 0),\n(131, 34, 90, 0, 0, 0, 0),\n(133, 34, 90, 0, 0, 1, 0),\n(121, 34, 17, 0, 2, 0, 0),\n(130, 34, 21, 0, 0, 0, 0),\n(134, 34, 29, 0, 0, 1, 0),\n(62, 35, 90, 0, 0, 0, 0),\n(67, 35, 90, 0, 0, 0, 0),\n(74, 35, 90, 0, 0, 0, 0),\n(73, 35, 90, 0, 0, 0, 0),\n(72, 35, 90, 0, 0, 1, 0),\n(63, 35, 90, 0, 0, 0, 0),\n(71, 35, 90, 0, 0, 0, 0),\n(61, 35, 90, 0, 0, 0, 0),\n(66, 35, 90, 0, 0, 1, 0),\n(64, 35, 90, 0, 0, 0, 0),\n(65, 35, 90, 0, 0, 0, 0),\n(70, 35, 23, 0, 0, 0, 0),\n(68, 35, 26, 0, 0, 1, 0),\n(69, 35, 19, 0, 0, 0, 0),\n(116, 35, 90, 0, 0, 0, 0),\n(112, 35, 90, 0, 0, 0, 0),\n(114, 35, 90, 0, 0, 0, 0),\n(115, 35, 90, 0, 0, 1, 0),\n(107, 35, 90, 0, 0, 0, 0),\n(109, 35, 90, 0, 0, 0, 0),\n(117, 35, 90, 0, 0, 0, 0),\n(120, 35, 90, 0, 0, 0, 0),\n(110, 35, 90, 0, 0, 0, 0),\n(113, 35, 90, 0, 0, 0, 0),\n(119, 35, 90, 0, 0, 1, 0),\n(108, 35, 21, 0, 0, 0, 0),\n(118, 35, 25, 0, 0, 0, 0),\n(111, 35, 13, 0, 0, 0, 0);\n</code></pre>"},{"location":"temas/04/res/liga_futbol_ER.html","title":"liga futbol ER","text":"<pre><code>erDiagram\n    Estadio {\n        int id PK\n        string nombre\n        int capacidad\n        string ciudad\n        string direccion\n        year anioInauguracion\n        boolean tieneCespedNatural\n    }\n    Equipo {\n        int id PK\n        string codigo\n        string nombre\n        int anioFundacion\n        decimal presupuesto\n        text webOficial\n        int estadioID FK\n    }\n    Entrenador {\n        int id PK\n        string dni\n        string nombre\n        string apellido\n        double salario\n        date fechaNacimiento\n        int equipoID FK\n    }\n    Jugador {\n        int id PK\n        string numeroLicencia\n        string nombre\n        string apellido\n        int dorsal\n        enum posicion\n        date fechaNacimiento\n        float altura\n        double peso\n        int equipoID FK\n        int mentorID FK\n    }\n    Arbitro {\n        int id PK\n        int numeroColegiado\n        string nombre\n        string apellido\n        date fechaInicioArbitraje\n        string categoria\n    }\n    Temporada {\n        int id PK\n        string nombre\n        date fechaInicio\n        date fechaFin\n        boolean esActiva\n    }\n    Jornada {\n        int id PK\n        int numero\n        date fechaInicio\n        int temporadaID FK\n    }\n    Partido {\n        int id PK\n        string codigo\n        datetime fechaHora\n        string clima\n        int asistencia\n        int equipoLocalID FK\n        int equipoVisitanteID FK\n        int arbitroID FK\n        int jornadaID FK\n        int estadioID FK\n    }\n    EstadisticaPartido {\n        int jugadorID PK,FK\n        int partidoID PK,FK\n        int minutosJugados\n        int goles\n        int asistencias\n        int tarjetasAmarilla\n        int tarjetasRoja\n    }\n    Patrocinador {\n        int id PK\n        string nombreEmpresa\n        string sector\n        string tipoContrato\n        string emailContacto\n    }\n    ContratoPatrocinio {\n        int equipoID PK,FK\n        int patrocinadorID PK,FK\n        date fechaFirma\n        int duracionMeses\n        decimal montoTotal\n        string ubicacionLogo\n    }\n    HistorialTraspaso {\n        int id PK\n        int jugadorID FK\n        int equipoOrigenID FK\n        int equipoDestinoID FK\n        date fechaTraspaso\n        decimal costo\n    }\n\n    Estadio ||..|| Equipo : \"es sede de\"\n    Equipo ||..|| Entrenador : \"entrenado por\"\n    Equipo ||--|{ Jugador : \"tiene\"\n    Jugador |o..o| Jugador : \"mentorea\"\n    Temporada ||--|{ Jornada : \"tiene\"\n    Jornada ||--|{ Partido : \"contiene\"\n    Equipo ||--|{ Partido : \"juega como local\"\n    Equipo ||--|{ Partido : \"juega como visitante\"\n    Arbitro ||--|{ Partido : \"arbitra\"\n    Estadio ||--|{ Partido : \"alberga\"\n    Jugador ||--|{ EstadisticaPartido : \"tiene\"\n    Partido ||--|{ EstadisticaPartido : \"registra\"\n    Equipo ||--|{ ContratoPatrocinio : \"firma\"\n    Patrocinador ||--|{ ContratoPatrocinio : \"patrocina\"\n    Jugador ||--|{ HistorialTraspaso : \"traspasado\"\n    Equipo ||--|{ HistorialTraspaso : \"origen\"\n    Equipo ||--|{ HistorialTraspaso : \"destino\"</code></pre>"},{"location":"temas/04/res/tienda_informatica.html","title":"Base de datos de una Tienda Inform\u00e1tica","text":""},{"location":"temas/04/res/tienda_informatica.html#base-de-datos-de-una-tienda-informatica","title":"Base de datos de una Tienda Inform\u00e1tica","text":""},{"location":"temas/04/res/tienda_informatica.html#modelo-relacional","title":"Modelo Relacional","text":""},{"location":"temas/04/res/tienda_informatica.html#script-creacion-y-datos-de-prueba","title":"Script creaci\u00f3n y datos de prueba","text":"<pre><code>DROP DATABASE IF EXISTS tienda;\nCREATE DATABASE tienda CHARACTER SET utf8mb4;\nUSE tienda;\n\nCREATE TABLE fabricante (\n  id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n  nombre VARCHAR(100) NOT NULL\n);\n\nCREATE TABLE producto (\n  id INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,\n  nombre VARCHAR(100) NOT NULL,\n  precio DOUBLE NOT NULL,\n  id_fabricante INT UNSIGNED NOT NULL,\n  FOREIGN KEY (id_fabricante) REFERENCES fabricante(id)\n);\n\nINSERT INTO fabricante VALUES(1, 'Asus');\nINSERT INTO fabricante VALUES(2, 'Lenovo');\nINSERT INTO fabricante VALUES(3, 'Hewlett-Packard');\nINSERT INTO fabricante VALUES(4, 'Samsung');\nINSERT INTO fabricante VALUES(5, 'Seagate');\nINSERT INTO fabricante VALUES(6, 'Crucial');\nINSERT INTO fabricante VALUES(7, 'Gigabyte');\nINSERT INTO fabricante VALUES(8, 'Huawei');\nINSERT INTO fabricante VALUES(9, 'Xiaomi');\n\nINSERT INTO producto VALUES(1, 'Disco duro SATA3 1TB', 86.99, 5);\nINSERT INTO producto VALUES(2, 'Memoria RAM DDR4 8GB', 120, 6);\nINSERT INTO producto VALUES(3, 'Disco SSD 1 TB', 150.99, 4);\nINSERT INTO producto VALUES(4, 'GeForce GTX 1050Ti', 185, 7);\nINSERT INTO producto VALUES(5, 'GeForce GTX 1080 Xtreme', 755, 6);\nINSERT INTO producto VALUES(6, 'Monitor 24 LED Full HD', 202, 1);\nINSERT INTO producto VALUES(7, 'Monitor 27 LED Full HD', 245.99, 1);\nINSERT INTO producto VALUES(8, 'Port\u00e1til Yoga 520', 559, 2);\nINSERT INTO producto VALUES(9, 'Port\u00e1til Ideapd 320', 444, 2);\nINSERT INTO producto VALUES(10, 'Impresora HP Deskjet 3720', 59.99, 3);\nINSERT INTO producto VALUES(11, 'Impresora HP Laserjet Pro M26nw', 180, 3);\n</code></pre>"}]}